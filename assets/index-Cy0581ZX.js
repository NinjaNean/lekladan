(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function ZT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yf={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function JT(){if(Ny)return so;Ny=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return so.Fragment=e,so.jsx=r,so.jsxs=r,so}var Oy;function WT(){return Oy||(Oy=1,Yf.exports=JT()),Yf.exports}var Q=WT(),Kf={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function t2(){if(Vy)return Ht;Vy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,W={};function F(x,nt,dt){this.props=x,this.context=nt,this.refs=W,this.updater=dt||M}F.prototype.isReactComponent={},F.prototype.setState=function(x,nt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,nt,"setState")},F.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=F.prototype;function rt(x,nt,dt){this.props=x,this.context=nt,this.refs=W,this.updater=dt||M}var ut=rt.prototype=new J;ut.constructor=rt,U(ut,F.prototype),ut.isPureReactComponent=!0;var gt=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function N(x,nt,dt,lt,At,jt){return dt=jt.ref,{$$typeof:i,type:x,key:nt,ref:dt!==void 0?dt:null,props:jt}}function R(x,nt){return N(x.type,nt,void 0,void 0,void 0,x.props)}function w(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function O(x){var nt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(dt){return nt[dt]})}var L=/\/+/g;function P(x,nt){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):nt.toString(36)}function C(){}function Bt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(nt){x.status==="pending"&&(x.status="fulfilled",x.value=nt)},function(nt){x.status==="pending"&&(x.status="rejected",x.reason=nt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Kt(x,nt,dt,lt,At){var jt=typeof x;(jt==="undefined"||jt==="boolean")&&(x=null);var wt=!1;if(x===null)wt=!0;else switch(jt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(x.$$typeof){case i:case e:wt=!0;break;case E:return wt=x._init,Kt(wt(x._payload),nt,dt,lt,At)}}if(wt)return At=At(x),wt=lt===""?"."+P(x,0):lt,gt(At)?(dt="",wt!=null&&(dt=wt.replace(L,"$&/")+"/"),Kt(At,nt,dt,"",function(Gn){return Gn})):At!=null&&(w(At)&&(At=R(At,dt+(At.key==null||x&&x.key===At.key?"":(""+At.key).replace(L,"$&/")+"/")+wt)),nt.push(At)),1;wt=0;var Ve=lt===""?".":lt+":";if(gt(x))for(var ge=0;ge<x.length;ge++)lt=x[ge],jt=Ve+P(lt,ge),wt+=Kt(lt,nt,dt,jt,At);else if(ge=b(x),typeof ge=="function")for(x=ge.call(x),ge=0;!(lt=x.next()).done;)lt=lt.value,jt=Ve+P(lt,ge++),wt+=Kt(lt,nt,dt,jt,At);else if(jt==="object"){if(typeof x.then=="function")return Kt(Bt(x),nt,dt,lt,At);throw nt=String(x),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Y(x,nt,dt){if(x==null)return x;var lt=[],At=0;return Kt(x,lt,"","",function(jt){return nt.call(dt,jt,At++)}),lt}function ht(x){if(x._status===-1){var nt=x._result;nt=nt(),nt.then(function(dt){(x._status===0||x._status===-1)&&(x._status=1,x._result=dt)},function(dt){(x._status===0||x._status===-1)&&(x._status=2,x._result=dt)}),x._status===-1&&(x._status=0,x._result=nt)}if(x._status===1)return x._result.default;throw x._result}var yt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Pt(){}return Ht.Children={map:Y,forEach:function(x,nt,dt){Y(x,function(){nt.apply(this,arguments)},dt)},count:function(x){var nt=0;return Y(x,function(){nt++}),nt},toArray:function(x){return Y(x,function(nt){return nt})||[]},only:function(x){if(!w(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ht.Component=F,Ht.Fragment=r,Ht.Profiler=o,Ht.PureComponent=rt,Ht.StrictMode=s,Ht.Suspense=g,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(x){return mt.H.useMemoCache(x)}},Ht.cache=function(x){return function(){return x.apply(null,arguments)}},Ht.cloneElement=function(x,nt,dt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=U({},x.props),At=x.key,jt=void 0;if(nt!=null)for(wt in nt.ref!==void 0&&(jt=void 0),nt.key!==void 0&&(At=""+nt.key),nt)!H.call(nt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&nt.ref===void 0||(lt[wt]=nt[wt]);var wt=arguments.length-2;if(wt===1)lt.children=dt;else if(1<wt){for(var Ve=Array(wt),ge=0;ge<wt;ge++)Ve[ge]=arguments[ge+2];lt.children=Ve}return N(x.type,At,void 0,void 0,jt,lt)},Ht.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ht.createElement=function(x,nt,dt){var lt,At={},jt=null;if(nt!=null)for(lt in nt.key!==void 0&&(jt=""+nt.key),nt)H.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(At[lt]=nt[lt]);var wt=arguments.length-2;if(wt===1)At.children=dt;else if(1<wt){for(var Ve=Array(wt),ge=0;ge<wt;ge++)Ve[ge]=arguments[ge+2];At.children=Ve}if(x&&x.defaultProps)for(lt in wt=x.defaultProps,wt)At[lt]===void 0&&(At[lt]=wt[lt]);return N(x,jt,void 0,void 0,null,At)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(x){return{$$typeof:m,render:x}},Ht.isValidElement=w,Ht.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ht}},Ht.memo=function(x,nt){return{$$typeof:y,type:x,compare:nt===void 0?null:nt}},Ht.startTransition=function(x){var nt=mt.T,dt={};mt.T=dt;try{var lt=x(),At=mt.S;At!==null&&At(dt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Pt,yt)}catch(jt){yt(jt)}finally{mt.T=nt}},Ht.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Ht.use=function(x){return mt.H.use(x)},Ht.useActionState=function(x,nt,dt){return mt.H.useActionState(x,nt,dt)},Ht.useCallback=function(x,nt){return mt.H.useCallback(x,nt)},Ht.useContext=function(x){return mt.H.useContext(x)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(x,nt){return mt.H.useDeferredValue(x,nt)},Ht.useEffect=function(x,nt,dt){var lt=mt.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(x,nt)},Ht.useId=function(){return mt.H.useId()},Ht.useImperativeHandle=function(x,nt,dt){return mt.H.useImperativeHandle(x,nt,dt)},Ht.useInsertionEffect=function(x,nt){return mt.H.useInsertionEffect(x,nt)},Ht.useLayoutEffect=function(x,nt){return mt.H.useLayoutEffect(x,nt)},Ht.useMemo=function(x,nt){return mt.H.useMemo(x,nt)},Ht.useOptimistic=function(x,nt){return mt.H.useOptimistic(x,nt)},Ht.useReducer=function(x,nt,dt){return mt.H.useReducer(x,nt,dt)},Ht.useRef=function(x){return mt.H.useRef(x)},Ht.useState=function(x){return mt.H.useState(x)},Ht.useSyncExternalStore=function(x,nt,dt){return mt.H.useSyncExternalStore(x,nt,dt)},Ht.useTransition=function(){return mt.H.useTransition()},Ht.version="19.1.0",Ht}var Ly;function kd(){return Ly||(Ly=1,Kf.exports=t2()),Kf.exports}var $=kd();const Uy=ZT($);var Xf={exports:{}},lo={},$f={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function e2(){return Py||(Py=1,function(i){function e(Y,ht){var yt=Y.length;Y.push(ht);t:for(;0<yt;){var Pt=yt-1>>>1,x=Y[Pt];if(0<o(x,ht))Y[Pt]=ht,Y[yt]=x,yt=Pt;else break t}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ht=Y[0],yt=Y.pop();if(yt!==ht){Y[0]=yt;t:for(var Pt=0,x=Y.length,nt=x>>>1;Pt<nt;){var dt=2*(Pt+1)-1,lt=Y[dt],At=dt+1,jt=Y[At];if(0>o(lt,yt))At<x&&0>o(jt,lt)?(Y[Pt]=jt,Y[At]=yt,Pt=At):(Y[Pt]=lt,Y[dt]=yt,Pt=dt);else if(At<x&&0>o(jt,yt))Y[Pt]=jt,Y[At]=yt,Pt=At;else break t}}return ht}function o(Y,ht){var yt=Y.sortIndex-ht.sortIndex;return yt!==0?yt:Y.id-ht.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,b=3,M=!1,U=!1,W=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function gt(Y){for(var ht=r(y);ht!==null;){if(ht.callback===null)s(y);else if(ht.startTime<=Y)s(y),ht.sortIndex=ht.expirationTime,e(g,ht);else break;ht=r(y)}}function mt(Y){if(W=!1,gt(Y),!U)if(r(g)!==null)U=!0,H||(H=!0,P());else{var ht=r(y);ht!==null&&Kt(mt,ht.startTime-Y)}}var H=!1,N=-1,R=5,w=-1;function O(){return F?!0:!(i.unstable_now()-w<R)}function L(){if(F=!1,H){var Y=i.unstable_now();w=Y;var ht=!0;try{t:{U=!1,W&&(W=!1,rt(N),N=-1),M=!0;var yt=b;try{e:{for(gt(Y),A=r(g);A!==null&&!(A.expirationTime>Y&&O());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,b=A.priorityLevel;var x=Pt(A.expirationTime<=Y);if(Y=i.unstable_now(),typeof x=="function"){A.callback=x,gt(Y),ht=!0;break e}A===r(g)&&s(g),gt(Y)}else s(g);A=r(g)}if(A!==null)ht=!0;else{var nt=r(y);nt!==null&&Kt(mt,nt.startTime-Y),ht=!1}}break t}finally{A=null,b=yt,M=!1}ht=void 0}}finally{ht?P():H=!1}}}var P;if(typeof ut=="function")P=function(){ut(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Bt=C.port2;C.port1.onmessage=L,P=function(){Bt.postMessage(null)}}else P=function(){J(L,0)};function Kt(Y,ht){N=J(function(){Y(i.unstable_now())},ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var yt=b;b=ht;try{return Y()}finally{b=yt}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Y,ht){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=b;b=Y;try{return ht()}finally{b=yt}},i.unstable_scheduleCallback=function(Y,ht,yt){var Pt=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Pt+yt:Pt):yt=Pt,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=yt+x,Y={id:E++,callback:ht,priorityLevel:Y,startTime:yt,expirationTime:x,sortIndex:-1},yt>Pt?(Y.sortIndex=yt,e(y,Y),r(g)===null&&Y===r(y)&&(W?(rt(N),N=-1):W=!0,Kt(mt,yt-Pt))):(Y.sortIndex=x,e(g,Y),U||M||(U=!0,H||(H=!0,P()))),Y},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Y){var ht=b;return function(){var yt=b;b=ht;try{return Y.apply(this,arguments)}finally{b=yt}}}}(Zf)),Zf}var zy;function n2(){return zy||(zy=1,$f.exports=e2()),$f.exports}var Jf={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function r2(){if(ky)return dn;ky=1;var i=kd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},dn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},dn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},dn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},dn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:M}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:b,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},dn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},dn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},dn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},dn.requestFormReset=function(g){s.d.r(g)},dn.unstable_batchedUpdates=function(g,y){return g(y)},dn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var jy;function i2(){if(jy)return Jf.exports;jy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jf.exports=r2(),Jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function a2(){if(By)return lo;By=1;var i=n2(),e=kd(),r=i2();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case F:return"Profiler";case W:return"StrictMode";case mt:return"Suspense";case H:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case gt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Bt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Bt(t(n))}catch{}}return null}var Kt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Pt=[],x=-1;function nt(t){return{current:t}}function dt(t){0>x||(t.current=Pt[x],Pt[x]=null,x--)}function lt(t,n){x++,Pt[x]=t.current,t.current=n}var At=nt(null),jt=nt(null),wt=nt(null),Ve=nt(null);function ge(t,n){switch(lt(wt,n),lt(jt,t),lt(At,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sy(n),t=ly(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}dt(At),lt(At,t)}function Gn(){dt(At),dt(jt),dt(wt)}function Ae(t){t.memoizedState!==null&&lt(Ve,t);var n=At.current,a=ly(n,t.type);n!==a&&(lt(jt,t),lt(At,a))}function un(t){jt.current===t&&(dt(At),dt(jt)),Ve.current===t&&(dt(Ve),eo._currentValue=yt)}var yr=Object.prototype.hasOwnProperty,Fr=i.unstable_scheduleCallback,vn=i.unstable_cancelCallback,pa=i.unstable_shouldYield,es=i.unstable_requestPaint,_n=i.unstable_now,ol=i.unstable_getCurrentPriorityLevel,ya=i.unstable_ImmediatePriority,Ai=i.unstable_UserBlockingPriority,Qr=i.unstable_NormalPriority,cr=i.unstable_LowPriority,Fn=i.unstable_IdlePriority,bi=i.log,Ri=i.unstable_setDisableYieldValue,oe=null,qt=null;function cn(t){if(typeof bi=="function"&&Ri(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(oe,t)}catch{}}var Le=Math.clz32?Math.clz32:vr,ns=Math.log,Qn=Math.LN2;function vr(t){return t>>>=0,t===0?32:31-(ns(t)/Qn|0)|0}var _r=256,Er=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=In(l):(_&=T,_!==0?h=In(_):a||(a=T&~t,a!==0&&(h=In(a))))):(T=l&~d,T!==0?h=In(T):_!==0?h=In(_):a||(a=l&~t,a!==0&&(h=In(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(){var t=_r;return _r<<=1,(_r&4194048)===0&&(_r=256),t}function va(){var t=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),t}function Kn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ci(t,n,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var tt=31-Le(a),at=1<<tt;T[tt]=0,D[tt]=-1;var K=G[tt];if(K!==null)for(G[tt]=null,tt=0;tt<K.length;tt++){var X=K[tt];X!==null&&(X.lane&=-536870913)}a&=~at}l!==0&&En(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function En(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Le(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Tr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Le(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function I(){var t=ht.p;return t!==0?t:(t=window.event,t===void 0?32:wy(t.type))}function k(t,n){var a=ht.p;try{return ht.p=t,n()}finally{ht.p=a}}var q=Math.random().toString(36).slice(2),it="__reactFiber$"+q,ct="__reactProps$"+q,vt="__reactContainer$"+q,Ct="__reactEvents$"+q,_t="__reactListeners$"+q,Tt="__reactHandles$"+q,bt="__reactResources$"+q,Mt="__reactMarker$"+q;function St(t){delete t[it],delete t[ct],delete t[Ct],delete t[_t],delete t[Tt]}function Nt(t){var n=t[it];if(n)return n;for(var a=t.parentNode;a;){if(n=a[vt]||a[it]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=hy(t);t!==null;){if(a=t[it])return a;t=hy(t)}return n}t=a,a=t.parentNode}return null}function Xt(t){if(t=t[it]||t[vt]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ce(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function se(t){var n=t[bt];return n||(n=t[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(t){t[Mt]=!0}var Qt=new Set,Xn={};function Be(t,n){Tn(t,n),Tn(t+"Capture",n)}function Tn(t,n){for(Xn[t]=n,t=0;t<n.length;t++)Qt.add(n[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ar={},Nn={};function xi(t){return yr.call(Nn,t)?!0:yr.call(Ar,t)?!1:tn.test(t)?Nn[t]=!0:(Ar[t]=!0,!1)}function hn(t,n,a){if(xi(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Sn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ut(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ue,On;function wn(t){if(Ue===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",On=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+On}var br=!1;function Ee(t,n){if(!t||br)return"";br=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(X){var K=X}Reflect.construct(t,[],at)}else{try{at.call()}catch(X){K=X}t.call(at.prototype)}}else{try{throw Error()}catch(X){K=X}(at=t())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),G=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===G.length)for(l=D.length-1,h=G.length-1;1<=l&&0<=h&&D[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==G[h]){var tt=`
`+D[l].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=l&&0<=h);break}}}finally{br=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wn(a):""}function $n(t){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Ee(t.type,!1);case 11:return Ee(t.type.render,!1);case 1:return Ee(t.type,!0);case 31:return wn("Activity");default:return""}}function Xr(t){try{var n="";do n+=$n(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ul(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $c(t){var n=ul(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rs(t){t._valueTracker||(t._valueTracker=$c(t))}function cl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ul(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zc=/[\n"\\]/g;function Pe(t){return t.replace(Zc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vn(t,n,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Mi(t,_,en(n)):a!=null?Mi(t,_,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function Ea(t,n,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Mi(t,n,a){n==="number"&&_a(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $r(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pe(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function Ta(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Zn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Sa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function hl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&zo(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&zo(t,d,n[d])}function fl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(t){return Wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zr=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jr=null,Wr=null;function dl(t){var n=Xt(t);if(n&&(t=n.stateNode)){var a=t[ct]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ct]||null;if(!h)throw Error(s(90));Vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&cl(l)}break t;case"textarea":pe(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&$r(t,!!a.multiple,n,!1)}}}var Rr=!1;function ko(t,n,a){if(Rr)return t(n,a);Rr=!0;try{var l=t(n);return l}finally{if(Rr=!1,(Jr!==null||Wr!==null)&&(Nu(),Jr&&(n=Jr,t=Wr,Wr=Jr=null,dl(n),t)))for(n=0;n<t.length;n++)dl(t[n])}}function Aa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ct]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(fr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Wn=!1}var wr=null,Ii=null,ti=null;function ml(){if(ti)return ti;var t,n=Ii,a=n.length,l,h="value"in wr?wr.value:wr.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[d-l];l++);return ti=h.slice(t,1<l?1-l:void 0)}function Cr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Dr(){return!0}function gl(){return!1}function Ke(t){function n(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Dr:gl,this.isPropagationStopped=gl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),n}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Ke(he),Ra=E({},he,{view:0,detail:0}),jo=Ke(Ra),ss,ls,xr,wa=E({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(ss=t.screenX-xr.screenX,ls=t.screenY-xr.screenY):ls=ss=0,xr=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:ls}}),tr=Ke(wa),Bo=E({},wa,{dataTransfer:0}),th=Ke(Bo),Ca=E({},Ra,{relatedTarget:0}),os=Ke(Ca),pl=E({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),us=Ke(pl),Ho=E({},he,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cs=Ke(Ho),eh=E({},he,{data:0}),yl=Ke(eh),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Go[t])?!!n[t]:!1}function xa(){return vl}var Fo=E({},Ra,{key:function(t){if(t.key){var n=Da[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hs=Ke(Fo),Qo=E({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Ke(Qo),ei=E({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Yo=Ke(ei),Ko=E({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xo=Ke(Ko),$o=E({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Ke($o),An=E({},he,{newState:0,oldState:0}),Zo=Ke(An),Jo=[9,13,27,32],Mr=fr&&"CompositionEvent"in window,c=null;fr&&"documentMode"in document&&(c=document.documentMode);var p=fr&&"TextEvent"in window&&!c,v=fr&&(!Mr||c&&8<c&&11>=c),S=" ",j=!1;function Z(t,n){switch(t){case"keyup":return Jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ee=!1;function He(t,n){switch(t){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(j=!0,S);case"textInput":return t=n.data,t===S&&j?null:t;default:return null}}function ne(t,n){if(ee)return t==="compositionend"||!Mr&&Z(t,n)?(t=ml(),ti=Ii=wr=null,ee=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xe[t.type]:n==="textarea"}function ni(t,n,a,l){Jr?Wr?Wr.push(l):Wr=[l]:Jr=l,n=zu(n,"onChange"),0<n.length&&(a=new as("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var nn=null,Ir=null;function El(t){ey(t,0)}function Wo(t){var n=ce(t);if(cl(n))return t}function Sm(t,n){if(t==="change")return n}var Am=!1;if(fr){var nh;if(fr){var rh="oninput"in document;if(!rh){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),rh=typeof bm.oninput=="function"}nh=rh}else nh=!1;Am=nh&&(!document.documentMode||9<document.documentMode)}function Rm(){nn&&(nn.detachEvent("onpropertychange",wm),Ir=nn=null)}function wm(t){if(t.propertyName==="value"&&Wo(Ir)){var n=[];ni(n,Ir,t,Jn(t)),ko(El,n)}}function CE(t,n,a){t==="focusin"?(Rm(),nn=n,Ir=a,nn.attachEvent("onpropertychange",wm)):t==="focusout"&&Rm()}function DE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wo(Ir)}function xE(t,n){if(t==="click")return Wo(n)}function ME(t,n){if(t==="input"||t==="change")return Wo(n)}function IE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:IE;function Tl(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yr.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dm(t,n){var a=Cm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cm(a)}}function xm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_a(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_a(t.document)}return n}function ih(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var NE=fr&&"documentMode"in document&&11>=document.documentMode,ds=null,ah=null,Sl=null,sh=!1;function Im(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sh||ds==null||ds!==_a(l)||(l=ds,"selectionStart"in l&&ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Tl(Sl,l)||(Sl=l,l=zu(ah,"onSelect"),0<l.length&&(n=new as("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ds)))}function Ma(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ms={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},lh={},Nm={};fr&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ia(t){if(lh[t])return lh[t];if(!ms[t])return t;var n=ms[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Nm)return lh[t]=n[a];return t}var Om=Ia("animationend"),Vm=Ia("animationiteration"),Lm=Ia("animationstart"),OE=Ia("transitionrun"),VE=Ia("transitionstart"),LE=Ia("transitioncancel"),Um=Ia("transitionend"),Pm=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function dr(t,n){Pm.set(t,n),Be(n,[t])}var zm=new WeakMap;function er(t,n){if(typeof t=="object"&&t!==null){var a=zm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Xr(n)},zm.set(t,n),n)}return{value:t,source:n,stack:Xr(n)}}var nr=[],gs=0,uh=0;function tu(){for(var t=gs,n=uh=gs=0;n<t;){var a=nr[n];nr[n++]=null;var l=nr[n];nr[n++]=null;var h=nr[n];nr[n++]=null;var d=nr[n];if(nr[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&km(a,h,d)}}function eu(t,n,a,l){nr[gs++]=t,nr[gs++]=n,nr[gs++]=a,nr[gs++]=l,uh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ch(t,n,a,l){return eu(t,n,a,l),nu(t)}function ps(t,n){return eu(t,null,null,n),nu(t)}function km(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Le(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function nu(t){if(50<Yl)throw Yl=0,yf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ys={};function UE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,l){return new UE(t,n,a,l)}function hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ru(t,n,a,l,h,d){var _=0;if(l=t,typeof t=="function")hh(t)&&(_=1);else if(typeof t=="string")_=zT(t,a,At.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Un(31,a,n,h),t.elementType=w,t.lanes=d,t;case U:return Na(a.children,h,d,n);case W:_=8,h|=24;break;case F:return t=Un(12,a,n,h|2),t.elementType=F,t.lanes=d,t;case mt:return t=Un(13,a,n,h),t.elementType=mt,t.lanes=d,t;case H:return t=Un(19,a,n,h),t.elementType=H,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case ut:_=10;break t;case rt:_=9;break t;case gt:_=11;break t;case N:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Un(_,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Na(t,n,a,l){return t=Un(7,t,l,n),t.lanes=a,t}function fh(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function dh(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var vs=[],_s=0,iu=null,au=0,rr=[],ir=0,Oa=null,ii=1,ai="";function Va(t,n){vs[_s++]=au,vs[_s++]=iu,iu=t,au=n}function Bm(t,n,a){rr[ir++]=ii,rr[ir++]=ai,rr[ir++]=Oa,Oa=t;var l=ii;t=ai;var h=32-Le(l)-1;l&=~(1<<h),a+=1;var d=32-Le(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ii=1<<32-Le(n)+h|a<<h|l,ai=d+t}else ii=1<<d|a<<h|l,ai=t}function mh(t){t.return!==null&&(Va(t,1),Bm(t,1,0))}function gh(t){for(;t===iu;)iu=vs[--_s],vs[_s]=null,au=vs[--_s],vs[_s]=null;for(;t===Oa;)Oa=rr[--ir],rr[ir]=null,ai=rr[--ir],rr[ir]=null,ii=rr[--ir],rr[ir]=null}var bn=null,De=null,ue=!1,La=null,Nr=!1,ph=Error(s(519));function Ua(t){var n=Error(s(418,""));throw Rl(er(n,t)),ph}function Hm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[it]=t,n[ct]=l,a){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Zt(Xl[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zt("invalid",n),Ea(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),rs(n);break;case"select":Zt("invalid",n);break;case"textarea":Zt("invalid",n),Ta(n,l.value,l.defaultValue,l.children),rs(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ay(n.textContent,a)?(l.popover!=null&&(Zt("beforetoggle",n),Zt("toggle",n)),l.onScroll!=null&&Zt("scroll",n),l.onScrollEnd!=null&&Zt("scrollend",n),l.onClick!=null&&(n.onclick=ku),n=!0):n=!1,n||Ua(t)}function qm(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:bn=bn.return}}function Al(t){if(t!==bn)return!1;if(!ue)return qm(t),ue=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Of(t.type,t.memoizedProps)),a=!a),a&&De&&Ua(t),qm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){De=gr(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}De=null}}else n===27?(n=De,Yi(t.type)?(t=Pf,Pf=null,De=t):De=n):De=bn?gr(t.stateNode.nextSibling):null;return!0}function bl(){De=bn=null,ue=!1}function Gm(){var t=La;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),La=null),t}function Rl(t){La===null?La=[t]:La.push(t)}var yh=nt(null),Pa=null,si=null;function Ni(t,n,a){lt(yh,n._currentValue),n._currentValue=a}function li(t){t._currentValue=yh.current,dt(yh)}function vh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function _h(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vh(d.return,a,t),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Ln(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(eo):t=[eo])}h=h.return}t!==null&&_h(n,t,a,l),n.flags|=262144}function su(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){Pa=t,si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return Fm(Pa,t)}function lu(t,n){return Pa===null&&za(t),Fm(t,n)}function Fm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},si===null){if(t===null)throw Error(s(308));si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else si=si.next=n;return a}var PE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},zE=i.unstable_scheduleCallback,kE=i.unstable_NormalPriority,Ge={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new PE,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&zE(kE,function(){t.controller.abort()})}var Dl=null,Th=0,Es=0,Ts=null;function jE(t,n){if(Dl===null){var a=Dl=[];Th=0,Es=bf(),Ts={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Th++,n.then(Qm,Qm),n}function Qm(){if(--Th===0&&Dl!==null){Ts!==null&&(Ts.status="fulfilled");var t=Dl;Dl=null,Es=0,Ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function BE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ym=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&jE(t,n),Ym!==null&&Ym(t,n)};var ka=nt(null);function Sh(){var t=ka.current;return t!==null?t:Se.pooledCache}function ou(t,n){n===null?lt(ka,ka.current):lt(ka,n.pool)}function Km(){var t=Sh();return t===null?null:{parent:Ge._currentValue,pool:t}}var xl=Error(s(460)),Xm=Error(s(474)),uu=Error(s(542)),Ah={then:function(){}};function $m(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cu(){}function Zm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(cu,cu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wm(t),t;default:if(typeof n.status=="string")n.then(cu,cu);else{if(t=Se,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wm(t),t}throw Ml=n,xl}}var Ml=null;function Jm(){if(Ml===null)throw Error(s(459));var t=Ml;return Ml=null,t}function Wm(t){if(t===xl||t===uu)throw Error(s(483))}var Oi=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(de&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=nu(t),km(t,null,a),n}return eu(t,l,n,a),nu(t)}function Il(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tr(t,a)}}function wh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ch=!1;function Nl(){if(Ch){var t=Ts;if(t!==null)throw t}}function Ol(t,n,a,l){Ch=!1;var h=t.updateQueue;Oi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,G=D.next;D.next=null,_===null?d=G:_.next=G,_=D;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,T=tt.lastBaseUpdate,T!==_&&(T===null?tt.firstBaseUpdate=G:T.next=G,tt.lastBaseUpdate=D))}if(d!==null){var at=h.baseState;_=0,tt=G=D=null,T=d;do{var K=T.lane&-536870913,X=K!==T.lane;if(X?(re&K)===K:(l&K)===K){K!==0&&K===Es&&(Ch=!0),tt!==null&&(tt=tt.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Vt=t,It=T;K=n;var _e=a;switch(It.tag){case 1:if(Vt=It.payload,typeof Vt=="function"){at=Vt.call(_e,at,K);break t}at=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=It.payload,K=typeof Vt=="function"?Vt.call(_e,at,K):Vt,K==null)break t;at=E({},at,K);break t;case 2:Oi=!0}}K=T.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},tt===null?(G=tt=X,D=at):tt=tt.next=X,_|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);tt===null&&(D=at),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),qi|=_,t.lanes=_,t.memoizedState=at}}function tg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function eg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tg(a[t],n)}var Ss=nt(null),hu=nt(0);function ng(t,n){t=mi,lt(hu,t),lt(Ss,n),mi=t|n.baseLanes}function Dh(){lt(hu,mi),lt(Ss,Ss.current)}function xh(){mi=hu.current,dt(Ss),dt(hu)}var Ui=0,Gt=null,ye=null,ze=null,fu=!1,As=!1,ja=!1,du=0,Vl=0,bs=null,HE=0;function Me(){throw Error(s(321))}function Mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function Ih(t,n,a,l,h,d){return Ui=d,Gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?kg:jg,ja=!1,d=a(l,h),ja=!1,As&&(d=ig(n,a,l,h)),rg(t),d}function rg(t){Y.H=_u;var n=ye!==null&&ye.next!==null;if(Ui=0,ze=ye=Gt=null,fu=!1,Vl=0,bs=null,n)throw Error(s(300));t===null||$e||(t=t.dependencies,t!==null&&su(t)&&($e=!0))}function ig(t,n,a,l){Gt=t;var h=0;do{if(As&&(bs=null),Vl=0,As=!1,25<=h)throw Error(s(301));if(h+=1,ze=ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=XE,d=n(a,l)}while(As);return d}function qE(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Ll(n):n,t=t.useState()[0],(ye!==null?ye.memoizedState:null)!==t&&(Gt.flags|=1024),n}function Nh(){var t=du!==0;return du=0,t}function Oh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vh(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}Ui=0,ze=ye=Gt=null,As=!1,Vl=du=0,bs=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Gt.memoizedState=ze=t:ze=ze.next=t,ze}function ke(){if(ye===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var n=ze===null?Gt.memoizedState:ze.next;if(n!==null)ze=n,ye=t;else{if(t===null)throw Gt.alternate===null?Error(s(467)):Error(s(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ze===null?Gt.memoizedState=ze=t:ze=ze.next=t}return ze}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var n=Vl;return Vl+=1,bs===null&&(bs=[]),t=Zm(bs,t,n),n=Gt,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?kg:jg),t}function mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===ut)return fn(t)}throw Error(s(438,String(t)))}function Uh(t){var n=null,a=Gt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Gt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Lh(),Gt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function oi(t,n){return typeof n=="function"?n(t):n}function gu(t){var n=ke();return Ph(n,ye,t)}function Ph(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,D=null,G=n,tt=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(re&at)===at:(Ui&at)===at){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===Es&&(tt=!0);else if((Ui&K)===K){G=G.next,K===Es&&(tt=!0);continue}else at={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=at,_=d):D=D.next=at,Gt.lanes|=K,qi|=K;at=G.action,ja&&a(d,at),d=G.hasEagerState?G.eagerState:a(d,at)}else K={lane:at,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=K,_=d):D=D.next=K,Gt.lanes|=at,qi|=at;G=G.next}while(G!==null&&G!==n);if(D===null?_=d:D.next=T,!Ln(d,t.memoizedState)&&($e=!0,tt&&(a=Ts,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zh(t){var n=ke(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Ln(d,n.memoizedState)||($e=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function ag(t,n,a){var l=Gt,h=ke(),d=ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!Ln((ye||h).memoizedState,a);_&&(h.memoizedState=a,$e=!0),h=h.queue;var T=og.bind(null,l,h,t);if(Ul(2048,8,T,[t]),h.getSnapshot!==n||_||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,Rs(9,pu(),lg.bind(null,l,h,a,n),null),Se===null)throw Error(s(349));d||(Ui&124)!==0||sg(l,n,a)}return a}function sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Gt.updateQueue,n===null?(n=Lh(),Gt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lg(t,n,a,l){n.value=a,n.getSnapshot=l,ug(n)&&cg(t)}function og(t,n,a){return a(function(){ug(n)&&cg(t)})}function ug(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function cg(t){var n=ps(t,2);n!==null&&Bn(n,t,2)}function kh(t){var n=Cn();if(typeof t=="function"){var a=t;if(t=a(),ja){cn(!0);try{a()}finally{cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},n}function hg(t,n,a,l){return t.baseState=a,Ph(t,ye,typeof l=="function"?l:oi)}function GE(t,n,a,l,h){if(vu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,fg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function fg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),D=Y.S;D!==null&&D(_,T),dg(t,n,T)}catch(G){jh(t,n,G)}finally{Y.T=d}}else try{d=a(h,l),dg(t,n,d)}catch(G){jh(t,n,G)}}function dg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mg(t,n,l)},function(l){return jh(t,n,l)}):mg(t,n,a)}function mg(t,n,a){n.status="fulfilled",n.value=a,gg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fg(t,a)))}function jh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==l)}t.action=null}function gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function yg(t,n){if(ue){var a=Se.formState;if(a!==null){t:{var l=Gt;if(ue){if(De){e:{for(var h=De,d=Nr;h.nodeType!==8;){if(!d){h=null;break e}if(h=gr(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){De=gr(h.nextSibling),l=h.data==="F!";break t}}Ua(l)}l=!1}l&&(n=a[0])}}return a=Cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=l,a=Ug.bind(null,Gt,l),l.dispatch=a,l=kh(!1),d=Fh.bind(null,Gt,!1,l.queue),l=Cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=GE.bind(null,Gt,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function vg(t){var n=ke();return _g(n,ye,t)}function _g(t,n,a){if(n=Ph(t,n,pg)[0],t=gu(oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ll(n)}catch(_){throw _===xl?uu:_}else l=n;n=ke();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Gt.flags|=2048,Rs(9,pu(),FE.bind(null,h,a),null)),[l,d,t]}function FE(t,n){t.action=n}function Eg(t){var n=ke(),a=ye;if(a!==null)return _g(n,a,t);ke(),n=n.memoizedState,a=ke();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Rs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Gt.updateQueue,n===null&&(n=Lh(),Gt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function pu(){return{destroy:void 0,resource:void 0}}function Tg(){return ke().memoizedState}function yu(t,n,a,l){var h=Cn();l=l===void 0?null:l,Gt.flags|=t,h.memoizedState=Rs(1|n,pu(),a,l)}function Ul(t,n,a,l){var h=ke();l=l===void 0?null:l;var d=h.memoizedState.inst;ye!==null&&l!==null&&Mh(l,ye.memoizedState.deps)?h.memoizedState=Rs(n,d,a,l):(Gt.flags|=t,h.memoizedState=Rs(1|n,d,a,l))}function Sg(t,n){yu(8390656,8,t,n)}function Ag(t,n){Ul(2048,8,t,n)}function bg(t,n){return Ul(4,2,t,n)}function Rg(t,n){return Ul(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cg(t,n,a){a=a!=null?a.concat([t]):null,Ul(4,4,wg.bind(null,n,t),a)}function Bh(){}function Dg(t,n){var a=ke();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function xg(t,n){var a=ke();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Mh(n,l[1]))return l[0];if(l=t(),ja){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,n],l}function Hh(t,n,a){return a===void 0||(Ui&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Np(),Gt.lanes|=t,qi|=t,a)}function Mg(t,n,a,l){return Ln(a,n)?a:Ss.current!==null?(t=Hh(t,a,l),Ln(t,n)||($e=!0),t):(Ui&42)===0?($e=!0,t.memoizedState=a):(t=Np(),Gt.lanes|=t,qi|=t,n)}function Ig(t,n,a,l,h){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,Fh(t,!1,n,a);try{var D=h(),G=Y.S;if(G!==null&&G(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var tt=BE(D,l);Pl(t,n,tt,jn(t))}else Pl(t,n,l,jn(t))}catch(at){Pl(t,n,{then:function(){},status:"rejected",reason:at},jn())}finally{ht.p=d,Y.T=_}}function QE(){}function qh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Ng(t).queue;Ig(t,h,n,yt,a===null?QE:function(){return Og(t),a(l)})}function Ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=Ng(t).next.queue;Pl(t,n,{},jn())}function Gh(){return fn(eo)}function Vg(){return ke().memoizedState}function Lg(){return ke().memoizedState}function YE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jn();t=Vi(a);var l=Li(n,t,a);l!==null&&(Bn(l,n,a),Il(l,n,a)),n={cache:Eh()},t.payload=n;return}n=n.return}}function KE(t,n,a){var l=jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vu(t)?Pg(n,a):(a=ch(t,n,a,l),a!==null&&(Bn(a,t,l),zg(a,n,l)))}function Ug(t,n,a){var l=jn();Pl(t,n,a,l)}function Pl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Pg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Ln(T,_))return eu(t,n,h,0),Se===null&&tu(),!1}catch{}finally{}if(a=ch(t,n,h,l),a!==null)return Bn(a,t,l),zg(a,n,l),!0}return!1}function Fh(t,n,a,l){if(l={lane:2,revertLane:bf(),action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(s(479))}else n=ch(t,a,l,2),n!==null&&Bn(n,t,2)}function vu(t){var n=t.alternate;return t===Gt||n!==null&&n===Gt}function Pg(t,n){As=fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function zg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tr(t,a)}}var _u={readContext:fn,use:mu,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},kg={readContext:fn,use:mu,useCallback:function(t,n){return Cn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:Sg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,yu(4194308,4,wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var a=Cn();n=n===void 0?null:n;var l=t();if(ja){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Cn();if(a!==void 0){var h=a(n);if(ja){cn(!0);try{a(n)}finally{cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KE.bind(null,Gt,t),[l.memoizedState,t]},useRef:function(t){var n=Cn();return t={current:t},n.memoizedState=t},useState:function(t){t=kh(t);var n=t.queue,a=Ug.bind(null,Gt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bh,useDeferredValue:function(t,n){var a=Cn();return Hh(a,t,n)},useTransition:function(){var t=kh(!1);return t=Ig.bind(null,Gt,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Gt,h=Cn();if(ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Se===null)throw Error(s(349));(re&124)!==0||sg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Sg(og.bind(null,l,d,t),[t]),l.flags|=2048,Rs(9,pu(),lg.bind(null,l,d,a,n),null),a},useId:function(){var t=Cn(),n=Se.identifierPrefix;if(ue){var a=ai,l=ii;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=du++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=HE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Gh,useFormState:yg,useActionState:yg,useOptimistic:function(t){var n=Cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fh.bind(null,Gt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Uh,useCacheRefresh:function(){return Cn().memoizedState=YE.bind(null,Gt)}},jg={readContext:fn,use:mu,useCallback:Dg,useContext:fn,useEffect:Ag,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:xg,useReducer:gu,useRef:Tg,useState:function(){return gu(oi)},useDebugValue:Bh,useDeferredValue:function(t,n){var a=ke();return Mg(a,ye.memoizedState,t,n)},useTransition:function(){var t=gu(oi)[0],n=ke().memoizedState;return[typeof t=="boolean"?t:Ll(t),n]},useSyncExternalStore:ag,useId:Vg,useHostTransitionStatus:Gh,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=ke();return hg(a,ye,t,n)},useMemoCache:Uh,useCacheRefresh:Lg},XE={readContext:fn,use:mu,useCallback:Dg,useContext:fn,useEffect:Ag,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:xg,useReducer:zh,useRef:Tg,useState:function(){return zh(oi)},useDebugValue:Bh,useDeferredValue:function(t,n){var a=ke();return ye===null?Hh(a,t,n):Mg(a,ye.memoizedState,t,n)},useTransition:function(){var t=zh(oi)[0],n=ke().memoizedState;return[typeof t=="boolean"?t:Ll(t),n]},useSyncExternalStore:ag,useId:Vg,useHostTransitionStatus:Gh,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var a=ke();return ye!==null?hg(a,ye,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:Lg},ws=null,zl=0;function Eu(t){var n=zl;return zl+=1,ws===null&&(ws=[]),Zm(ws,t,n)}function kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tu(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Bg(t){var n=t._init;return n(t._payload)}function Hg(t){function n(z,V){if(t){var B=z.deletions;B===null?(z.deletions=[V],z.flags|=16):B.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=ri(z,V),z.index=0,z.sibling=null,z}function d(z,V,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<V?(z.flags|=67108866,V):B):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,V,B,et){return V===null||V.tag!==6?(V=fh(B,z.mode,et),V.return=z,V):(V=h(V,B),V.return=z,V)}function D(z,V,B,et){var Et=B.type;return Et===U?tt(z,V,B.props.children,et,B.key):V!==null&&(V.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Bg(Et)===V.type)?(V=h(V,B.props),kl(V,B),V.return=z,V):(V=ru(B.type,B.key,B.props,null,z.mode,et),kl(V,B),V.return=z,V)}function G(z,V,B,et){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=dh(B,z.mode,et),V.return=z,V):(V=h(V,B.children||[]),V.return=z,V)}function tt(z,V,B,et,Et){return V===null||V.tag!==7?(V=Na(B,z.mode,et,Et),V.return=z,V):(V=h(V,B),V.return=z,V)}function at(z,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=fh(""+V,z.mode,B),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return B=ru(V.type,V.key,V.props,null,z.mode,B),kl(B,V),B.return=z,B;case M:return V=dh(V,z.mode,B),V.return=z,V;case R:var et=V._init;return V=et(V._payload),at(z,V,B)}if(Kt(V)||P(V))return V=Na(V,z.mode,B,null),V.return=z,V;if(typeof V.then=="function")return at(z,Eu(V),B);if(V.$$typeof===ut)return at(z,lu(z,V),B);Tu(z,V)}return null}function K(z,V,B,et){var Et=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Et!==null?null:T(z,V,""+B,et);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===Et?D(z,V,B,et):null;case M:return B.key===Et?G(z,V,B,et):null;case R:return Et=B._init,B=Et(B._payload),K(z,V,B,et)}if(Kt(B)||P(B))return Et!==null?null:tt(z,V,B,et,null);if(typeof B.then=="function")return K(z,V,Eu(B),et);if(B.$$typeof===ut)return K(z,V,lu(z,B),et);Tu(z,B)}return null}function X(z,V,B,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(B)||null,T(V,z,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return z=z.get(et.key===null?B:et.key)||null,D(V,z,et,Et);case M:return z=z.get(et.key===null?B:et.key)||null,G(V,z,et,Et);case R:var Yt=et._init;return et=Yt(et._payload),X(z,V,B,et,Et)}if(Kt(et)||P(et))return z=z.get(B)||null,tt(V,z,et,Et,null);if(typeof et.then=="function")return X(z,V,B,Eu(et),Et);if(et.$$typeof===ut)return X(z,V,B,lu(V,et),Et);Tu(V,et)}return null}function Vt(z,V,B,et){for(var Et=null,Yt=null,Rt=V,Ot=V=0,Je=null;Rt!==null&&Ot<B.length;Ot++){Rt.index>Ot?(Je=Rt,Rt=null):Je=Rt.sibling;var le=K(z,Rt,B[Ot],et);if(le===null){Rt===null&&(Rt=Je);break}t&&Rt&&le.alternate===null&&n(z,Rt),V=d(le,V,Ot),Yt===null?Et=le:Yt.sibling=le,Yt=le,Rt=Je}if(Ot===B.length)return a(z,Rt),ue&&Va(z,Ot),Et;if(Rt===null){for(;Ot<B.length;Ot++)Rt=at(z,B[Ot],et),Rt!==null&&(V=d(Rt,V,Ot),Yt===null?Et=Rt:Yt.sibling=Rt,Yt=Rt);return ue&&Va(z,Ot),Et}for(Rt=l(Rt);Ot<B.length;Ot++)Je=X(Rt,z,Ot,B[Ot],et),Je!==null&&(t&&Je.alternate!==null&&Rt.delete(Je.key===null?Ot:Je.key),V=d(Je,V,Ot),Yt===null?Et=Je:Yt.sibling=Je,Yt=Je);return t&&Rt.forEach(function(Ji){return n(z,Ji)}),ue&&Va(z,Ot),Et}function It(z,V,B,et){if(B==null)throw Error(s(151));for(var Et=null,Yt=null,Rt=V,Ot=V=0,Je=null,le=B.next();Rt!==null&&!le.done;Ot++,le=B.next()){Rt.index>Ot?(Je=Rt,Rt=null):Je=Rt.sibling;var Ji=K(z,Rt,le.value,et);if(Ji===null){Rt===null&&(Rt=Je);break}t&&Rt&&Ji.alternate===null&&n(z,Rt),V=d(Ji,V,Ot),Yt===null?Et=Ji:Yt.sibling=Ji,Yt=Ji,Rt=Je}if(le.done)return a(z,Rt),ue&&Va(z,Ot),Et;if(Rt===null){for(;!le.done;Ot++,le=B.next())le=at(z,le.value,et),le!==null&&(V=d(le,V,Ot),Yt===null?Et=le:Yt.sibling=le,Yt=le);return ue&&Va(z,Ot),Et}for(Rt=l(Rt);!le.done;Ot++,le=B.next())le=X(Rt,z,Ot,le.value,et),le!==null&&(t&&le.alternate!==null&&Rt.delete(le.key===null?Ot:le.key),V=d(le,V,Ot),Yt===null?Et=le:Yt.sibling=le,Yt=le);return t&&Rt.forEach(function($T){return n(z,$T)}),ue&&Va(z,Ot),Et}function _e(z,V,B,et){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:t:{for(var Et=B.key;V!==null;){if(V.key===Et){if(Et=B.type,Et===U){if(V.tag===7){a(z,V.sibling),et=h(V,B.props.children),et.return=z,z=et;break t}}else if(V.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Bg(Et)===V.type){a(z,V.sibling),et=h(V,B.props),kl(et,B),et.return=z,z=et;break t}a(z,V);break}else n(z,V);V=V.sibling}B.type===U?(et=Na(B.props.children,z.mode,et,B.key),et.return=z,z=et):(et=ru(B.type,B.key,B.props,null,z.mode,et),kl(et,B),et.return=z,z=et)}return _(z);case M:t:{for(Et=B.key;V!==null;){if(V.key===Et)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(z,V.sibling),et=h(V,B.children||[]),et.return=z,z=et;break t}else{a(z,V);break}else n(z,V);V=V.sibling}et=dh(B,z.mode,et),et.return=z,z=et}return _(z);case R:return Et=B._init,B=Et(B._payload),_e(z,V,B,et)}if(Kt(B))return Vt(z,V,B,et);if(P(B)){if(Et=P(B),typeof Et!="function")throw Error(s(150));return B=Et.call(B),It(z,V,B,et)}if(typeof B.then=="function")return _e(z,V,Eu(B),et);if(B.$$typeof===ut)return _e(z,V,lu(z,B),et);Tu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(z,V.sibling),et=h(V,B),et.return=z,z=et):(a(z,V),et=fh(B,z.mode,et),et.return=z,z=et),_(z)):a(z,V)}return function(z,V,B,et){try{zl=0;var Et=_e(z,V,B,et);return ws=null,Et}catch(Rt){if(Rt===xl||Rt===uu)throw Rt;var Yt=Un(29,Rt,null,z.mode);return Yt.lanes=et,Yt.return=z,Yt}finally{}}}var Cs=Hg(!0),qg=Hg(!1),ar=nt(null),Or=null;function Pi(t){var n=t.alternate;lt(Fe,Fe.current&1),lt(ar,t),Or===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(Or=t)}function Gg(t){if(t.tag===22){if(lt(Fe,Fe.current),lt(ar,t),Or===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Or=t)}}else zi()}function zi(){lt(Fe,Fe.current),lt(ar,ar.current)}function ui(t){dt(ar),Or===t&&(Or=null),dt(Fe)}var Fe=nt(0);function Su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Uf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Qh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=jn(),h=Vi(l);h.payload=n,a!=null&&(h.callback=a),n=Li(t,h,l),n!==null&&(Bn(n,t,l),Il(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=jn(),h=Vi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Li(t,h,l),n!==null&&(Bn(n,t,l),Il(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jn(),l=Vi(a);l.tag=2,n!=null&&(l.callback=n),n=Li(t,l,a),n!==null&&(Bn(n,t,a),Il(n,t,a))}};function Fg(t,n,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Tl(a,l)||!Tl(h,d):!0}function Qg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Yh.enqueueReplaceState(n,n.state,null)}function Ba(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yg(t){Au(t)}function Kg(t){console.error(t)}function Xg(t){Au(t)}function bu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(t,n,a){return a=Vi(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(t,n)},a}function Zg(t){return t=Vi(t),t.tag=3,t}function Jg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){$g(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){$g(n,a,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $E(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&wl(n,a,h,!0),a=ar.current,a!==null){switch(a.tag){case 13:return Or===null?_f():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ah?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Tf(t,l,h)),!1;case 22:return a.flags|=65536,l===Ah?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Tf(t,l,h)),!1}throw Error(s(435,a.tag))}return Tf(t,l,h),_f(),!1}if(ue)return n=ar.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ph&&(t=Error(s(422),{cause:l}),Rl(er(t,a)))):(l!==ph&&(n=Error(s(423),{cause:l}),Rl(er(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=er(l,a),h=Kh(t.stateNode,l,h),wh(t,h),xe!==4&&(xe=2)),!1;var d=Error(s(520),{cause:l});if(d=er(d,a),Ql===null?Ql=[d]:Ql.push(d),xe!==4&&(xe=2),n===null)return!0;l=er(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kh(a.stateNode,l,t),wh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gi===null||!Gi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zg(h),Jg(h,t,a,l),wh(a,h),!1}a=a.return}while(a!==null);return!1}var Wg=Error(s(461)),$e=!1;function rn(t,n,a,l){n.child=t===null?qg(n,null,a,l):Cs(n,t.child,a,l)}function tp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return za(n),l=Ih(t,n,a,_,d,h),T=Nh(),t!==null&&!$e?(Oh(t,n,h),ci(t,n,h)):(ue&&T&&mh(n),n.flags|=1,rn(t,n,l,h),n.child)}function ep(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!hh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,np(t,n,d,l,h)):(t=ru(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!nf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(_,l)&&t.ref===n.ref)return ci(t,n,h)}return n.flags|=1,t=ri(d,l),t.ref=n.ref,t.return=n,n.child=t}function np(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(Tl(d,l)&&t.ref===n.ref)if($e=!1,n.pendingProps=l=d,nf(t,h))(t.flags&131072)!==0&&($e=!0);else return n.lanes=t.lanes,ci(t,n,h)}return Xh(t,n,a,l,h)}function rp(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return ip(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ou(n,d!==null?d.cachePool:null),d!==null?ng(n,d):Dh(),Gg(n);else return n.lanes=n.childLanes=536870912,ip(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(ou(n,d.cachePool),ng(n,d),zi(),n.memoizedState=null):(t!==null&&ou(n,null),Dh(),zi());return rn(t,n,h,a),n.child}function ip(t,n,a,l){var h=Sh();return h=h===null?null:{parent:Ge._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ou(n,null),Dh(),Gg(n),t!==null&&wl(t,n,l,!0),null}function Ru(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Xh(t,n,a,l,h){return za(n),a=Ih(t,n,a,l,void 0,h),l=Nh(),t!==null&&!$e?(Oh(t,n,h),ci(t,n,h)):(ue&&l&&mh(n),n.flags|=1,rn(t,n,a,h),n.child)}function ap(t,n,a,l,h,d){return za(n),n.updateQueue=null,a=ig(n,l,a,h),rg(t),l=Nh(),t!==null&&!$e?(Oh(t,n,d),ci(t,n,d)):(ue&&l&&mh(n),n.flags|=1,rn(t,n,a,d),n.child)}function sp(t,n,a,l,h){if(za(n),n.stateNode===null){var d=ys,_=a.contextType;typeof _=="object"&&_!==null&&(d=fn(_)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},bh(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?fn(_):ys,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qh(n,a,_,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yh.enqueueReplaceState(d,d.state,null),Ol(n,l,d,h),Nl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,D=Ba(a,T);d.props=D;var G=d.context,tt=a.contextType;_=ys,typeof tt=="object"&&tt!==null&&(_=fn(tt));var at=a.getDerivedStateFromProps;tt=typeof at=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==_)&&Qg(n,d,l,_),Oi=!1;var K=n.memoizedState;d.state=K,Ol(n,l,d,h),Nl(),G=n.memoizedState,T||K!==G||Oi?(typeof at=="function"&&(Qh(n,a,at,l),G=n.memoizedState),(D=Oi||Fg(n,a,D,l,K,G,_))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Rh(t,n),_=n.memoizedProps,tt=Ba(a,_),d.props=tt,at=n.pendingProps,K=d.context,G=a.contextType,D=ys,typeof G=="object"&&G!==null&&(D=fn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==at||K!==D)&&Qg(n,d,l,D),Oi=!1,K=n.memoizedState,d.state=K,Ol(n,l,d,h),Nl();var X=n.memoizedState;_!==at||K!==X||Oi||t!==null&&t.dependencies!==null&&su(t.dependencies)?(typeof T=="function"&&(Qh(n,a,T,l),X=n.memoizedState),(tt=Oi||Fg(n,a,tt,l,K,X,D)||t!==null&&t.dependencies!==null&&su(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),d.props=l,d.state=X,d.context=D,l=tt):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ru(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Cs(n,t.child,null,h),n.child=Cs(n,null,a,h)):rn(t,n,a,h),n.memoizedState=d.state,t=n.child):t=ci(t,n,h),t}function lp(t,n,a,l){return bl(),n.flags|=256,rn(t,n,a,l),n.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(t){return{baseLanes:t,cachePool:Km()}}function Jh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=sr),t}function op(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(ue){if(h?Pi(n):zi(),ue){var T=De,D;if(D=T){t:{for(D=T,T=Nr;D.nodeType!==8;){if(!T){T=null;break t}if(D=gr(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Oa!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},D=Un(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,bn=n,De=null,D=!0):D=!1}D||Ua(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Uf(T)?n.lanes=32:n.lanes=536870912,null;ui(n)}return T=l.children,l=l.fallback,h?(zi(),h=n.mode,T=wu({mode:"hidden",children:T},h),l=Na(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Zh(a),h.childLanes=Jh(t,_,a),n.memoizedState=$h,l):(Pi(n),Wh(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(Pi(n),n.flags&=-257,n=tf(t,n,a)):n.memoizedState!==null?(zi(),n.child=t.child,n.flags|=128,n=null):(zi(),h=l.fallback,T=n.mode,l=wu({mode:"visible",children:l.children},T),h=Na(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Cs(n,t.child,null,a),l=n.child,l.memoizedState=Zh(a),l.childLanes=Jh(t,_,a),n.memoizedState=$h,n=h);else if(Pi(n),Uf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,Rl({value:l,source:null,stack:null}),n=tf(t,n,a)}else if($e||wl(t,n,a,!1),_=(a&t.childLanes)!==0,$e||_){if(_=Se,_!==null&&(l=a&-a,l=(l&42)!==0?1:Sr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ps(t,l),Bn(_,t,l),Wg;T.data==="$?"||_f(),n=tf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,De=gr(T.nextSibling),bn=n,ue=!0,La=null,Nr=!1,t!==null&&(rr[ir++]=ii,rr[ir++]=ai,rr[ir++]=Oa,ii=t.id,ai=t.overflow,Oa=n),n=Wh(n,l.children),n.flags|=4096);return n}return h?(zi(),h=l.fallback,T=n.mode,D=t.child,G=D.sibling,l=ri(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?h=ri(G,h):(h=Na(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Zh(a):(D=T.cachePool,D!==null?(G=Ge._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=Km(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Jh(t,_,a),n.memoizedState=$h,l):(Pi(n),a=t.child,t=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Wh(t,n){return n=wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function wu(t,n){return t=Un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tf(t,n,a){return Cs(n,t.child,null,a),t=Wh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function up(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),vh(t.return,n,a)}function ef(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function cp(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(rn(t,n,l.children,a),l=Fe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&up(t,a,n);else if(t.tag===19)up(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(lt(Fe,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Su(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ef(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Su(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ef(n,!0,a,null,d);break;case"together":ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ci(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),qi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(wl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function nf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&su(t)))}function ZE(t,n,a){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),Ni(n,Ge,t.memoizedState.cache),bl();break;case 27:case 5:Ae(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?op(t,n,a):(Pi(n),t=ci(t,n,a),t!==null?t.sibling:null);Pi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(wl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return cp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Fe,Fe.current),l)break;return null;case 22:case 23:return n.lanes=0,rp(t,n,a);case 24:Ni(n,Ge,t.memoizedState.cache)}return ci(t,n,a)}function hp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)$e=!0;else{if(!nf(t,a)&&(n.flags&128)===0)return $e=!1,ZE(t,n,a);$e=(t.flags&131072)!==0}else $e=!1,ue&&(n.flags&1048576)!==0&&Bm(n,au,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")hh(l)?(t=Ba(l,t),n.tag=1,n=sp(null,n,l,t,a)):(n.tag=0,n=Xh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===gt){n.tag=11,n=tp(null,n,l,t,a);break t}else if(h===N){n.tag=14,n=ep(null,n,l,t,a);break t}}throw n=Bt(l)||l,Error(s(306,n,""))}}return n;case 0:return Xh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ba(l,n.pendingProps),sp(t,n,l,h,a);case 3:t:{if(ge(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Rh(t,n),Ol(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Ni(n,Ge,l),l!==d.cache&&_h(n,[Ge],a,!0),Nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=lp(t,n,l,a);break t}else if(l!==h){h=er(Error(s(424)),n),Rl(h),n=lp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(De=gr(t.firstChild),bn=n,ue=!0,La=null,Nr=!0,a=qg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bl(),l===h){n=ci(t,n,a);break t}rn(t,n,l,a)}n=n.child}return n;case 26:return Ru(t,n),t===null?(a=gy(n.type,null,n.pendingProps,null))?n.memoizedState=a:ue||(a=n.type,t=n.pendingProps,l=ju(wt.current).createElement(a),l[it]=n,l[ct]=t,sn(l,a,t),te(l),n.stateNode=l):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ae(n),t===null&&ue&&(l=n.stateNode=fy(n.type,n.pendingProps,wt.current),bn=n,Nr=!0,h=De,Yi(n.type)?(Pf=h,De=gr(l.firstChild)):De=h),rn(t,n,n.pendingProps.children,a),Ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ue&&((h=l=De)&&(l=RT(l,n.type,n.pendingProps,Nr),l!==null?(n.stateNode=l,bn=n,De=gr(l.firstChild),Nr=!1,h=!0):h=!1),h||Ua(n)),Ae(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Of(h,d)?l=null:_!==null&&Of(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Ih(t,n,qE,null,null,a),eo._currentValue=h),Ru(t,n),rn(t,n,l,a),n.child;case 6:return t===null&&ue&&((t=a=De)&&(a=wT(a,n.pendingProps,Nr),a!==null?(n.stateNode=a,bn=n,De=null,t=!0):t=!1),t||Ua(n)),null;case 13:return op(t,n,a);case 4:return ge(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Cs(n,null,l,a):rn(t,n,l,a),n.child;case 11:return tp(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ni(n,n.type,l.value),rn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,za(n),h=fn(h),l=l(h),n.flags|=1,rn(t,n,l,a),n.child;case 14:return ep(t,n,n.type,n.pendingProps,a);case 15:return np(t,n,n.type,n.pendingProps,a);case 19:return cp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=wu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=ri(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return rp(t,n,a);case 24:return za(n),l=fn(Ge),t===null?(h=Sh(),h===null&&(h=Se,d=Eh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},bh(n),Ni(n,Ge,h)):((t.lanes&a)!==0&&(Rh(t,n),Ol(n,null,null,a),Nl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ni(n,Ge,l)):(l=d.cache,Ni(n,Ge,l),l!==h.cache&&_h(n,[Ge],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function hi(t){t.flags|=4}function fp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ey(n)){if(n=ar.current,n!==null&&((re&4194048)===re?Or!==null:(re&62914560)!==re&&(re&536870912)===0||n!==Or))throw Ml=Ah,Xm;t.flags|=8192}}function Cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?va():536870912,t.lanes|=n,Is|=n)}function jl(t,n){if(!ue)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function we(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function JE(t,n,a){var l=n.pendingProps;switch(gh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(n),null;case 1:return we(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),li(Ge),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Al(n)?hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gm())),we(n),null;case 26:return a=n.memoizedState,t===null?(hi(n),a!==null?(we(n),fp(n,a)):(we(n),n.flags&=-16777217)):a?a!==t.memoizedState?(hi(n),we(n),fp(n,a)):(we(n),n.flags&=-16777217):(t.memoizedProps!==l&&hi(n),we(n),n.flags&=-16777217),null;case 27:un(n),a=wt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return we(n),null}t=At.current,Al(n)?Hm(n):(t=fy(h,l,a),n.stateNode=t,hi(n))}return we(n),null;case 5:if(un(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return we(n),null}if(t=At.current,Al(n))Hm(n);else{switch(h=ju(wt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[it]=n,t[ct]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(sn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&hi(n)}}return we(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=wt.current,Al(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=bn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[it]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ay(t.nodeValue,a)),t||Ua(n)}else t=ju(t).createTextNode(l),t[it]=n,n.stateNode=t}return we(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[it]=n}else bl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;we(n),h=!1}else h=Gm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ui(n),n):(ui(n),null)}if(ui(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Cu(n,n.updateQueue),we(n),null;case 4:return Gn(),t===null&&Df(n.stateNode.containerInfo),we(n),null;case 10:return li(n.type),we(n),null;case 19:if(dt(Fe),h=n.memoizedState,h===null)return we(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)jl(h,!1);else{if(xe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Su(t),d!==null){for(n.flags|=128,jl(h,!1),t=d.updateQueue,n.updateQueue=t,Cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)jm(a,t),a=a.sibling;return lt(Fe,Fe.current&1|2),n.child}t=t.sibling}h.tail!==null&&_n()>Mu&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304)}else{if(!l)if(t=Su(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Cu(n,t),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ue)return we(n),null}else 2*_n()-h.renderingStartTime>Mu&&a!==536870912&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=_n(),n.sibling=null,t=Fe.current,lt(Fe,l?t&1|2:t&1),n):(we(n),null);case 22:case 23:return ui(n),xh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(we(n),n.subtreeFlags&6&&(n.flags|=8192)):we(n),a=n.updateQueue,a!==null&&Cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&dt(ka),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),li(Ge),we(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function WE(t,n){switch(gh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return li(Ge),Gn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(ui(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));bl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return dt(Fe),null;case 4:return Gn(),null;case 10:return li(n.type),null;case 22:case 23:return ui(n),xh(),t!==null&&dt(ka),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return li(Ge),null;case 25:return null;default:return null}}function dp(t,n){switch(gh(n),n.tag){case 3:li(Ge),Gn();break;case 26:case 27:case 5:un(n);break;case 4:Gn();break;case 13:ui(n);break;case 19:dt(Fe);break;case 10:li(n.type);break;case 22:case 23:ui(n),xh(),t!==null&&dt(ka);break;case 24:li(Ge)}}function Bl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Te(n,n.return,T)}}function ki(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var D=a,G=T;try{G()}catch(tt){Te(h,D,tt)}}}l=l.next}while(l!==d)}}catch(tt){Te(n,n.return,tt)}}function mp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{eg(n,a)}catch(l){Te(t,t.return,l)}}}function gp(t,n,a){a.props=Ba(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Te(t,n,l)}}function Hl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Te(t,n,h)}}function Vr(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Te(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Te(t,n,h)}else a.current=null}function pp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Te(t,t.return,h)}}function rf(t,n,a){try{var l=t.stateNode;ET(l,t.type,a,n),l[ct]=n}catch(h){Te(t,t.return,h)}}function yp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function af(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ku));else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(sf(t,n,a),t=t.sibling;t!==null;)sf(t,n,a),t=t.sibling}function Du(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Du(t,n,a),t=t.sibling;t!==null;)Du(t,n,a),t=t.sibling}function vp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,l,a),n[it]=t,n[ct]=a}catch(d){Te(t,t.return,d)}}var fi=!1,Ie=!1,lf=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function tT(t,n){if(t=t.containerInfo,If=Qu,t=Mm(t),ih(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,G=0,tt=0,at=t,K=null;e:for(;;){for(var X;at!==a||h!==0&&at.nodeType!==3||(T=_+h),at!==d||l!==0&&at.nodeType!==3||(D=_+l),at.nodeType===3&&(_+=at.nodeValue.length),(X=at.firstChild)!==null;)K=at,at=X;for(;;){if(at===t)break e;if(K===a&&++G===h&&(T=_),K===d&&++tt===l&&(D=_),(X=at.nextSibling)!==null)break;at=K,K=at.parentNode}at=X}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nf={focusedElem:t,selectionRange:a},Qu=!1,Ze=n;Ze!==null;)if(n=Ze,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ze=t;else for(;Ze!==null;){switch(n=Ze,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Vt=Ba(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Vt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(It){Te(a,a.return,It)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Lf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ze=t;break}Ze=n.return}}function Ep(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Bl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Te(a,a.return,_)}else{var h=Ba(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Te(a,a.return,_)}}l&64&&mp(a),l&512&&Hl(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{eg(t,n)}catch(_){Te(a,a.return,_)}}break;case 27:n===null&&l&4&&vp(a);case 26:case 5:ji(t,a),n===null&&l&4&&pp(a),l&512&&Hl(a,a.return);break;case 12:ji(t,a);break;case 13:ji(t,a),l&4&&Ap(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=uT.bind(null,a),CT(t,a))));break;case 22:if(l=a.memoizedState!==null||fi,!l){n=n!==null&&n.memoizedState!==null||Ie,h=fi;var d=Ie;fi=l,(Ie=n)&&!d?Bi(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),fi=h,Ie=d}break;case 30:break;default:ji(t,a)}}function Tp(t){var n=t.alternate;n!==null&&(t.alternate=null,Tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&St(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var be=null,Dn=!1;function di(t,n,a){for(a=a.child;a!==null;)Sp(t,n,a),a=a.sibling}function Sp(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:Ie||Vr(a,n),di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Vr(a,n);var l=be,h=Dn;Yi(a.type)&&(be=a.stateNode,Dn=!1),di(t,n,a),Zl(a.stateNode),be=l,Dn=h;break;case 5:Ie||Vr(a,n);case 6:if(l=be,h=Dn,be=null,di(t,n,a),be=l,Dn=h,be!==null)if(Dn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(d){Te(a,n,d)}else try{be.removeChild(a.stateNode)}catch(d){Te(a,n,d)}break;case 18:be!==null&&(Dn?(t=be,cy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):cy(be,a.stateNode));break;case 4:l=be,h=Dn,be=a.stateNode.containerInfo,Dn=!0,di(t,n,a),be=l,Dn=h;break;case 0:case 11:case 14:case 15:Ie||ki(2,a,n),Ie||ki(4,a,n),di(t,n,a);break;case 1:Ie||(Vr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gp(a,n,l)),di(t,n,a);break;case 21:di(t,n,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,di(t,n,a),Ie=l;break;default:di(t,n,a)}}function Ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){Te(n,n.return,a)}}function eT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _p),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _p),n;default:throw Error(s(435,t.tag))}}function of(t,n){var a=eT(t);n.forEach(function(l){var h=cT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Pn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Yi(T.type)){be=T.stateNode,Dn=!1;break t}break;case 5:be=T.stateNode,Dn=!1;break t;case 3:case 4:be=T.stateNode.containerInfo,Dn=!0;break t}T=T.return}if(be===null)throw Error(s(160));Sp(d,_,h),be=null,Dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bp(n,t),n=n.sibling}var mr=null;function bp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(n,t),zn(t),l&4&&(ki(3,t,t.return),Bl(3,t),ki(5,t,t.return));break;case 1:Pn(n,t),zn(t),l&512&&(Ie||a===null||Vr(a,a.return)),l&64&&fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=mr;if(Pn(n,t),zn(t),l&512&&(Ie||a===null||Vr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Mt]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),sn(d,l,a),d[it]=t,te(d),l=d;break t;case"link":var _=vy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),sn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=vy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),sn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[it]=t,te(d),l=d}t.stateNode=l}else _y(h,t.type,t.stateNode);else t.stateNode=yy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_y(h,t.type,t.stateNode):yy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Pn(n,t),zn(t),l&512&&(Ie||a===null||Vr(a,a.return)),a!==null&&l&4&&rf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Pn(n,t),zn(t),l&512&&(Ie||a===null||Vr(a,a.return)),t.flags&32){h=t.stateNode;try{Zn(h,"")}catch(X){Te(t,t.return,X)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(lf=!0);break;case 6:if(Pn(n,t),zn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){Te(t,t.return,X)}}break;case 3:if(qu=null,h=mr,mr=Bu(n.containerInfo),Pn(n,t),mr=h,zn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(X){Te(t,t.return,X)}lf&&(lf=!1,Rp(t));break;case 4:l=mr,mr=Bu(t.stateNode.containerInfo),Pn(n,t),zn(t),mr=l;break;case 12:Pn(n,t),zn(t);break;case 13:Pn(n,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mf=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,of(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=fi,tt=Ie;if(fi=G||h,Ie=tt||D,Pn(n,t),Ie=tt,fi=G,zn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||fi||Ie||Ha(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var at=D.memoizedProps.style,K=at!=null&&at.hasOwnProperty("display")?at.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){Te(D,D.return,X)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(X){Te(D,D.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,of(t,a))));break;case 19:Pn(n,t),zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,of(t,l)));break;case 30:break;case 21:break;default:Pn(n,t),zn(t)}}function zn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(yp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=af(t);Du(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Zn(_,""),a.flags&=-33);var T=af(t);Du(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,G=af(t);sf(t,G,D);break;default:throw Error(s(161))}}catch(tt){Te(t,t.return,tt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ep(t,n.alternate,n),n=n.sibling}function Ha(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ki(4,n,n.return),Ha(n);break;case 1:Vr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gp(n,n.return,a),Ha(n);break;case 27:Zl(n.stateNode);case 26:case 5:Vr(n,n.return),Ha(n);break;case 22:n.memoizedState===null&&Ha(n);break;case 30:Ha(n);break;default:Ha(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(h,d,a),Bl(4,d);break;case 1:if(Bi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Te(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)tg(D[h],T)}catch(G){Te(l,l.return,G)}}a&&_&64&&mp(d),Hl(d,d.return);break;case 27:vp(d);case 26:case 5:Bi(h,d,a),a&&l===null&&_&4&&pp(d),Hl(d,d.return);break;case 12:Bi(h,d,a);break;case 13:Bi(h,d,a),a&&_&4&&Ap(h,d);break;case 22:d.memoizedState===null&&Bi(h,d,a),Hl(d,d.return);break;case 30:break;default:Bi(h,d,a)}n=n.sibling}}function uf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t))}function Lr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wp(t,n,a,l),n=n.sibling}function wp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Lr(t,n,a,l),h&2048&&Bl(9,n);break;case 1:Lr(t,n,a,l);break;case 3:Lr(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t)));break;case 12:if(h&2048){Lr(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Te(n,n.return,D)}}else Lr(t,n,a,l);break;case 13:Lr(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?Lr(t,n,a,l):ql(t,n):d._visibility&2?Lr(t,n,a,l):(d._visibility|=2,Ds(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&uf(_,n);break;case 24:Lr(t,n,a,l),h&2048&&cf(n.alternate,n);break;default:Lr(t,n,a,l)}}function Ds(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,_=n,T=a,D=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:Ds(d,_,T,D,h),Bl(8,_);break;case 23:break;case 22:var tt=_.stateNode;_.memoizedState!==null?tt._visibility&2?Ds(d,_,T,D,h):ql(d,_):(tt._visibility|=2,Ds(d,_,T,D,h)),h&&G&2048&&uf(_.alternate,_);break;case 24:Ds(d,_,T,D,h),h&&G&2048&&cf(_.alternate,_);break;default:Ds(d,_,T,D,h)}n=n.sibling}}function ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ql(a,l),h&2048&&uf(l.alternate,l);break;case 24:ql(a,l),h&2048&&cf(l.alternate,l);break;default:ql(a,l)}n=n.sibling}}var Gl=8192;function xs(t){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)Cp(t),t=t.sibling}function Cp(t){switch(t.tag){case 26:xs(t),t.flags&Gl&&t.memoizedState!==null&&jT(mr,t.memoizedState,t.memoizedProps);break;case 5:xs(t);break;case 3:case 4:var n=mr;mr=Bu(t.stateNode.containerInfo),xs(t),mr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Gl,Gl=16777216,xs(t),Gl=n):xs(t));break;default:xs(t)}}function Dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ze=l,Mp(l,t)}Dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xp(t),t=t.sibling}function xp(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&ki(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,xu(t)):Fl(t);break;default:Fl(t)}}function xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ze=l,Mp(l,t)}Dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ki(8,n,n.return),xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,xu(n));break;default:xu(n)}t=t.sibling}}function Mp(t,n){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:ki(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ze=l;else t:for(a=t;Ze!==null;){l=Ze;var h=l.sibling,d=l.return;if(Tp(l),l===a){Ze=null;break t}if(h!==null){h.return=d,Ze=h;break t}Ze=d}}}var nT={getCacheForType:function(t){var n=fn(Ge),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},rT=typeof WeakMap=="function"?WeakMap:Map,de=0,Se=null,$t=null,re=0,me=0,kn=null,Hi=!1,Ms=!1,hf=!1,mi=0,xe=0,qi=0,qa=0,ff=0,sr=0,Is=0,Ql=null,xn=null,df=!1,mf=0,Mu=1/0,Iu=null,Gi=null,an=0,Fi=null,Ns=null,Os=0,gf=0,pf=null,Ip=null,Yl=0,yf=null;function jn(){if((de&2)!==0&&re!==0)return re&-re;if(Y.T!==null){var t=Es;return t!==0?t:bf()}return I()}function Np(){sr===0&&(sr=(re&536870912)===0||ue?Kr():536870912);var t=ar.current;return t!==null&&(t.flags|=32),sr}function Bn(t,n,a){(t===Se&&(me===2||me===9)||t.cancelPendingCommit!==null)&&(Vs(t,0),Qi(t,re,sr,!1)),hr(t,a),((de&2)===0||t!==Se)&&(t===Se&&((de&2)===0&&(qa|=a),xe===4&&Qi(t,re,sr,!1)),Ur(t))}function Op(t,n,a){if((de&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=l?sT(t,n):Ef(t,n,!0),d=l;do{if(h===0){Ms&&!l&&Qi(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!iT(a)){h=Ef(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Ql;var D=T.current.memoizedState.isDehydrated;if(D&&(Vs(T,_).flags|=256),_=Ef(T,_,!1),_!==2){if(hf&&!D){T.errorRecoveryDisabledLanes|=d,qa|=d,h=4;break t}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Vs(t,0),Qi(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qi(l,n,sr,!Hi);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=mf+300-_n(),10<h)){if(Qi(l,n,sr,!Hi),Yr(l,0,!0)!==0)break t;l.timeoutHandle=oy(Vp.bind(null,l,a,xn,Iu,df,n,sr,qa,Is,Hi,d,2,-0,0),h);break t}Vp(l,a,xn,Iu,df,n,sr,qa,Is,Hi,d,0,-0,0)}}break}while(!0);Ur(t)}function Vp(t,n,a,l,h,d,_,T,D,G,tt,at,K,X){if(t.timeoutHandle=-1,at=n.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(to={stylesheets:null,count:0,unsuspend:kT},Cp(n),at=BT(),at!==null)){t.cancelPendingCommit=at(Bp.bind(null,t,n,d,a,l,h,_,T,D,tt,1,K,X)),Qi(t,d,_,!G);return}Bp(t,n,d,a,l,h,_,T,D)}function iT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Ln(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(t,n,a,l){n&=~ff,n&=~qa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Le(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&En(t,a,n)}function Nu(){return(de&6)===0?(Kl(0),!1):!0}function vf(){if($t!==null){if(me===0)var t=$t.return;else t=$t,si=Pa=null,Vh(t),ws=null,zl=0,t=$t;for(;t!==null;)dp(t.alternate,t),t=t.return;$t=null}}function Vs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ST(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vf(),Se=t,$t=a=ri(t.current,null),re=n,me=0,kn=null,Hi=!1,Ms=Yn(t,n),hf=!1,Is=sr=ff=qa=qi=xe=0,xn=Ql=null,df=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Le(l),d=1<<h;n|=t[h],l&=~d}return mi=n,tu(),a}function Lp(t,n){Gt=null,Y.H=_u,n===xl||n===uu?(n=Jm(),me=3):n===Xm?(n=Jm(),me=4):me=n===Wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,$t===null&&(xe=1,bu(t,er(n,t.current)))}function Up(){var t=Y.H;return Y.H=_u,t===null?_u:t}function Pp(){var t=Y.A;return Y.A=nT,t}function _f(){xe=4,Hi||(re&4194048)!==re&&ar.current!==null||(Ms=!0),(qi&134217727)===0&&(qa&134217727)===0||Se===null||Qi(Se,re,sr,!1)}function Ef(t,n,a){var l=de;de|=2;var h=Up(),d=Pp();(Se!==t||re!==n)&&(Iu=null,Vs(t,n)),n=!1;var _=xe;t:do try{if(me!==0&&$t!==null){var T=$t,D=kn;switch(me){case 8:vf(),_=6;break t;case 3:case 2:case 9:case 6:ar.current===null&&(n=!0);var G=me;if(me=0,kn=null,Ls(t,T,D,G),a&&Ms){_=0;break t}break;default:G=me,me=0,kn=null,Ls(t,T,D,G)}}aT(),_=xe;break}catch(tt){Lp(t,tt)}while(!0);return n&&t.shellSuspendCounter++,si=Pa=null,de=l,Y.H=h,Y.A=d,$t===null&&(Se=null,re=0,tu()),_}function aT(){for(;$t!==null;)zp($t)}function sT(t,n){var a=de;de|=2;var l=Up(),h=Pp();Se!==t||re!==n?(Iu=null,Mu=_n()+500,Vs(t,n)):Ms=Yn(t,n);t:do try{if(me!==0&&$t!==null){n=$t;var d=kn;e:switch(me){case 1:me=0,kn=null,Ls(t,n,d,1);break;case 2:case 9:if($m(d)){me=0,kn=null,kp(n);break}n=function(){me!==2&&me!==9||Se!==t||(me=7),Ur(t)},d.then(n,n);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:$m(d)?(me=0,kn=null,kp(n)):(me=0,kn=null,Ls(t,n,d,7));break;case 5:var _=null;switch($t.tag){case 26:_=$t.memoizedState;case 5:case 27:var T=$t;if(!_||Ey(_)){me=0,kn=null;var D=T.sibling;if(D!==null)$t=D;else{var G=T.return;G!==null?($t=G,Ou(G)):$t=null}break e}}me=0,kn=null,Ls(t,n,d,5);break;case 6:me=0,kn=null,Ls(t,n,d,6);break;case 8:vf(),xe=6;break t;default:throw Error(s(462))}}lT();break}catch(tt){Lp(t,tt)}while(!0);return si=Pa=null,Y.H=l,Y.A=h,de=a,$t!==null?0:(Se=null,re=0,tu(),xe)}function lT(){for(;$t!==null&&!pa();)zp($t)}function zp(t){var n=hp(t.alternate,t,mi);t.memoizedProps=t.pendingProps,n===null?Ou(t):$t=n}function kp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ap(a,n,n.pendingProps,n.type,void 0,re);break;case 11:n=ap(a,n,n.pendingProps,n.type.render,n.ref,re);break;case 5:Vh(n);default:dp(a,n),n=$t=jm(n,mi),n=hp(a,n,mi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):$t=n}function Ls(t,n,a,l){si=Pa=null,Vh(n),ws=null,zl=0;var h=n.return;try{if($E(t,h,n,a,re)){xe=1,bu(t,er(a,t.current)),$t=null;return}}catch(d){if(h!==null)throw $t=h,d;xe=1,bu(t,er(a,t.current)),$t=null;return}n.flags&32768?(ue||l===1?t=!0:Ms||(re&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=ar.current,l!==null&&l.tag===13&&(l.flags|=16384))),jp(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){jp(n,Hi);return}t=n.return;var a=JE(n.alternate,n,mi);if(a!==null){$t=a;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=t}while(n!==null);xe===0&&(xe=5)}function jp(t,n){do{var a=WE(t.alternate,t);if(a!==null){a.flags&=32767,$t=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){$t=t;return}$t=t=a}while(t!==null);xe=6,$t=null}function Bp(t,n,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Vu();while(an!==0);if((de&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=uh,Ci(t,a,d,_,T,D),t===Se&&($t=Se=null,re=0),Ns=n,Fi=t,Os=a,gf=d,pf=h,Ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hT(Qr,function(){return Qp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ht.p,ht.p=2,_=de,de|=4;try{tT(t,n,a)}finally{de=_,ht.p=h,Y.T=l}}an=1,Hp(),qp(),Gp()}}function Hp(){if(an===1){an=0;var t=Fi,n=Ns,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ht.p;ht.p=2;var h=de;de|=4;try{bp(n,t);var d=Nf,_=Mm(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&xm(T.ownerDocument.documentElement,T)){if(D!==null&&ih(T)){var G=D.start,tt=D.end;if(tt===void 0&&(tt=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(tt,T.value.length);else{var at=T.ownerDocument||document,K=at&&at.defaultView||window;if(K.getSelection){var X=K.getSelection(),Vt=T.textContent.length,It=Math.min(D.start,Vt),_e=D.end===void 0?It:Math.min(D.end,Vt);!X.extend&&It>_e&&(_=_e,_e=It,It=_);var z=Dm(T,It),V=Dm(T,_e);if(z&&V&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var B=at.createRange();B.setStart(z.node,z.offset),X.removeAllRanges(),It>_e?(X.addRange(B),X.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),X.addRange(B))}}}}for(at=[],X=T;X=X.parentNode;)X.nodeType===1&&at.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<at.length;T++){var et=at[T];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Qu=!!If,Nf=If=null}finally{de=h,ht.p=l,Y.T=a}}t.current=n,an=2}}function qp(){if(an===2){an=0;var t=Fi,n=Ns,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ht.p;ht.p=2;var h=de;de|=4;try{Ep(t,n.alternate,n)}finally{de=h,ht.p=l,Y.T=a}}an=3}}function Gp(){if(an===4||an===3){an=0,es();var t=Fi,n=Ns,a=Os,l=Ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?an=5:(an=0,Ns=Fi=null,Fp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Di(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=ht.p,ht.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,ht.p=h}}(Os&3)!==0&&Vu(),Ur(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===yf?Yl++:(Yl=0,yf=t):Yl=0,Kl(0)}}function Fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Cl(n)))}function Vu(t){return Hp(),qp(),Gp(),Qp()}function Qp(){if(an!==5)return!1;var t=Fi,n=gf;gf=0;var a=Di(Os),l=Y.T,h=ht.p;try{ht.p=32>a?32:a,Y.T=null,a=pf,pf=null;var d=Fi,_=Os;if(an=0,Ns=Fi=null,Os=0,(de&6)!==0)throw Error(s(331));var T=de;if(de|=4,xp(d.current),wp(d,d.current,_,a),de=T,Kl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{ht.p=h,Y.T=l,Fp(t,n)}}function Yp(t,n,a){n=er(a,n),n=Kh(t.stateNode,n,2),t=Li(t,n,2),t!==null&&(hr(t,2),Ur(t))}function Te(t,n,a){if(t.tag===3)Yp(t,t,a);else for(;n!==null;){if(n.tag===3){Yp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=er(a,t),a=Zg(2),l=Li(n,a,2),l!==null&&(Jg(a,l,n,t),hr(l,2),Ur(l));break}}n=n.return}}function Tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(hf=!0,h.add(a),t=oT.bind(null,t,n,a),n.then(t,t))}function oT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Se===t&&(re&a)===a&&(xe===4||xe===3&&(re&62914560)===re&&300>_n()-mf?(de&2)===0&&Vs(t,0):ff|=a,Is===re&&(Is=0)),Ur(t)}function Kp(t,n){n===0&&(n=va()),t=ps(t,n),t!==null&&(hr(t,n),Ur(t))}function uT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Kp(t,a)}function cT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Kp(t,a)}function hT(t,n){return Fr(t,n)}var Lu=null,Us=null,Sf=!1,Uu=!1,Af=!1,Ga=0;function Ur(t){t!==Us&&t.next===null&&(Us===null?Lu=Us=t:Us=Us.next=t),Uu=!0,Sf||(Sf=!0,dT())}function Kl(t,n){if(!Af&&Uu){Af=!0;do for(var a=!1,l=Lu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Le(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Jp(l,d))}else d=re,d=Yr(l,l===Se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,Jp(l,d));l=l.next}while(a);Af=!1}}function fT(){Xp()}function Xp(){Uu=Sf=!1;var t=0;Ga!==0&&(TT()&&(t=Ga),Ga=0);for(var n=_n(),a=null,l=Lu;l!==null;){var h=l.next,d=$p(l,n);d===0?(l.next=null,a===null?Lu=h:a.next=h,h===null&&(Us=a)):(a=l,(t!==0||(d&3)!==0)&&(Uu=!0)),l=h}Kl(t)}function $p(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Le(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=wi(T,n)):D<=n&&(t.expiredLanes|=T),d&=~T}if(n=Se,a=re,a=Yr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(me===2||me===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&vn(l),Di(a)){case 2:case 8:a=Ai;break;case 32:a=Qr;break;case 268435456:a=Fn;break;default:a=Qr}return l=Zp.bind(null,t),a=Fr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&vn(l),t.callbackPriority=2,t.callbackNode=null,2}function Zp(t,n){if(an!==0&&an!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vu()&&t.callbackNode!==a)return null;var l=re;return l=Yr(t,t===Se?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Op(t,l,n),$p(t,_n()),t.callbackNode!=null&&t.callbackNode===a?Zp.bind(null,t):null)}function Jp(t,n){if(Vu())return null;Op(t,n,!0)}function dT(){AT(function(){(de&6)!==0?Fr(ya,fT):Xp()})}function bf(){return Ga===0&&(Ga=Kr()),Ga}function Wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:is(""+t)}function ty(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function mT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Wp((h[ct]||null).action),_=l.submitter;_&&(n=(n=_[ct]||null)?Wp(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new as("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var D=_?ty(h,_):new FormData(h);qh(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?ty(h,_):new FormData(h),qh(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Rf=0;Rf<oh.length;Rf++){var wf=oh[Rf],gT=wf.toLowerCase(),pT=wf[0].toUpperCase()+wf.slice(1);dr(gT,"on"+pT)}dr(Om,"onAnimationEnd"),dr(Vm,"onAnimationIteration"),dr(Lm,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(OE,"onTransitionRun"),dr(VE,"onTransitionStart"),dr(LE,"onTransitionCancel"),dr(Um,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),Be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Be("onBeforeInput",["compositionend","keypress","textInput","paste"]),Be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,G=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(tt){Au(tt)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,G=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(tt){Au(tt)}h.currentTarget=null,d=D}}}}function Zt(t,n){var a=n[Ct];a===void 0&&(a=n[Ct]=new Set);var l=t+"__bubble";a.has(l)||(ny(n,t,2,!1),a.add(l))}function Cf(t,n,a){var l=0;n&&(l|=4),ny(a,t,l,n)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[Pu]){t[Pu]=!0,Qt.forEach(function(a){a!=="selectionchange"&&(yT.has(a)||Cf(a,!1,t),Cf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pu]||(n[Pu]=!0,Cf("selectionchange",!1,n))}}function ny(t,n,a,l){switch(wy(n)){case 2:var h=GT;break;case 8:h=FT;break;default:h=Hf}a=h.bind(null,n,a,t),h=void 0,!Wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function xf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Nt(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}T=T.parentNode}}l=l.return}ko(function(){var G=d,tt=Jn(a),at=[];t:{var K=Pm.get(t);if(K!==void 0){var X=as,Vt=t;switch(t){case"keypress":if(Cr(a)===0)break t;case"keydown":case"keyup":X=hs;break;case"focusin":Vt="focus",X=os;break;case"focusout":Vt="blur",X=os;break;case"beforeblur":case"afterblur":X=os;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Yo;break;case Om:case Vm:case Lm:X=us;break;case Um:X=Xo;break;case"scroll":case"scrollend":X=jo;break;case"wheel":X=fs;break;case"copy":case"cut":case"paste":X=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=_l;break;case"toggle":case"beforetoggle":X=Zo}var It=(n&4)!==0,_e=!It&&(t==="scroll"||t==="scrollend"),z=It?K!==null?K+"Capture":null:K;It=[];for(var V=G,B;V!==null;){var et=V;if(B=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||B===null||z===null||(et=Aa(V,z),et!=null&&It.push($l(V,et,B))),_e)break;V=V.return}0<It.length&&(K=new X(K,Vt,null,a,tt),at.push({event:K,listeners:It}))}}if((n&7)===0){t:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==Zr&&(Vt=a.relatedTarget||a.fromElement)&&(Nt(Vt)||Vt[vt]))break t;if((X||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Vt=a.relatedTarget||a.toElement,X=G,Vt=Vt?Nt(Vt):null,Vt!==null&&(_e=u(Vt),It=Vt.tag,Vt!==_e||It!==5&&It!==27&&It!==6)&&(Vt=null)):(X=null,Vt=G),X!==Vt)){if(It=tr,et="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(It=_l,et="onPointerLeave",z="onPointerEnter",V="pointer"),_e=X==null?K:ce(X),B=Vt==null?K:ce(Vt),K=new It(et,V+"leave",X,a,tt),K.target=_e,K.relatedTarget=B,et=null,Nt(tt)===G&&(It=new It(z,V+"enter",Vt,a,tt),It.target=B,It.relatedTarget=_e,et=It),_e=et,X&&Vt)e:{for(It=X,z=Vt,V=0,B=It;B;B=Ps(B))V++;for(B=0,et=z;et;et=Ps(et))B++;for(;0<V-B;)It=Ps(It),V--;for(;0<B-V;)z=Ps(z),B--;for(;V--;){if(It===z||z!==null&&It===z.alternate)break e;It=Ps(It),z=Ps(z)}It=null}else It=null;X!==null&&ry(at,K,X,It,!1),Vt!==null&&_e!==null&&ry(at,_e,Vt,It,!0)}}t:{if(K=G?ce(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Et=Sm;else if(qe(K))if(Am)Et=ME;else{Et=DE;var Yt=CE}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&fl(G.elementType)&&(Et=Sm):Et=xE;if(Et&&(Et=Et(t,G))){ni(at,Et,a,tt);break t}Yt&&Yt(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Mi(K,"number",K.value)}switch(Yt=G?ce(G):window,t){case"focusin":(qe(Yt)||Yt.contentEditable==="true")&&(ds=Yt,ah=G,Sl=null);break;case"focusout":Sl=ah=ds=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Im(at,a,tt);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":Im(at,a,tt)}var Rt;if(Mr)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ee?Z(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(v&&a.locale!=="ko"&&(ee||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ee&&(Rt=ml()):(wr=tt,Ii="value"in wr?wr.value:wr.textContent,ee=!0)),Yt=zu(G,Ot),0<Yt.length&&(Ot=new yl(Ot,t,null,a,tt),at.push({event:Ot,listeners:Yt}),Rt?Ot.data=Rt:(Rt=ft(a),Rt!==null&&(Ot.data=Rt)))),(Rt=p?He(t,a):ne(t,a))&&(Ot=zu(G,"onBeforeInput"),0<Ot.length&&(Yt=new yl("onBeforeInput","beforeinput",null,a,tt),at.push({event:Yt,listeners:Ot}),Yt.data=Rt)),mT(at,t,G,a,tt)}ey(at,n)})}function $l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function zu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Aa(t,a),h!=null&&l.unshift($l(t,h,d)),h=Aa(t,n),h!=null&&l.push($l(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ry(t,n,a,l,h){for(var d=n._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,G=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||G===null||(D=G,h?(G=Aa(a,d),G!=null&&_.unshift($l(a,G,D))):h||(G=Aa(a,d),G!=null&&_.push($l(a,G,D)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var vT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(vT,`
`).replace(_T,"")}function ay(t,n){return n=iy(n),iy(t)===n}function ku(){}function ve(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Zn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":hl(t,l,d);break;case"data":if(n!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=is(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ve(t,n,"name",h.name,h,null),ve(t,n,"formEncType",h.formEncType,h,null),ve(t,n,"formMethod",h.formMethod,h,null),ve(t,n,"formTarget",h.formTarget,h,null)):(ve(t,n,"encType",h.encType,h,null),ve(t,n,"method",h.method,h,null),ve(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=is(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ku);break;case"onScroll":l!=null&&Zt("scroll",t);break;case"onScrollEnd":l!=null&&Zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Zt("beforetoggle",t),Zt("toggle",t),hn(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jc.get(a)||a,hn(t,a,l))}}function Mf(t,n,a,l,h,d){switch(a){case"style":hl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&Zn(t,""+l);break;case"onScroll":l!=null&&Zt("scroll",t);break;case"onScrollEnd":l!=null&&Zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hn(t,a,l)}}}function sn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",t),Zt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(t,n,d,_,a,null)}}h&&ve(t,n,"srcSet",a.srcSet,a,null),l&&ve(t,n,"src",a.src,a,null);return;case"input":Zt("invalid",t);var T=d=_=h=null,D=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":_=tt;break;case"checked":D=tt;break;case"defaultChecked":G=tt;break;case"value":d=tt;break;case"defaultValue":T=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,n));break;default:ve(t,n,l,tt,a,null)}}Ea(t,d,T,D,G,_,h,!1),rs(t);return;case"select":Zt("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ve(t,n,h,T,a,null)}n=d,a=_,t.multiple=!!l,n!=null?$r(t,!!l,n,!1):a!=null&&$r(t,!!l,a,!0);return;case"textarea":Zt("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ve(t,n,_,T,a,null)}Ta(t,l,h,d),rs(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(t,n,D,l,a,null)}return;case"dialog":Zt("beforetoggle",t),Zt("toggle",t),Zt("cancel",t),Zt("close",t);break;case"iframe":case"object":Zt("load",t);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Zt(Xl[l],t);break;case"image":Zt("error",t),Zt("load",t);break;case"details":Zt("toggle",t);break;case"embed":case"source":case"link":Zt("error",t),Zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(t,n,G,l,a,null)}return;default:if(fl(n)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Mf(t,n,tt,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ve(t,n,T,l,a,null))}function ET(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,G=null,tt=null;for(X in a){var at=a[X];if(a.hasOwnProperty(X)&&at!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=at;default:l.hasOwnProperty(X)||ve(t,n,X,null,l,at)}}for(var K in l){var X=l[K];if(at=a[K],l.hasOwnProperty(K)&&(X!=null||at!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":G=X;break;case"defaultChecked":tt=X;break;case"value":_=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:X!==at&&ve(t,n,K,X,l,at)}}Vn(t,_,T,D,G,tt,d,h);return;case"select":X=_=T=K=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(d)||ve(t,n,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&ve(t,n,h,d,l,D)}n=T,a=_,l=X,K!=null?$r(t,!!a,K,!1):!!l!=!!a&&(n!=null?$r(t,!!a,n,!0):$r(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ve(t,n,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ve(t,n,_,h,l,d)}pe(t,K,X);return;case"option":for(var Vt in a)if(K=a[Vt],a.hasOwnProperty(Vt)&&K!=null&&!l.hasOwnProperty(Vt))switch(Vt){case"selected":t.selected=!1;break;default:ve(t,n,Vt,null,l,K)}for(D in l)if(K=l[D],X=a[D],l.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ve(t,n,D,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)K=a[It],a.hasOwnProperty(It)&&K!=null&&!l.hasOwnProperty(It)&&ve(t,n,It,null,l,K);for(G in l)if(K=l[G],X=a[G],l.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:ve(t,n,G,K,l,X)}return;default:if(fl(n)){for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!==void 0&&!l.hasOwnProperty(_e)&&Mf(t,n,_e,void 0,l,K);for(tt in l)K=l[tt],X=a[tt],!l.hasOwnProperty(tt)||K===X||K===void 0&&X===void 0||Mf(t,n,tt,K,l,X);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&ve(t,n,z,null,l,K);for(at in l)K=l[at],X=a[at],!l.hasOwnProperty(at)||K===X||K==null&&X==null||ve(t,n,at,K,l,X)}var If=null,Nf=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vf=null;function TT(){var t=window.event;return t&&t.type==="popstate"?t===Vf?!1:(Vf=t,!0):(Vf=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,ST=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(bT)}:oy;function bT(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function cy(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Zl(_.documentElement),a&2&&Zl(_.body),a&4)for(a=_.head,Zl(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Mt]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),ao(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ao(n)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lf(a),St(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=gr(t.nextSibling),t===null)break}return null}function wT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=gr(t.nextSibling),t===null))return null;return t}function Uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function CT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function gr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Pf=null;function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function fy(t,n,a){switch(n=ju(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);St(t)}var lr=new Map,dy=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gi=ht.d;ht.d={f:DT,r:xT,D:MT,C:IT,L:NT,m:OT,X:LT,S:VT,M:UT};function DT(){var t=gi.f(),n=Nu();return t||n}function xT(t){var n=Xt(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):gi.r(t)}var zs=typeof document>"u"?null:document;function my(t,n,a){var l=zs;if(l&&typeof n=="string"&&n){var h=Pe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dy.has(h)||(dy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),sn(n,"link",t),te(n),l.head.appendChild(n)))}}function MT(t){gi.D(t),my("dns-prefetch",t,null)}function IT(t,n){gi.C(t,n),my("preconnect",t,n)}function NT(t,n,a){gi.L(t,n,a);var l=zs;if(l&&t&&n){var h='link[rel="preload"][as="'+Pe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pe(a.imageSizes)+'"]')):h+='[href="'+Pe(t)+'"]';var d=h;switch(n){case"style":d=ks(t);break;case"script":d=js(t)}lr.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),lr.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Jl(d))||n==="script"&&l.querySelector(Wl(d))||(n=l.createElement("link"),sn(n,"link",t),te(n),l.head.appendChild(n)))}}function OT(t,n){gi.m(t,n);var a=zs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pe(l)+'"][href="'+Pe(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=js(t)}if(!lr.has(d)&&(t=E({rel:"modulepreload",href:t},n),lr.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(d)))return}l=a.createElement("link"),sn(l,"link",t),te(l),a.head.appendChild(l)}}}function VT(t,n,a){gi.S(t,n,a);var l=zs;if(l&&t){var h=se(l).hoistableStyles,d=ks(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Jl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=lr.get(d))&&zf(t,a);var D=_=l.createElement("link");te(D),sn(D,"link",t),D._p=new Promise(function(G,tt){D.onload=G,D.onerror=tt}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function LT(t,n){gi.X(t,n);var a=zs;if(a&&t){var l=se(a).hoistableScripts,h=js(t),d=l.get(h);d||(d=a.querySelector(Wl(h)),d||(t=E({src:t,async:!0},n),(n=lr.get(h))&&kf(t,n),d=a.createElement("script"),te(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function UT(t,n){gi.M(t,n);var a=zs;if(a&&t){var l=se(a).hoistableScripts,h=js(t),d=l.get(h);d||(d=a.querySelector(Wl(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=lr.get(h))&&kf(t,n),d=a.createElement("script"),te(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gy(t,n,a,l){var h=(h=wt.current)?Bu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ks(a.href),a=se(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ks(a.href);var d=se(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Jl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),lr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},lr.set(t,a),d||PT(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=js(a),a=se(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ks(t){return'href="'+Pe(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function PT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),sn(n,"link",a),te(n),t.head.appendChild(n))}function js(t){return'[src="'+Pe(t)+'"]'}function Wl(t){return"script[async]"+t}function yy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Pe(a.href)+'"]');if(l)return n.instance=l,te(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),te(l),sn(l,"style",h),Hu(l,a.precedence,t),n.instance=l;case"stylesheet":h=ks(a.href);var d=t.querySelector(Jl(h));if(d)return n.state.loading|=4,n.instance=d,te(d),d;l=py(a),(h=lr.get(h))&&zf(l,h),d=(t.ownerDocument||t).createElement("link"),te(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),sn(d,"link",l),n.state.loading|=4,Hu(d,a.precedence,t),n.instance=d;case"script":return d=js(a.src),(h=t.querySelector(Wl(d)))?(n.instance=h,te(h),h):(l=a,(h=lr.get(d))&&(l=E({},a),kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),te(h),sn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Hu(l,a.precedence,t));return n.instance}function Hu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function vy(t,n,a){if(qu===null){var l=new Map,h=qu=new Map;h.set(a,l)}else h=qu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Mt]||d[it]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function _y(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function zT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var to=null;function kT(){}function jT(t,n,a){if(to===null)throw Error(s(475));var l=to;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ks(a.href),d=t.querySelector(Jl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Gu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,te(d);return}d=t.ownerDocument||t,a=py(a),(h=lr.get(h))&&zf(a,h),d=d.createElement("link"),te(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),sn(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Gu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function BT(){if(to===null)throw Error(s(475));var t=to;return t.stylesheets&&t.count===0&&jf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&jf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function jf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,n.forEach(HT,t),Fu=null,Gu.call(t))}function HT(t,n){if(!(n.state.loading&4)){var a=Fu.get(t);if(a)var l=a.get(null);else{a=new Map,Fu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Gu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var eo={$$typeof:ut,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function qT(t,n,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ty(t,n,a,l,h,d,_,T,D,G,tt,at){return t=new qT(t,n,a,_,T,D,G,at),n=1,d===!0&&(n|=24),d=Un(3,null,null,n),t.current=d,d.stateNode=t,n=Eh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},bh(d),t}function Sy(t){return t?(t=ys,t):ys}function Ay(t,n,a,l,h,d){h=Sy(h),l.context===null?l.context=h:l.pendingContext=h,l=Vi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Li(t,l,n),a!==null&&(Bn(a,t,n),Il(a,t,n))}function by(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bf(t,n){by(t,n),(t=t.alternate)&&by(t,n)}function Ry(t){if(t.tag===13){var n=ps(t,67108864);n!==null&&Bn(n,t,67108864),Bf(t,67108864)}}var Qu=!0;function GT(t,n,a,l){var h=Y.T;Y.T=null;var d=ht.p;try{ht.p=2,Hf(t,n,a,l)}finally{ht.p=d,Y.T=h}}function FT(t,n,a,l){var h=Y.T;Y.T=null;var d=ht.p;try{ht.p=8,Hf(t,n,a,l)}finally{ht.p=d,Y.T=h}}function Hf(t,n,a,l){if(Qu){var h=qf(l);if(h===null)xf(t,n,l,Yu,a),Cy(t,l);else if(YT(h,t,n,a,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<QT.indexOf(t)){for(;h!==null;){var d=Xt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=In(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Le(_);T.entanglements[1]|=D,_&=~D}Ur(d),(de&6)===0&&(Mu=_n()+500,Kl(0))}}break;case 13:T=ps(d,2),T!==null&&Bn(T,d,2),Nu(),Bf(d,2)}if(d=qf(l),d===null&&xf(t,n,l,Yu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xf(t,n,l,null,a)}}function qf(t){return t=Jn(t),Gf(t)}var Yu=null;function Gf(t){if(Yu=null,t=Nt(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ol()){case ya:return 2;case Ai:return 8;case Qr:case cr:return 32;case Fn:return 268435456;default:return 32}default:return 32}}var Ff=!1,Ki=null,Xi=null,$i=null,no=new Map,ro=new Map,Zi=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function io(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Xt(n),n!==null&&Ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function YT(t,n,a,l,h){switch(n){case"focusin":return Ki=io(Ki,t,n,a,l,h),!0;case"dragenter":return Xi=io(Xi,t,n,a,l,h),!0;case"mouseover":return $i=io($i,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return no.set(d,io(no.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ro.set(d,io(ro.get(d)||null,t,n,a,l,h)),!0}return!1}function Dy(t){var n=Nt(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,k(t.priority,function(){if(a.tag===13){var l=jn();l=Sr(l);var h=ps(a,l);h!==null&&Bn(h,a,l),Bf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zr=l,a.target.dispatchEvent(l),Zr=null}else return n=Xt(a),n!==null&&Ry(n),t.blockedOn=a,!1;n.shift()}return!0}function xy(t,n,a){Ku(t)&&a.delete(n)}function KT(){Ff=!1,Ki!==null&&Ku(Ki)&&(Ki=null),Xi!==null&&Ku(Xi)&&(Xi=null),$i!==null&&Ku($i)&&($i=null),no.forEach(xy),ro.forEach(xy)}function Xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Ff||(Ff=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,KT)))}var $u=null;function My(t){$u!==t&&($u=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$u===t&&($u=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Gf(l||a)===null)continue;break}var d=Xt(a);d!==null&&(t.splice(n,3),n-=3,qh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function n(D){return Xu(D,t)}Ki!==null&&Xu(Ki,t),Xi!==null&&Xu(Xi,t),$i!==null&&Xu($i,t),no.forEach(n),ro.forEach(n);for(var a=0;a<Zi.length;a++){var l=Zi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)Dy(a),a.blockedOn===null&&Zi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ct]||null;if(typeof d=="function")_||My(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ct]||null)T=_.formAction;else if(Gf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),My(a)}}}function Qf(t){this._internalRoot=t}Zu.prototype.render=Qf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=jn();Ay(a,l,t,n,null,null)},Zu.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),Nu(),n[vt]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=I();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zi.length&&n!==0&&n<Zi[a].priority;a++);Zi.splice(a,0,t),a===0&&Dy(t)}};var Iy=e.version;if(Iy!=="19.1.0")throw Error(s(527,Iy,"19.1.0"));ht.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var XT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{oe=Ju.inject(XT),qt=Ju}catch{}}return lo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Yg,d=Kg,_=Xg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Ty(t,1,!1,null,null,a,l,h,d,_,T,null),t[vt]=n.current,Df(t),new Qf(n)},lo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Yg,_=Kg,T=Xg,D=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),n=Ty(t,1,!0,n,a??null,l,h,d,_,T,D,G),n.context=Sy(null),a=n.current,l=jn(),l=Sr(l),h=Vi(l),h.callback=null,Li(a,h,l),a=l,n.current.lanes=a,hr(n,a),Ur(n),t[vt]=n.current,Df(t),new Zu(n)},lo.version="19.1.0",lo}var Hy;function s2(){if(Hy)return Xf.exports;Hy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xf.exports=a2(),Xf.exports}var l2=s2(),oo={},qy;function o2(){if(qy)return oo;qy=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.parse=f,oo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,M){const U=new u,W=b.length;if(W<2)return U;const F=(M==null?void 0:M.decode)||E;let J=0;do{const rt=b.indexOf("=",J);if(rt===-1)break;const ut=b.indexOf(";",J),gt=ut===-1?W:ut;if(rt>gt){J=b.lastIndexOf(";",rt-1)+1;continue}const mt=m(b,J,rt),H=g(b,rt,mt),N=b.slice(mt,H);if(U[N]===void 0){let R=m(b,rt+1,gt),w=g(b,gt,R);const O=F(b.slice(R,w));U[N]=O}J=gt+1}while(J<W);return U}function m(b,M,U){do{const W=b.charCodeAt(M);if(W!==32&&W!==9)return M}while(++M<U);return U}function g(b,M,U){for(;M>U;){const W=b.charCodeAt(--M);if(W!==32&&W!==9)return M+1}return U}function y(b,M,U){const W=(U==null?void 0:U.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const F=W(M);if(!e.test(F))throw new TypeError(`argument val is invalid: ${M}`);let J=b+"="+F;if(!U)return J;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);J+="; Max-Age="+U.maxAge}if(U.domain){if(!r.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);J+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);J+="; Path="+U.path}if(U.expires){if(!A(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);J+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(J+="; HttpOnly"),U.secure&&(J+="; Secure"),U.partitioned&&(J+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":J+="; Priority=Low";break;case"medium":J+="; Priority=Medium";break;case"high":J+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":J+="; SameSite=Strict";break;case"lax":J+="; SameSite=Lax";break;case"none":J+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return J}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return oo}o2();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S0=i=>{throw TypeError(i)},u2=(i,e,r)=>e.has(i)||S0("Cannot "+r),Wf=(i,e,r)=>(u2(i,e,"read from private field"),r?r.call(i):e.get(i)),c2=(i,e,r)=>e.has(i)?S0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,r),Gy="popstate";function h2(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=Si(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),So("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:oa(u))}function s(o,u){Oe(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return d2(e,r,s,i)}function Jt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Oe(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f2(){return Math.random().toString(36).substring(2,10)}function Fy(i,e){return{usr:i.state,key:i.key,idx:e}}function So(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Si(e):e,state:r,key:e&&e.key||s||f2()}}function oa({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Si(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function d2(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let F=E(),J=F==null?null:F-y;y=F,g&&g({action:m,location:W.location,delta:J})}function b(F,J){m="PUSH";let rt=So(W.location,F,J);r&&r(rt,F),y=E()+1;let ut=Fy(rt,y),gt=W.createHref(rt);try{f.pushState(ut,"",gt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;o.location.assign(gt)}u&&g&&g({action:m,location:W.location,delta:1})}function M(F,J){m="REPLACE";let rt=So(W.location,F,J);r&&r(rt,F),y=E();let ut=Fy(rt,y),gt=W.createHref(rt);f.replaceState(ut,"",gt),u&&g&&g({action:m,location:W.location,delta:0})}function U(F){let J=o.location.origin!=="null"?o.location.origin:o.location.href,rt=typeof F=="string"?F:oa(F);return rt=rt.replace(/ $/,"%20"),Jt(J,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,J)}let W={get action(){return m},get location(){return i(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gy,A),g=F,()=>{o.removeEventListener(Gy,A),g=null}},createHref(F){return e(o,F)},createURL:U,encodeLocation(F){let J=U(F);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:b,replace:M,go(F){return f.go(F)}};return W}var fo,Qy=class{constructor(i){if(c2(this,fo,new Map),i)for(let[e,r]of i)this.set(e,r)}get(i){if(Wf(this,fo).has(i))return Wf(this,fo).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Wf(this,fo).set(i,e)}};fo=new WeakMap;var m2=new Set(["lazy","caseSensitive","path","id","index","children"]);function g2(i){return m2.has(i)}var p2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function y2(i){return p2.has(i)}function v2(i){return i.index===!0}function pc(i,e,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Jt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Jt(!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),v2(o)){let g={...o,...e(o),id:m};return s[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return s[m]=g,o.children&&(g.children=pc(o.children,e,f,s)),g}})}function ta(i,e,r="/"){return lc(i,e,r,!1)}function lc(i,e,r,s){let o=typeof e=="string"?Si(e):e,u=ur(o.pathname||"/",r);if(u==null)return null;let f=A0(i);E2(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=I2(u);m=x2(f[g],y,s)}return m}function _2(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function A0(i,e=[],r=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Jt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=zr([s,g.relativePath]),E=r.concat(g);u.children&&u.children.length>0&&(Jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),A0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:C2(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of b0(u.path))o(u,f,g)}),e}function b0(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=b0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function E2(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:D2(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var T2=/^:[\w-]+$/,S2=3,A2=2,b2=1,R2=10,w2=-2,Yy=i=>i==="*";function C2(i,e){let r=i.split("/"),s=r.length;return r.some(Yy)&&(s+=w2),e&&(s+=A2),r.filter(o=>!Yy(o)).reduce((o,u)=>o+(T2.test(u)?S2:u===""?b2:R2),s)}function D2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function x2(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),b=g.route;if(!A&&y&&r&&!s[s.length-1].route.index&&(A=yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:zr([u,A.pathname]),pathnameBase:V2(zr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=zr([u,A.pathnameBase]))}return f}function yc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=M2(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},b)=>{if(E==="*"){let U=m[b]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[b];return A&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function M2(i,e=!1,r=!0){Oe(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function I2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oe(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function N2(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Si(i):i;return{pathname:r?r.startsWith("/")?r:O2(r,e):e,search:L2(s),hash:U2(o)}}function O2(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function td(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R0(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jd(i){let e=R0(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Bd(i,e,r,s=!1){let o;typeof i=="string"?o=Si(i):(o={...i},Jt(!o.pathname||!o.pathname.includes("?"),td("?","pathname","search",o)),Jt(!o.pathname||!o.pathname.includes("#"),td("#","pathname","hash",o)),Jt(!o.search||!o.search.includes("#"),td("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=r;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let g=N2(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var zr=i=>i.join("/").replace(/\/\/+/g,"/"),V2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,U2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,vc=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ao(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var w0=["POST","PUT","PATCH","DELETE"],P2=new Set(w0),z2=["GET",...w0],k2=new Set(z2),j2=new Set([301,302,303,307,308]),B2=new Set([307,308]),ed={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},H2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q2=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),C0="remix-router-transitions",D0=Symbol("ResetLoaderData");function G2(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Jt(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||q2,u={},f=pc(i.routes,o,void 0,u),m,g=i.basename||"/",y=i.dataStrategy||X2,E={unstable_middleware:!1,...i.future},A=null,b=new Set,M=null,U=null,W=null,F=i.hydrationData!=null,J=ta(f,i.history.location,g),rt=!1,ut=null;if(J==null&&!i.patchRoutesOnNavigation){let I=or(404,{pathname:i.history.location.pathname}),{matches:k,route:q}=av(f);J=k,ut={[q.id]:I}}J&&!i.hydrationData&&En(J,f,i.history.location.pathname).active&&(J=null);let gt;if(J)if(J.some(I=>I.route.lazy))gt=!1;else if(!J.some(I=>I.route.loader))gt=!0;else{let I=i.hydrationData?i.hydrationData.loaderData:null,k=i.hydrationData?i.hydrationData.errors:null;if(k){let q=J.findIndex(it=>k[it.route.id]!==void 0);gt=J.slice(0,q+1).every(it=>!dd(it.route,I,k))}else gt=J.every(q=>!dd(q.route,I,k))}else{gt=!1,J=[];let I=En(null,f,i.history.location.pathname);I.active&&I.matches&&(rt=!0,J=I.matches)}let mt,H={historyAction:i.history.action,location:i.history.location,matches:J,initialized:gt,navigation:ed,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ut,fetchers:new Map,blockers:new Map},N="POP",R=!1,w,O=!1,L=new Map,P=null,C=!1,Bt=!1,Kt=new Set,Y=new Map,ht=0,yt=-1,Pt=new Map,x=new Set,nt=new Map,dt=new Map,lt=new Set,At=new Map,jt,wt=null;function Ve(){if(A=i.history.listen(({action:I,location:k,delta:q})=>{if(jt){jt(),jt=void 0;return}Oe(At.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=wi({currentLocation:H.location,nextLocation:k,historyAction:I});if(it&&q!=null){let ct=new Promise(vt=>{jt=vt});i.history.go(q*-1),Yn(it,{state:"blocked",location:k,proceed(){Yn(it,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),ct.then(()=>i.history.go(q))},reset(){let vt=new Map(H.blockers);vt.set(it,uo),Ae({blockers:vt})}});return}return vn(I,k)}),r){s1(e,L);let I=()=>l1(e,L);e.addEventListener("pagehide",I),P=()=>e.removeEventListener("pagehide",I)}return H.initialized||vn("POP",H.location,{initialHydration:!0}),mt}function ge(){A&&A(),P&&P(),b.clear(),w&&w.abort(),H.fetchers.forEach((I,k)=>Le(k)),H.blockers.forEach((I,k)=>Yr(k))}function Gn(I){return b.add(I),()=>b.delete(I)}function Ae(I,k={}){H={...H,...I};let q=[],it=[];H.fetchers.forEach((ct,vt)=>{ct.state==="idle"&&(lt.has(vt)?q.push(vt):it.push(vt))}),lt.forEach(ct=>{!H.fetchers.has(ct)&&!Y.has(ct)&&q.push(ct)}),[...b].forEach(ct=>ct(H,{deletedFetchers:q,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),q.forEach(ct=>Le(ct)),it.forEach(ct=>H.fetchers.delete(ct))}function un(I,k,{flushSync:q}={}){var bt,Mt;let it=H.actionData!=null&&H.navigation.formMethod!=null&&qn(H.navigation.formMethod)&&H.navigation.state==="loading"&&((bt=I.state)==null?void 0:bt._isRedirect)!==!0,ct;k.actionData?Object.keys(k.actionData).length>0?ct=k.actionData:ct=null:it?ct=H.actionData:ct=null;let vt=k.loaderData?rv(H.loaderData,k.loaderData,k.matches||[],k.errors):H.loaderData,Ct=H.blockers;Ct.size>0&&(Ct=new Map(Ct),Ct.forEach((St,Nt)=>Ct.set(Nt,uo)));let _t=R===!0||H.navigation.formMethod!=null&&qn(H.navigation.formMethod)&&((Mt=I.state)==null?void 0:Mt._isRedirect)!==!0;m&&(f=m,m=void 0),C||N==="POP"||(N==="PUSH"?i.history.push(I,I.state):N==="REPLACE"&&i.history.replace(I,I.state));let Tt;if(N==="POP"){let St=L.get(H.location.pathname);St&&St.has(I.pathname)?Tt={currentLocation:H.location,nextLocation:I}:L.has(I.pathname)&&(Tt={currentLocation:I,nextLocation:H.location})}else if(O){let St=L.get(H.location.pathname);St?St.add(I.pathname):(St=new Set([I.pathname]),L.set(H.location.pathname,St)),Tt={currentLocation:H.location,nextLocation:I}}Ae({...k,actionData:ct,loaderData:vt,historyAction:N,location:I,initialized:!0,navigation:ed,revalidation:"idle",restoreScrollPosition:Ci(I,k.matches||H.matches),preventScrollReset:_t,blockers:Ct},{viewTransitionOpts:Tt,flushSync:q===!0}),N="POP",R=!1,O=!1,C=!1,Bt=!1,wt==null||wt.resolve(),wt=null}async function yr(I,k){if(typeof I=="number"){i.history.go(I);return}let q=fd(H.location,H.matches,g,I,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:it,submission:ct,error:vt}=Ky(!1,q,k),Ct=H.location,_t=So(H.location,it,k&&k.state);_t={..._t,...i.history.encodeLocation(_t)};let Tt=k&&k.replace!=null?k.replace:void 0,bt="PUSH";Tt===!0?bt="REPLACE":Tt===!1||ct!=null&&qn(ct.formMethod)&&ct.formAction===H.location.pathname+H.location.search&&(bt="REPLACE");let Mt=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,St=(k&&k.flushSync)===!0,Nt=wi({currentLocation:Ct,nextLocation:_t,historyAction:bt});if(Nt){Yn(Nt,{state:"blocked",location:_t,proceed(){Yn(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:_t}),yr(I,k)},reset(){let Xt=new Map(H.blockers);Xt.set(Nt,uo),Ae({blockers:Xt})}});return}await vn(bt,_t,{submission:ct,pendingError:vt,preventScrollReset:Mt,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:St})}function Fr(){wt||(wt=o1()),Ri(),Ae({revalidation:"loading"});let I=wt.promise;return H.navigation.state==="submitting"?I:H.navigation.state==="idle"?(vn(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),I):(vn(N||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:O===!0}),I)}async function vn(I,k,q){w&&w.abort(),w=null,N=I,C=(q&&q.startUninterruptedRevalidation)===!0,hr(H.location,H.matches),R=(q&&q.preventScrollReset)===!0,O=(q&&q.enableViewTransition)===!0;let it=m||f,ct=q&&q.overrideNavigation,vt=q!=null&&q.initialHydration&&H.matches&&H.matches.length>0&&!rt?H.matches:ta(it,k,g),Ct=(q&&q.flushSync)===!0;if(vt&&H.initialized&&!Bt&&e1(H.location,k)&&!(q&&q.submission&&qn(q.submission.formMethod))){un(k,{matches:vt},{flushSync:Ct});return}let _t=En(vt,it,k.pathname);if(_t.active&&_t.matches&&(vt=_t.matches),!vt){let{error:se,notFoundMatches:te,route:Qt}=Kr(k.pathname);un(k,{matches:te,loaderData:{},errors:{[Qt.id]:se}},{flushSync:Ct});return}w=new AbortController;let Tt=Bs(i.history,k,w.signal,q&&q.submission),bt=new Qy(i.unstable_getContext?await i.unstable_getContext():void 0),Mt;if(q&&q.pendingError)Mt=[Qa(vt).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&qn(q.submission.formMethod)){let se=await pa(Tt,k,q.submission,vt,bt,_t.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:Ct});if(se.shortCircuited)return;if(se.pendingActionResult){let[te,Qt]=se.pendingActionResult;if(Hn(Qt)&&Ao(Qt.error)&&Qt.error.status===404){w=null,un(k,{matches:se.matches,loaderData:{},errors:{[te]:Qt.error}});return}}vt=se.matches||vt,Mt=se.pendingActionResult,ct=nd(k,q.submission),Ct=!1,_t.active=!1,Tt=Bs(i.history,Tt.url,Tt.signal)}let{shortCircuited:St,matches:Nt,loaderData:Xt,errors:ce}=await es(Tt,k,vt,bt,_t.active,ct,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Ct,Mt);St||(w=null,un(k,{matches:Nt||vt,...iv(Mt),loaderData:Xt,errors:ce}))}async function pa(I,k,q,it,ct,vt,Ct,_t={}){Ri();let Tt=i1(k,q);if(Ae({navigation:Tt},{flushSync:_t.flushSync===!0}),vt){let St=await Tr(it,k.pathname,I.signal);if(St.type==="aborted")return{shortCircuited:!0};if(St.type==="error"){let Nt=Qa(St.partialMatches).route.id;return{matches:St.partialMatches,pendingActionResult:[Nt,{type:"error",error:St.error}]}}else if(St.matches)it=St.matches;else{let{notFoundMatches:Nt,error:Xt,route:ce}=Kr(k.pathname);return{matches:Nt,pendingActionResult:[ce.id,{type:"error",error:Xt}]}}}let bt,Mt=mo(it,k);if(!Mt.route.action&&!Mt.route.lazy)bt={type:"error",error:or(405,{method:I.method,pathname:k.pathname,routeId:Mt.route.id})};else{let St=Qs(o,u,I,it,Mt,Ct?[]:s,ct),Nt=await Fn(I,St,ct,null);if(bt=Nt[Mt.route.id],!bt){for(let Xt of it)if(Nt[Xt.route.id]){bt=Nt[Xt.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(Ya(bt)){let St;return _t&&_t.replace!=null?St=_t.replace:St=tv(bt.response.headers.get("Location"),new URL(I.url),g)===H.location.pathname+H.location.search,await cr(I,bt,!0,{submission:q,replace:St}),{shortCircuited:!0}}if(Hn(bt)){let St=Qa(it,Mt.route.id);return(_t&&_t.replace)!==!0&&(N="PUSH"),{matches:it,pendingActionResult:[St.route.id,bt,Mt.route.id]}}return{matches:it,pendingActionResult:[Mt.route.id,bt]}}async function es(I,k,q,it,ct,vt,Ct,_t,Tt,bt,Mt,St){let Nt=vt||nd(k,Ct),Xt=Ct||_t||lv(Nt),ce=!C&&!bt;if(ct){if(ce){let Ue=_n(St);Ae({navigation:Nt,...Ue!==void 0?{actionData:Ue}:{}},{flushSync:Mt})}let Ut=await Tr(q,k.pathname,I.signal);if(Ut.type==="aborted")return{shortCircuited:!0};if(Ut.type==="error"){let Ue=Qa(Ut.partialMatches).route.id;return{matches:Ut.partialMatches,loaderData:{},errors:{[Ue]:Ut.error}}}else if(Ut.matches)q=Ut.matches;else{let{error:Ue,notFoundMatches:On,route:wn}=Kr(k.pathname);return{matches:On,loaderData:{},errors:{[wn.id]:Ue}}}}let se=m||f,{dsMatches:te,revalidatingFetchers:Qt}=Xy(I,it,o,u,i.history,H,q,Xt,k,bt?[]:s,bt===!0,Bt,Kt,lt,nt,x,se,g,St);if(yt=++ht,!i.dataStrategy&&!te.some(Ut=>Ut.shouldLoad)&&Qt.length===0){let Ut=_r();return un(k,{matches:q,loaderData:{},errors:St&&Hn(St[1])?{[St[0]]:St[1].error}:null,...iv(St),...Ut?{fetchers:new Map(H.fetchers)}:{}},{flushSync:Mt}),{shortCircuited:!0}}if(ce){let Ut={};if(!ct){Ut.navigation=Nt;let Ue=_n(St);Ue!==void 0&&(Ut.actionData=Ue)}Qt.length>0&&(Ut.fetchers=ol(Qt)),Ae(Ut,{flushSync:Mt})}Qt.forEach(Ut=>{Qn(Ut.key),Ut.controller&&Y.set(Ut.key,Ut.controller)});let Xn=()=>Qt.forEach(Ut=>Qn(Ut.key));w&&w.signal.addEventListener("abort",Xn);let{loaderResults:Be,fetcherResults:Tn}=await bi(te,Qt,I,it);if(I.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Xn),Qt.forEach(Ut=>Y.delete(Ut.key));let tn=Wu(Be);if(tn)return await cr(I,tn.result,!0,{replace:Tt}),{shortCircuited:!0};if(tn=Wu(Tn),tn)return x.add(tn.key),await cr(I,tn.result,!0,{replace:Tt}),{shortCircuited:!0};let{loaderData:Ar,errors:Nn}=nv(H,q,Be,St,Qt,Tn);bt&&H.errors&&(Nn={...H.errors,...Nn});let xi=_r(),hn=Er(yt),Sn=xi||hn||Qt.length>0;return{matches:q,loaderData:Ar,errors:Nn,...Sn?{fetchers:new Map(H.fetchers)}:{}}}function _n(I){if(I&&!Hn(I[1]))return{[I[0]]:I[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function ol(I){return I.forEach(k=>{let q=H.fetchers.get(k.key),it=co(void 0,q?q.data:void 0);H.fetchers.set(k.key,it)}),new Map(H.fetchers)}async function ya(I,k,q,it){Qn(I);let ct=(it&&it.flushSync)===!0,vt=m||f,Ct=fd(H.location,H.matches,g,q,k,it==null?void 0:it.relative),_t=ta(vt,Ct,g),Tt=En(_t,vt,Ct);if(Tt.active&&Tt.matches&&(_t=Tt.matches),!_t){qt(I,k,or(404,{pathname:Ct}),{flushSync:ct});return}let{path:bt,submission:Mt,error:St}=Ky(!0,Ct,it);if(St){qt(I,k,St,{flushSync:ct});return}let Nt=mo(_t,bt),Xt=new Qy(i.unstable_getContext?await i.unstable_getContext():void 0),ce=(it&&it.preventScrollReset)===!0;if(Mt&&qn(Mt.formMethod)){await Ai(I,k,bt,Nt,_t,Xt,Tt.active,ct,ce,Mt);return}nt.set(I,{routeId:k,path:bt}),await Qr(I,k,bt,Nt,_t,Xt,Tt.active,ct,ce,Mt)}async function Ai(I,k,q,it,ct,vt,Ct,_t,Tt,bt){Ri(),nt.delete(I);function Mt(Ee){if(!Ee.route.action&&!Ee.route.lazy){let $n=or(405,{method:bt.formMethod,pathname:q,routeId:k});return qt(I,k,$n,{flushSync:_t}),!0}return!1}if(!Ct&&Mt(it))return;let St=H.fetchers.get(I);oe(I,a1(bt,St),{flushSync:_t});let Nt=new AbortController,Xt=Bs(i.history,q,Nt.signal,bt);if(Ct){let Ee=await Tr(ct,q,Xt.signal,I);if(Ee.type==="aborted")return;if(Ee.type==="error"){qt(I,k,Ee.error,{flushSync:_t});return}else if(Ee.matches){if(ct=Ee.matches,it=mo(ct,q),Mt(it))return}else{qt(I,k,or(404,{pathname:q}),{flushSync:_t});return}}Y.set(I,Nt);let ce=ht,se=Qs(o,u,Xt,ct,it,s,vt),Qt=(await Fn(Xt,se,vt,I))[it.route.id];if(Xt.signal.aborted){Y.get(I)===Nt&&Y.delete(I);return}if(lt.has(I)){if(Ya(Qt)||Hn(Qt)){oe(I,Wi(void 0));return}}else{if(Ya(Qt))if(Y.delete(I),yt>ce){oe(I,Wi(void 0));return}else return x.add(I),oe(I,co(bt)),cr(Xt,Qt,!1,{fetcherSubmission:bt,preventScrollReset:Tt});if(Hn(Qt)){qt(I,k,Qt.error);return}}let Xn=H.navigation.location||H.location,Be=Bs(i.history,Xn,Nt.signal),Tn=m||f,tn=H.navigation.state!=="idle"?ta(Tn,H.navigation.location,g):H.matches;Jt(tn,"Didn't find any matches after fetcher action");let Ar=++ht;Pt.set(I,Ar);let Nn=co(bt,Qt.data);H.fetchers.set(I,Nn);let{dsMatches:xi,revalidatingFetchers:hn}=Xy(Be,vt,o,u,i.history,H,tn,bt,Xn,s,!1,Bt,Kt,lt,nt,x,Tn,g,[it.route.id,Qt]);hn.filter(Ee=>Ee.key!==I).forEach(Ee=>{let $n=Ee.key,Xr=H.fetchers.get($n),en=co(void 0,Xr?Xr.data:void 0);H.fetchers.set($n,en),Qn($n),Ee.controller&&Y.set($n,Ee.controller)}),Ae({fetchers:new Map(H.fetchers)});let Sn=()=>hn.forEach(Ee=>Qn(Ee.key));Nt.signal.addEventListener("abort",Sn);let{loaderResults:Ut,fetcherResults:Ue}=await bi(xi,hn,Be,vt);if(Nt.signal.aborted)return;Nt.signal.removeEventListener("abort",Sn),Pt.delete(I),Y.delete(I),hn.forEach(Ee=>Y.delete(Ee.key));let On=Wu(Ut);if(On)return cr(Be,On.result,!1,{preventScrollReset:Tt});if(On=Wu(Ue),On)return x.add(On.key),cr(Be,On.result,!1,{preventScrollReset:Tt});let{loaderData:wn,errors:br}=nv(H,tn,Ut,void 0,hn,Ue);if(H.fetchers.has(I)){let Ee=Wi(Qt.data);H.fetchers.set(I,Ee)}Er(Ar),H.navigation.state==="loading"&&Ar>yt?(Jt(N,"Expected pending action"),w&&w.abort(),un(H.navigation.location,{matches:tn,loaderData:wn,errors:br,fetchers:new Map(H.fetchers)})):(Ae({errors:br,loaderData:rv(H.loaderData,wn,tn,br),fetchers:new Map(H.fetchers)}),Bt=!1)}async function Qr(I,k,q,it,ct,vt,Ct,_t,Tt,bt){let Mt=H.fetchers.get(I);oe(I,co(bt,Mt?Mt.data:void 0),{flushSync:_t});let St=new AbortController,Nt=Bs(i.history,q,St.signal);if(Ct){let Qt=await Tr(ct,q,Nt.signal,I);if(Qt.type==="aborted")return;if(Qt.type==="error"){qt(I,k,Qt.error,{flushSync:_t});return}else if(Qt.matches)ct=Qt.matches,it=mo(ct,q);else{qt(I,k,or(404,{pathname:q}),{flushSync:_t});return}}Y.set(I,St);let Xt=ht,ce=Qs(o,u,Nt,ct,it,s,vt),te=(await Fn(Nt,ce,vt,I))[it.route.id];if(Y.get(I)===St&&Y.delete(I),!Nt.signal.aborted){if(lt.has(I)){oe(I,Wi(void 0));return}if(Ya(te))if(yt>Xt){oe(I,Wi(void 0));return}else{x.add(I),await cr(Nt,te,!1,{preventScrollReset:Tt});return}if(Hn(te)){qt(I,k,te.error);return}oe(I,Wi(te.data))}}async function cr(I,k,q,{submission:it,fetcherSubmission:ct,preventScrollReset:vt,replace:Ct}={}){k.response.headers.has("X-Remix-Revalidate")&&(Bt=!0);let _t=k.response.headers.get("Location");Jt(_t,"Expected a Location header on the redirect Response"),_t=tv(_t,new URL(I.url),g);let Tt=So(H.location,_t,{_isRedirect:!0});if(r){let ce=!1;if(k.response.headers.has("X-Remix-Reload-Document"))ce=!0;else if(Hd.test(_t)){const se=i.history.createURL(_t);ce=se.origin!==e.location.origin||ur(se.pathname,g)==null}if(ce){Ct?e.location.replace(_t):e.location.assign(_t);return}}w=null;let bt=Ct===!0||k.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Mt,formAction:St,formEncType:Nt}=H.navigation;!it&&!ct&&Mt&&St&&Nt&&(it=lv(H.navigation));let Xt=it||ct;if(B2.has(k.response.status)&&Xt&&qn(Xt.formMethod))await vn(bt,Tt,{submission:{...Xt,formAction:_t},preventScrollReset:vt||R,enableViewTransition:q?O:void 0});else{let ce=nd(Tt,it);await vn(bt,Tt,{overrideNavigation:ce,fetcherSubmission:ct,preventScrollReset:vt||R,enableViewTransition:q?O:void 0})}}async function Fn(I,k,q,it){let ct,vt={};try{ct=await $2(y,I,k,it,q,!1)}catch(Ct){return k.filter(_t=>_t.shouldLoad).forEach(_t=>{vt[_t.route.id]={type:"error",error:Ct}}),vt}for(let[Ct,_t]of Object.entries(ct))if(n1(_t)){let Tt=_t.result;vt[Ct]={type:"redirect",response:W2(Tt,I,Ct,k,g)}}else vt[Ct]=await J2(_t);return vt}async function bi(I,k,q,it){let ct=Fn(q,I,it,null),vt=Promise.all(k.map(async Tt=>{if(Tt.matches&&Tt.match&&Tt.request&&Tt.controller){let Mt=(await Fn(Tt.request,Tt.matches,it,Tt.key))[Tt.match.route.id];return{[Tt.key]:Mt}}else return Promise.resolve({[Tt.key]:{type:"error",error:or(404,{pathname:Tt.path})}})})),Ct=await ct,_t=(await vt).reduce((Tt,bt)=>Object.assign(Tt,bt),{});return{loaderResults:Ct,fetcherResults:_t}}function Ri(){Bt=!0,nt.forEach((I,k)=>{Y.has(k)&&Kt.add(k),Qn(k)})}function oe(I,k,q={}){H.fetchers.set(I,k),Ae({fetchers:new Map(H.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function qt(I,k,q,it={}){let ct=Qa(H.matches,k);Le(I),Ae({errors:{[ct.route.id]:q},fetchers:new Map(H.fetchers)},{flushSync:(it&&it.flushSync)===!0})}function cn(I){return dt.set(I,(dt.get(I)||0)+1),lt.has(I)&&lt.delete(I),H.fetchers.get(I)||H2}function Le(I){let k=H.fetchers.get(I);Y.has(I)&&!(k&&k.state==="loading"&&Pt.has(I))&&Qn(I),nt.delete(I),Pt.delete(I),x.delete(I),lt.delete(I),Kt.delete(I),H.fetchers.delete(I)}function ns(I){let k=(dt.get(I)||0)-1;k<=0?(dt.delete(I),lt.add(I)):dt.set(I,k),Ae({fetchers:new Map(H.fetchers)})}function Qn(I){let k=Y.get(I);k&&(k.abort(),Y.delete(I))}function vr(I){for(let k of I){let q=cn(k),it=Wi(q.data);H.fetchers.set(k,it)}}function _r(){let I=[],k=!1;for(let q of x){let it=H.fetchers.get(q);Jt(it,`Expected fetcher: ${q}`),it.state==="loading"&&(x.delete(q),I.push(q),k=!0)}return vr(I),k}function Er(I){let k=[];for(let[q,it]of Pt)if(it<I){let ct=H.fetchers.get(q);Jt(ct,`Expected fetcher: ${q}`),ct.state==="loading"&&(Qn(q),Pt.delete(q),k.push(q))}return vr(k),k.length>0}function In(I,k){let q=H.blockers.get(I)||uo;return At.get(I)!==k&&At.set(I,k),q}function Yr(I){H.blockers.delete(I),At.delete(I)}function Yn(I,k){let q=H.blockers.get(I)||uo;Jt(q.state==="unblocked"&&k.state==="blocked"||q.state==="blocked"&&k.state==="blocked"||q.state==="blocked"&&k.state==="proceeding"||q.state==="blocked"&&k.state==="unblocked"||q.state==="proceeding"&&k.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${k.state}`);let it=new Map(H.blockers);it.set(I,k),Ae({blockers:it})}function wi({currentLocation:I,nextLocation:k,historyAction:q}){if(At.size===0)return;At.size>1&&Oe(!1,"A router only supports one blocker at a time");let it=Array.from(At.entries()),[ct,vt]=it[it.length-1],Ct=H.blockers.get(ct);if(!(Ct&&Ct.state==="proceeding")&&vt({currentLocation:I,nextLocation:k,historyAction:q}))return ct}function Kr(I){let k=or(404,{pathname:I}),q=m||f,{matches:it,route:ct}=av(q);return{notFoundMatches:it,route:ct,error:k}}function va(I,k,q){if(M=I,W=k,U=q||null,!F&&H.navigation===ed){F=!0;let it=Ci(H.location,H.matches);it!=null&&Ae({restoreScrollPosition:it})}return()=>{M=null,W=null,U=null}}function Kn(I,k){return U&&U(I,k.map(it=>_2(it,H.loaderData)))||I.key}function hr(I,k){if(M&&W){let q=Kn(I,k);M[q]=W()}}function Ci(I,k){if(M){let q=Kn(I,k),it=M[q];if(typeof it=="number")return it}return null}function En(I,k,q){if(i.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:lc(k,q,g,!0)}}else return{active:!0,matches:lc(k,q,g,!0)||[]};return{active:!1,matches:null}}async function Tr(I,k,q,it){if(!i.patchRoutesOnNavigation)return{type:"success",matches:I};let ct=I;for(;;){let vt=m==null,Ct=m||f,_t=u;try{await i.patchRoutesOnNavigation({signal:q,path:k,matches:ct,fetcherKey:it,patch:(Mt,St)=>{q.aborted||$y(Mt,St,Ct,_t,o)}})}catch(Mt){return{type:"error",error:Mt,partialMatches:ct}}finally{vt&&!q.aborted&&(f=[...f])}if(q.aborted)return{type:"aborted"};let Tt=ta(Ct,k,g);if(Tt)return{type:"success",matches:Tt};let bt=lc(Ct,k,g,!0);if(!bt||ct.length===bt.length&&ct.every((Mt,St)=>Mt.route.id===bt[St].route.id))return{type:"success",matches:null};ct=bt}}function Sr(I){u={},m=pc(I,o,void 0,u)}function Di(I,k){let q=m==null;$y(I,k,m||f,u,o),q&&(f=[...f],Ae({}))}return mt={get basename(){return g},get future(){return E},get state(){return H},get routes(){return f},get window(){return e},initialize:Ve,subscribe:Gn,enableScrollRestoration:va,navigate:yr,fetch:ya,revalidate:Fr,createHref:I=>i.history.createHref(I),encodeLocation:I=>i.history.encodeLocation(I),getFetcher:cn,deleteFetcher:ns,dispose:ge,getBlocker:In,deleteBlocker:Yr,patchRoutes:Di,_internalFetchControllers:Y,_internalSetRoutes:Sr},mt}function F2(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function fd(i,e,r,s,o,u){let f,m;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){m=y;break}}else f=e,m=e[e.length-1];let g=Bd(s||".",jd(f),ur(i.pathname,r)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&m){let y=qd(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),A=E.getAll("index");E.delete("index"),A.filter(M=>M).forEach(M=>E.append("index",M));let b=E.toString();g.search=b?`?${b}`:""}}return r!=="/"&&(g.pathname=g.pathname==="/"?r:zr([r,g.pathname])),oa(g)}function Ky(i,e,r){if(!r||!F2(r))return{path:e};if(r.formMethod&&!r1(r.formMethod))return{path:e,error:or(405,{method:r.formMethod})};let s=()=>({path:e,error:or(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=V0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!qn(u))return s();let A=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[M,U])=>`${b}${M}=${U}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:A}}}else if(r.formEncType==="application/json"){if(!qn(u))return s();try{let A=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:A,text:void 0}}}catch{return s()}}}Jt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(r.formData)m=gd(r.formData),g=r.formData;else if(r.body instanceof FormData)m=gd(r.body),g=r.body;else if(r.body instanceof URLSearchParams)m=r.body,g=ev(m);else if(r.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(r.body),g=ev(m)}catch{return s()}let y={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(qn(y.formMethod))return{path:e,submission:y};let E=Si(e);return i&&E.search&&qd(E.search)&&m.append("index",""),E.search=`?${m}`,{path:oa(E),submission:y}}function Xy(i,e,r,s,o,u,f,m,g,y,E,A,b,M,U,W,F,J,rt){var P;let ut=rt?Hn(rt[1])?rt[1].error:rt[1].data:void 0,gt=o.createURL(u.location),mt=o.createURL(g),H;if(E&&u.errors){let C=Object.keys(u.errors)[0];H=f.findIndex(Bt=>Bt.route.id===C)}else if(rt&&Hn(rt[1])){let C=rt[0];H=f.findIndex(Bt=>Bt.route.id===C)-1}let N=rt?rt[1].statusCode:void 0,R=N&&N>=400,w={currentUrl:gt,currentParams:((P=u.matches[0])==null?void 0:P.params)||{},nextUrl:mt,nextParams:f[0].params,...m,actionResult:ut,actionStatus:N},O=f.map((C,Bt)=>{let{route:Kt}=C,Y=null;if(H!=null&&Bt>H?Y=!1:Kt.lazy?Y=!0:Kt.loader==null?Y=!1:E?Y=dd(Kt,u.loaderData,u.errors):Q2(u.loaderData,u.matches[Bt],C)&&(Y=!0),Y!==null)return md(r,s,i,C,y,e,Y);let ht=R?!1:A||gt.pathname+gt.search===mt.pathname+mt.search||gt.search!==mt.search||Y2(u.matches[Bt],C),yt={...w,defaultShouldRevalidate:ht},Pt=_c(C,yt);return md(r,s,i,C,y,e,Pt,yt)}),L=[];return U.forEach((C,Bt)=>{if(E||!f.some(nt=>nt.route.id===C.routeId)||M.has(Bt))return;let Kt=ta(F,C.path,J);if(!Kt){L.push({key:Bt,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(W.has(Bt))return;let Y=u.fetchers.get(Bt),ht=mo(Kt,C.path),yt=new AbortController,Pt=Bs(o,C.path,yt.signal),x=null;if(b.has(Bt))b.delete(Bt),x=Qs(r,s,Pt,Kt,ht,y,e);else if(Y&&Y.state!=="idle"&&Y.data===void 0)A&&(x=Qs(r,s,Pt,Kt,ht,y,e));else{let nt={...w,defaultShouldRevalidate:R?!1:A};_c(ht,nt)&&(x=Qs(r,s,Pt,Kt,ht,y,e,nt))}x&&L.push({key:Bt,routeId:C.routeId,path:C.path,matches:x,match:ht,request:Pt,controller:yt})}),{dsMatches:O,revalidatingFetchers:L}}function dd(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function Q2(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function Y2(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function _c(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function $y(i,e,r,s,o){let u;if(i){let g=s[i];Jt(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=r;let f=e.filter(g=>!u.some(y=>x0(g,y))),m=pc(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...m)}function x0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>x0(r,u))}):!1}var Zy=new WeakMap,M0=({key:i,route:e,manifest:r,mapRouteProperties:s})=>{let o=r[e.id];if(Jt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=Zy.get(o);f||(f={},Zy.set(o,f));let m=f[i];if(m)return m;let g=(async()=>{let y=g2(i),A=o[i]!==void 0&&i!=="hasErrorBoundary";if(y)Oe(!y,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(A)Oe(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[i]:b}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return f[i]=g,g},Jy=new WeakMap;function K2(i,e,r,s,o){let u=r[i.id];if(Jt(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Jy.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let A=(async()=>{Jt(typeof i.lazy=="function","No lazy route function found");let b=await i.lazy(),M={};for(let U in b){let W=b[U];if(W===void 0)continue;let F=y2(U),rt=u[U]!==void 0&&U!=="hasErrorBoundary";F?Oe(!F,"Route property "+U+" is not a supported property to be returned from a lazy route function. This property will be ignored."):rt?Oe(!rt,`Route "${u.id}" has a static property "${U}" defined but its lazy function is also returning a value for this property. The lazy route property "${U}" will be ignored.`):M[U]=W}Object.assign(u,M),Object.assign(u,{...s(u),lazy:void 0})})();return Jy.set(u,A),A.catch(()=>{}),{lazyRoutePromise:A,lazyHandlerPromise:A}}let f=Object.keys(i.lazy),m=[],g;for(let E of f){if(o&&o.includes(E))continue;let A=M0({key:E,route:i,manifest:r,mapRouteProperties:s});A&&(m.push(A),E===e&&(g=A))}let y=m.length>0?Promise.all(m).then(()=>{}):void 0;return y==null||y.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:g}}async function Wy(i){let e=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{r[e[u].route.id]=o}),r}async function X2(i){return i.matches.some(e=>e.route.unstable_middleware)?I0(i,!1,()=>Wy(i),(e,r)=>({[r]:{type:"error",result:e}})):Wy(i)}async function I0(i,e,r,s){let{matches:o,request:u,params:f,context:m}=i,g={handlerResult:void 0};try{let y=o.flatMap(A=>A.route.unstable_middleware?A.route.unstable_middleware.map(b=>[A.route.id,b]):[]),E=await N0({request:u,params:f,context:m},y,e,g,r);return e?E:g.handlerResult}catch(y){if(!g.middlewareError)throw y;let E=await s(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function N0(i,e,r,s,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return s.handlerResult=await o(),s.handlerResult;let[g,y]=m,E=!1,A,b=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await N0(i,e,r,s,o,u+1)};try{let M=await y({request:i.request,params:i.params,context:i.context},b);return E?M===void 0?A:M:b()}catch(M){throw s.middlewareError?s.middlewareError.error!==M&&(s.middlewareError={routeId:g,error:M}):s.middlewareError={routeId:g,error:M},M}}function O0(i,e,r,s,o){let u=M0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:i}),f=K2(s.route,qn(r.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function md(i,e,r,s,o,u,f,m=null){let g=!1,y=O0(i,e,r,s,o);return{...s,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?_c(s,{...m,defaultShouldRevalidate:E}):_c(s,m):f},resolve(E){return g||f||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?Z2({request:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Qs(i,e,r,s,o,u,f,m=null){return s.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:O0(i,e,r,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:md(i,e,r,g,u,f,!0,m))}async function $2(i,e,r,s,o,u){r.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let f={request:e,params:r[0].params,context:o,matches:r},g=await i({...f,fetcherKey:s,unstable_runClientMiddleware:y=>{let E=f;return I0(E,!1,()=>y({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(A,b)=>({[b]:{type:"error",result:A}}))}});try{await Promise.all(r.flatMap(y=>{var E,A;return[(E=y._lazyPromises)==null?void 0:E.handler,(A=y._lazyPromises)==null?void 0:A.route]}))}catch{}return g}async function Z2({request:i,match:e,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let f,m,g=qn(i.method),y=g?"action":"loader",E=A=>{let b,M=new Promise((F,J)=>b=J);m=()=>b(),i.signal.addEventListener("abort",m);let U=F=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${e.route.id}]`)):A({request:i,params:e.params,context:u},...F!==void 0?[F]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(J=>U(J)):U())}}catch(F){return{type:"error",result:F}}})();return Promise.race([W,M])};try{let A=g?e.route.action:e.route.loader;if(r||s)if(A){let b,[M]=await Promise.all([E(A).catch(U=>{b=U}),r,s]);if(b!==void 0)throw b;f=M}else{await r;let b=g?e.route.action:e.route.loader;if(b)[f]=await Promise.all([E(b),s]);else if(y==="action"){let M=new URL(i.url),U=M.pathname+M.search;throw or(405,{method:i.method,pathname:U,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(A)f=await E(A);else{let b=new URL(i.url),M=b.pathname+b.search;throw or(404,{pathname:M})}}catch(A){return{type:"error",result:A}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function J2(i){var s,o,u,f,m,g;let{result:e,type:r}=i;if(L0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new vc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return r==="error"?sv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new vc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Ao(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ao(e)?e.status:void 0}:sv(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function W2(i,e,r,s,o){let u=i.headers.get("Location");if(Jt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hd.test(u)){let f=s.slice(0,s.findIndex(m=>m.route.id===r)+1);u=fd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function tv(i,e,r){if(Hd.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=ur(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Bs(i,e,r,s){let o=i.createURL(V0(e)).toString(),u={signal:r};if(s&&qn(s.formMethod)){let{formMethod:f,formEncType:m}=s;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=gd(s.formData):u.body=s.formData}return new Request(o,u)}function gd(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function ev(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function t1(i,e,r,s=!1,o=!1){let u={},f=null,m,g=!1,y={},E=r&&Hn(r[1])?r[1].error:void 0;return i.forEach(A=>{if(!(A.route.id in e))return;let b=A.route.id,M=e[b];if(Jt(!Ya(M),"Cannot handle redirect results in processLoaderData"),Hn(M)){let U=M.error;if(E!==void 0&&(U=E,E=void 0),f=f||{},o)f[b]=U;else{let W=Qa(i,b);f[W.route.id]==null&&(f[W.route.id]=U)}s||(u[b]=D0),g||(g=!0,m=Ao(M.error)?M.error.status:500),M.headers&&(y[b]=M.headers)}else u[b]=M.data,M.statusCode&&M.statusCode!==200&&!g&&(m=M.statusCode),M.headers&&(y[b]=M.headers)}),E!==void 0&&r&&(f={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function nv(i,e,r,s,o,u){let{loaderData:f,errors:m}=t1(e,r,s);return o.filter(g=>!g.matches||g.matches.some(y=>y.shouldLoad)).forEach(g=>{let{key:y,match:E,controller:A}=g,b=u[y];if(Jt(b,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(Hn(b)){let M=Qa(i.matches,E==null?void 0:E.route.id);m&&m[M.route.id]||(m={...m,[M.route.id]:b.error}),i.fetchers.delete(y)}else if(Ya(b))Jt(!1,"Unhandled fetcher revalidation redirect");else{let M=Wi(b.data);i.fetchers.set(y,M)}}),{loaderData:f,errors:m}}function rv(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==D0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function iv(i){return i?Hn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Qa(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function av(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function or(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?m=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?m=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new vc(i||500,f,new Error(m),!0)}function Wu(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Ya(o))return{key:s,result:o}}}function V0(i){let e=typeof i=="string"?Si(i):i;return oa({...e,hash:""})}function e1(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function n1(i){return L0(i.result)&&j2.has(i.result.status)}function Hn(i){return i.type==="error"}function Ya(i){return(i&&i.type)==="redirect"}function sv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function L0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function r1(i){return k2.has(i.toUpperCase())}function qn(i){return P2.has(i.toUpperCase())}function qd(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function mo(i,e){let r=typeof e=="string"?Si(e).search:e.search;if(i[i.length-1].route.index&&qd(r||""))return i[i.length-1];let s=R0(i);return s[s.length-1]}function lv(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function nd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function i1(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function co(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function a1(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Wi(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function s1(i,e){try{let r=i.sessionStorage.getItem(C0);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function l1(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(C0,JSON.stringify(r))}catch(s){Oe(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function o1(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var Za=$.createContext(null);Za.displayName="DataRouter";var No=$.createContext(null);No.displayName="DataRouterState";var Gd=$.createContext({isTransitioning:!1});Gd.displayName="ViewTransition";var U0=$.createContext(new Map);U0.displayName="Fetchers";var u1=$.createContext(null);u1.displayName="Await";var qr=$.createContext(null);qr.displayName="Navigation";var Vc=$.createContext(null);Vc.displayName="Location";var Gr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var Fd=$.createContext(null);Fd.displayName="RouteError";function c1(i,{relative:e}={}){Jt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=$.useContext(qr),{hash:o,pathname:u,search:f}=Vo(i,{relative:e}),m=u;return r!=="/"&&(m=u==="/"?r:zr([r,u])),s.createHref({pathname:m,search:f,hash:o})}function Oo(){return $.useContext(Vc)!=null}function ga(){return Jt(Oo(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Vc).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z0(i){$.useContext(qr).static||$.useLayoutEffect(i)}function Qd(){let{isDataRoute:i}=$.useContext(Gr);return i?R1():h1()}function h1(){Jt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Za),{basename:e,navigator:r}=$.useContext(qr),{matches:s}=$.useContext(Gr),{pathname:o}=ga(),u=JSON.stringify(jd(s)),f=$.useRef(!1);return z0(()=>{f.current=!0}),$.useCallback((g,y={})=>{if(Oe(f.current,P0),!f.current)return;if(typeof g=="number"){r.go(g);return}let E=Bd(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:zr([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,u,o,i])}var f1=$.createContext(null);function d1(i){let e=$.useContext(Gr).outlet;return e&&$.createElement(f1.Provider,{value:i},e)}function Vo(i,{relative:e}={}){let{matches:r}=$.useContext(Gr),{pathname:s}=ga(),o=JSON.stringify(jd(r));return $.useMemo(()=>Bd(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function m1(i,e,r,s){Jt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=$.useContext(qr),{matches:f}=$.useContext(Gr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let rt=A&&A.path||"";k0(y,!A||rt.endsWith("*")||rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${rt}"> to <Route path="${rt==="/"?"*":`${rt}/*`}">.`)}let b=ga(),M;M=b;let U=M.pathname||"/",W=U;if(E!=="/"){let rt=E.replace(/^\//,"").split("/");W="/"+U.replace(/^\//,"").split("/").slice(rt.length).join("/")}let F=!u&&r&&r.matches&&r.matches.length>0?r.matches:ta(i,{pathname:W});return Oe(A||F!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Oe(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_1(F&&F.map(rt=>Object.assign({},rt,{params:Object.assign({},g,rt.params),pathname:zr([E,o.encodeLocation?o.encodeLocation(rt.pathname).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?E:zr([E,o.encodeLocation?o.encodeLocation(rt.pathnameBase).pathname:rt.pathnameBase])})),f,r,s)}function g1(){let i=b1(),e=Ao(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:o},r):null,f)}var p1=$.createElement(g1,null),y1=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(Gr.Provider,{value:this.props.routeContext},$.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v1({routeContext:i,match:e,children:r}){let s=$.useContext(Za);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Gr.Provider,{value:i},r)}function _1(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Jt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(r)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=r,b=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let A,b=!1,M=null,U=null;r&&(A=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||p1,f&&(m<0&&E===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,U=null):m===E&&(b=!0,U=y.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,E+1)),F=()=>{let J;return A?J=M:b?J=U:y.route.Component?J=$.createElement(y.route.Component,null):y.route.element?J=y.route.element:J=g,$.createElement(v1,{match:y,routeContext:{outlet:g,matches:W,isDataRoute:r!=null},children:J})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?$.createElement(y1,{location:r.location,revalidation:r.revalidation,component:M,error:A,children:F(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):F()},null)}function Yd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E1(i){let e=$.useContext(Za);return Jt(e,Yd(i)),e}function T1(i){let e=$.useContext(No);return Jt(e,Yd(i)),e}function S1(i){let e=$.useContext(Gr);return Jt(e,Yd(i)),e}function Kd(i){let e=S1(i),r=e.matches[e.matches.length-1];return Jt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function A1(){return Kd("useRouteId")}function b1(){var s;let i=$.useContext(Fd),e=T1("useRouteError"),r=Kd("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function R1(){let{router:i}=E1("useNavigate"),e=Kd("useNavigate"),r=$.useRef(!1);return z0(()=>{r.current=!0}),$.useCallback(async(o,u={})=>{Oe(r.current,P0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var ov={};function k0(i,e,r){!e&&!ov[i]&&(ov[i]=!0,Oe(!1,r))}var uv={};function cv(i,e){!i&&!uv[e]&&(uv[e]=!0,console.warn(e))}function w1(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Oe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Oe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Oe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var C1=["HydrateFallback","hydrateFallbackElement"],D1=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function x1({router:i,flushSync:e}){let[r,s]=$.useState(i.state),[o,u]=$.useState(),[f,m]=$.useState({isTransitioning:!1}),[g,y]=$.useState(),[E,A]=$.useState(),[b,M]=$.useState(),U=$.useRef(new Map),W=$.useCallback((ut,{deletedFetchers:gt,flushSync:mt,viewTransitionOpts:H})=>{ut.fetchers.forEach((R,w)=>{R.data!==void 0&&U.current.set(w,R.data)}),gt.forEach(R=>U.current.delete(R)),cv(mt===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(cv(H==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!N){e&&mt?e(()=>s(ut)):$.startTransition(()=>s(ut));return}if(e&&mt){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let R=i.window.document.startViewTransition(()=>{e(()=>s(ut))});R.finished.finally(()=>{e(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>A(R));return}E?(g&&g.resolve(),E.skipTransition(),M({state:ut,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(u(ut),m({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[i.window,e,E,g]);$.useLayoutEffect(()=>i.subscribe(W),[i,W]),$.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new D1)},[f]),$.useEffect(()=>{if(g&&o&&i.window){let ut=o,gt=g.promise,mt=i.window.document.startViewTransition(async()=>{$.startTransition(()=>s(ut)),await gt});mt.finished.finally(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})}),A(mt)}},[o,g,i.window]),$.useEffect(()=>{g&&o&&r.location.key===o.location.key&&g.resolve()},[g,E,r.location,o]),$.useEffect(()=>{!f.isTransitioning&&b&&(u(b.state),m({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),M(void 0))},[f.isTransitioning,b]);let F=$.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ut=>i.navigate(ut),push:(ut,gt,mt)=>i.navigate(ut,{state:gt,preventScrollReset:mt==null?void 0:mt.preventScrollReset}),replace:(ut,gt,mt)=>i.navigate(ut,{replace:!0,state:gt,preventScrollReset:mt==null?void 0:mt.preventScrollReset})}),[i]),J=i.basename||"/",rt=$.useMemo(()=>({router:i,navigator:F,static:!1,basename:J}),[i,F,J]);return $.createElement($.Fragment,null,$.createElement(Za.Provider,{value:rt},$.createElement(No.Provider,{value:r},$.createElement(U0.Provider,{value:U.current},$.createElement(Gd.Provider,{value:f},$.createElement(O1,{basename:J,location:r.location,navigationType:r.historyAction,navigator:F},$.createElement(M1,{routes:i.routes,future:i.future,state:r})))))),null)}var M1=$.memo(I1);function I1({routes:i,future:e,state:r}){return m1(i,void 0,r,e)}function N1(i){return d1(i.context)}function O1({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Jt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=Si(r));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:b="default"}=r,M=$.useMemo(()=>{let U=ur(g,f);return U==null?null:{location:{pathname:U,search:y,hash:E,state:A,key:b},navigationType:s}},[f,g,y,E,A,b,s]);return Oe(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:$.createElement(qr.Provider,{value:m},$.createElement(Vc.Provider,{children:e,value:M}))}var oc="get",uc="application/x-www-form-urlencoded";function Lc(i){return i!=null&&typeof i.tagName=="string"}function V1(i){return Lc(i)&&i.tagName.toLowerCase()==="button"}function L1(i){return Lc(i)&&i.tagName.toLowerCase()==="form"}function U1(i){return Lc(i)&&i.tagName.toLowerCase()==="input"}function P1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function z1(i,e){return i.button===0&&(!e||e==="_self")&&!P1(i)}var tc=null;function k1(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var j1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(i){return i!=null&&!j1.has(i)?(Oe(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):i}function B1(i,e){let r,s,o,u,f;if(L1(i)){let m=i.getAttribute("action");s=m?ur(m,e):null,r=i.getAttribute("method")||oc,o=rd(i.getAttribute("enctype"))||uc,u=new FormData(i)}else if(V1(i)||U1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ur(g,e):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||oc,o=rd(i.getAttribute("formenctype"))||rd(m.getAttribute("enctype"))||uc,u=new FormData(m,i),!k1()){let{name:y,type:E,value:A}=i;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,A)}}else{if(Lc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oc,s=null,o=uc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function Xd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function H1(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function G1(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await H1(u,r);return f.links?f.links():[]}return[]}));return K1(s.flat(1).filter(q1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function hv(i,e,r,s,o,u){let f=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>{var E;return r[y].pathname!==g.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var A;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function F1(i,e,{includeHydrateFallback:r}={}){return Q1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Q1(i){return[...new Set(i)]}function Y1(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function K1(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Y1(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}var X1=new Set([100,101,204,205]);function $1(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&ur(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function j0(){let i=$.useContext(Za);return Xd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Z1(){let i=$.useContext(No);return Xd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var $d=$.createContext(void 0);$d.displayName="FrameworkContext";function B0(){let i=$.useContext($d);return Xd(i,"You must render this element inside a <HydratedRouter> element"),i}function J1(i,e){let r=$.useContext($d),[s,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,b=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let W=J=>{J.forEach(rt=>{f(rt.isIntersecting)})},F=new IntersectionObserver(W,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[i]),$.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,b,{}]:[u,b,{onFocus:ho(m,M),onBlur:ho(g,U),onMouseEnter:ho(y,M),onMouseLeave:ho(E,U),onTouchStart:ho(A,M)}]:[!1,b,{}]}function ho(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function W1({page:i,...e}){let{router:r}=j0(),s=$.useMemo(()=>ta(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?$.createElement(eS,{page:i,matches:s,...e}):null}function tS(i){let{manifest:e,routeModules:r}=B0(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return G1(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),s}function eS({page:i,matches:e,...r}){let s=ga(),{manifest:o,routeModules:u}=B0(),{basename:f}=j0(),{loaderData:m,matches:g}=Z1(),y=$.useMemo(()=>hv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=$.useMemo(()=>hv(i,e,g,o,s,"assets"),[i,e,g,o,s]),A=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,W=!1;if(e.forEach(J=>{var ut;let rt=o.routes[J.route.id];!rt||!rt.hasLoader||(!y.some(gt=>gt.route.id===J.route.id)&&J.route.id in m&&((ut=u[J.route.id])!=null&&ut.shouldRevalidate)||rt.hasClientLoader?W=!0:U.add(J.route.id))}),U.size===0)return[];let F=$1(i,f);return W&&U.size>0&&F.searchParams.set("_routes",e.filter(J=>U.has(J.route.id)).map(J=>J.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,i,u]),b=$.useMemo(()=>F1(E,o),[E,o]),M=tS(E);return $.createElement($.Fragment,null,A.map(U=>$.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...r})),b.map(U=>$.createElement("link",{key:U,rel:"modulepreload",href:U,...r})),M.map(({key:U,link:W})=>$.createElement("link",{key:U,...W})))}function nS(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H0&&(window.__reactRouterVersion="7.5.3")}catch{}function rS(i,e){return G2({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:h2({window:e==null?void 0:e.window}),hydrationData:iS(),routes:i,mapRouteProperties:w1,hydrationRouteProperties:C1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function iS(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:aS(i.errors)}),i}function aS(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new vc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=$.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...b},M){let{basename:U}=$.useContext(qr),W=typeof y=="string"&&q0.test(y),F,J=!1;if(typeof y=="string"&&W&&(F=y,H0))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),L=ur(O.pathname,U);O.origin===w.origin&&L!=null?y=L+O.search+O.hash:J=!0}catch{Oe(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=c1(y,{relative:o}),[ut,gt,mt]=J1(s,b),H=oS(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function N(w){e&&e(w),w.defaultPrevented||H(w)}let R=$.createElement("a",{...b,...mt,href:F||rt,onClick:J||u?e:N,ref:nS(M,gt),target:g,"data-discover":!W&&r==="render"?"true":void 0});return ut&&!W?$.createElement($.Fragment,null,R,$.createElement(W1,{page:rt})):R});G0.displayName="Link";var ea=$.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=Vo(f,{relative:y.relative}),b=ga(),M=$.useContext(No),{navigator:U,basename:W}=$.useContext(qr),F=M!=null&&dS(A)&&m===!0,J=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,rt=b.pathname,ut=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;r||(rt=rt.toLowerCase(),ut=ut?ut.toLowerCase():null,J=J.toLowerCase()),ut&&W&&(ut=ur(ut,W)||ut);const gt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let mt=rt===J||!o&&rt.startsWith(J)&&rt.charAt(gt)==="/",H=ut!=null&&(ut===J||!o&&ut.startsWith(J)&&ut.charAt(J.length)==="/"),N={isActive:mt,isPending:H,isTransitioning:F},R=mt?e:void 0,w;typeof s=="function"?w=s(N):w=[s,mt?"active":null,H?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return $.createElement(G0,{...y,"aria-current":R,className:w,ref:E,style:O,to:f,viewTransition:m},typeof g=="function"?g(N):g)});ea.displayName="NavLink";var sS=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:f=oc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...b},M)=>{let U=hS(),W=fS(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&q0.test(m),rt=ut=>{if(g&&g(ut),ut.defaultPrevented)return;ut.preventDefault();let gt=ut.nativeEvent.submitter,mt=(gt==null?void 0:gt.getAttribute("formmethod"))||f;U(gt||ut.currentTarget,{fetcherKey:e,method:mt,navigate:r,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return $.createElement("form",{ref:M,method:F,action:W,onSubmit:s?g:rt,...b,"data-discover":!J&&i==="render"?"true":void 0})});sS.displayName="Form";function lS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(i){let e=$.useContext(Za);return Jt(e,lS(i)),e}function oS(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Qd(),g=ga(),y=Vo(i,{relative:u});return $.useCallback(E=>{if(z1(E,e)){E.preventDefault();let A=r!==void 0?r:oa(g)===oa(y);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,r,s,e,i,o,u,f])}var uS=0,cS=()=>`__${String(++uS)}__`;function hS(){let{router:i}=F0("useSubmit"),{basename:e}=$.useContext(qr),r=A1();return $.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=B1(s,e);if(o.navigate===!1){let E=o.fetcherKey||cS();await i.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function fS(i,{relative:e}={}){let{basename:r}=$.useContext(qr),s=$.useContext(Gr);Jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Vo(i||".",{relative:e})},f=ga();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:zr([r,u.pathname])),oa(u)}function dS(i,e={}){let r=$.useContext(Gd);Jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F0("useViewTransitionState"),o=Vo(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=ur(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=ur(r.nextLocation.pathname,s)||r.nextLocation.pathname;return yc(o.pathname,f)!=null||yc(o.pathname,u)!=null}new TextEncoder;[...X1];const mS="data:image/svg+xml,%3csvg%20width='34'%20height='34'%20viewBox='0%200%2034%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24.0833%2025.5C24.8348%2025.5%2025.5554%2025.7985%2026.0868%2026.3299C26.6181%2026.8612%2026.9167%2027.5819%2026.9167%2028.3333C26.9167%2029.0848%2026.6181%2029.8055%2026.0868%2030.3368C25.5554%2030.8682%2024.8348%2031.1667%2024.0833%2031.1667C23.3319%2031.1667%2022.6112%2030.8682%2022.0799%2030.3368C21.5485%2029.8055%2021.25%2029.0848%2021.25%2028.3333C21.25%2026.7608%2022.5108%2025.5%2024.0833%2025.5ZM1.41666%202.83333H6.04916L7.38082%205.66667H28.3333C28.709%205.66667%2029.0694%205.81592%2029.3351%206.0816C29.6007%206.34728%2029.75%206.70761%2029.75%207.08333C29.75%207.32417%2029.6792%207.565%2029.58%207.79167L24.5083%2016.9575C24.0267%2017.8217%2023.0917%2018.4167%2022.0292%2018.4167H11.475L10.2%2020.7258L10.1575%2020.8958C10.1575%2020.9898%2010.1948%2021.0798%2010.2612%2021.1463C10.3276%2021.2127%2010.4177%2021.25%2010.5117%2021.25H26.9167V24.0833H9.91666C9.16521%2024.0833%208.44454%2023.7848%207.91319%2023.2535C7.38183%2022.7221%207.08332%2022.0014%207.08332%2021.25C7.08332%2020.7542%207.21082%2020.2867%207.42332%2019.89L9.34999%2016.4192L4.24999%205.66667H1.41666V2.83333ZM9.91666%2025.5C10.6681%2025.5%2011.3888%2025.7985%2011.9201%2026.3299C12.4515%2026.8612%2012.75%2027.5819%2012.75%2028.3333C12.75%2029.0848%2012.4515%2029.8055%2011.9201%2030.3368C11.3888%2030.8682%2010.6681%2031.1667%209.91666%2031.1667C9.16521%2031.1667%208.44454%2030.8682%207.91319%2030.3368C7.38183%2029.8055%207.08332%2029.0848%207.08332%2028.3333C7.08332%2026.7608%208.34416%2025.5%209.91666%2025.5ZM22.6667%2015.5833L26.605%208.5H8.69832L12.0417%2015.5833H22.6667Z'%20fill='black'/%3e%3c/svg%3e",gS=()=>{};var fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},pS=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],m=i[r++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,M=y&63;g||(M=64,f||(b=64)),s.push(r[E],r[A],r[b],r[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Q0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):pS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],m=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const A=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new yS;const b=u<<2|m>>4;if(s.push(b),y!==64){const M=m<<4&240|y>>2;if(s.push(M),A!==64){const U=y<<6&192|A;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(i){const e=Q0(i);return Y0.encodeByteArray(e,!0)},Ec=function(i){return vS(i).replace(/\./g,"")},_S=function(i){try{return Y0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>ES().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof fv>"u")return;const i=fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&_S(i[1]);return e&&JSON.parse(e)},Zd=()=>{try{return gS()||TS()||SS()||AS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},bS=i=>{var e,r;return(r=(e=Zd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},RS=i=>{const e=bS(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},K0=()=>{var i;return(i=Zd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ec(JSON.stringify(r)),Ec(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){var i;const e=(i=Zd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return!xS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="FirebaseError";class el extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=OS,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X0.prototype.create)}}class X0{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?VS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new el(o,m,s)}}function VS(i,e){return i.replace(LS,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LS=/\{\$([^}]+)}/g;function Tc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(dv(u)&&dv(f)){if(!Tc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function dv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){return i&&i._delegate?i._delegate:i}class bo{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new wS;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zS(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PS(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(i){return i===Fa?void 0:i}function zS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new US(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ae||(ae={}));const jS={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},BS=ae.INFO,HS={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},qS=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=HS[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z0{constructor(e){this.name=e,this._logLevel=BS,this._logHandler=qS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const GS=(i,e)=>e.some(r=>i instanceof r);let mv,gv;function FS(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J0=new WeakMap,pd=new WeakMap,W0=new WeakMap,id=new WeakMap,Jd=new WeakMap;function YS(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ra(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&J0.set(r,i)}).catch(()=>{}),Jd.set(e,i),e}function KS(i){if(pd.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});pd.set(i,e)}let yd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return pd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||W0.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ra(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function XS(i){yd=i(yd)}function $S(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(ad(this),e,...r);return W0.set(s,e.sort?e.sort():[e]),ra(s)}:QS().includes(i)?function(...e){return i.apply(ad(this),e),ra(J0.get(this))}:function(...e){return ra(i.apply(ad(this),e))}}function ZS(i){return typeof i=="function"?$S(i):(i instanceof IDBTransaction&&KS(i),GS(i,FS())?new Proxy(i,yd):i)}function ra(i){if(i instanceof IDBRequest)return YS(i);if(id.has(i))return id.get(i);const e=ZS(i);return e!==i&&(id.set(i,e),Jd.set(e,i)),e}const ad=i=>Jd.get(i);function JS(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ra(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ra(f.result),g.oldVersion,g.newVersion,ra(f.transaction),g)}),r&&f.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const WS=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],sd=new Map;function pv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=tA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WS.includes(r)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),o&&g.done]))[0]};return sd.set(e,u),u}XS(i=>({...i,get:(e,r,s)=>pv(e,r)||i.get(e,r,s),has:(e,r)=>!!pv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(nA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function nA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vd="@firebase/app",yv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Z0("@firebase/app"),rA="@firebase/app-compat",iA="@firebase/analytics-compat",aA="@firebase/analytics",sA="@firebase/app-check-compat",lA="@firebase/app-check",oA="@firebase/auth",uA="@firebase/auth-compat",cA="@firebase/database",hA="@firebase/data-connect",fA="@firebase/database-compat",dA="@firebase/functions",mA="@firebase/functions-compat",gA="@firebase/installations",pA="@firebase/installations-compat",yA="@firebase/messaging",vA="@firebase/messaging-compat",_A="@firebase/performance",EA="@firebase/performance-compat",TA="@firebase/remote-config",SA="@firebase/remote-config-compat",AA="@firebase/storage",bA="@firebase/storage-compat",RA="@firebase/firestore",wA="@firebase/vertexai",CA="@firebase/firestore-compat",DA="firebase",xA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",MA={[vd]:"fire-core",[rA]:"fire-core-compat",[aA]:"fire-analytics",[iA]:"fire-analytics-compat",[lA]:"fire-app-check",[sA]:"fire-app-check-compat",[oA]:"fire-auth",[uA]:"fire-auth-compat",[cA]:"fire-rtdb",[hA]:"fire-data-connect",[fA]:"fire-rtdb-compat",[dA]:"fire-fn",[mA]:"fire-fn-compat",[gA]:"fire-iid",[pA]:"fire-iid-compat",[yA]:"fire-fcm",[vA]:"fire-fcm-compat",[_A]:"fire-perf",[EA]:"fire-perf-compat",[TA]:"fire-rc",[SA]:"fire-rc-compat",[AA]:"fire-gcs",[bA]:"fire-gcs-compat",[RA]:"fire-fst",[CA]:"fire-fst-compat",[wA]:"fire-vertex","fire-js":"fire-js",[DA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,IA=new Map,Ed=new Map;function vv(i,e){try{i.container.addComponent(e)}catch(r){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ac(i){const e=i.name;if(Ed.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,i);for(const r of Sc.values())vv(r,i);for(const r of IA.values())vv(r,i);return!0}function NA(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function OA(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new X0("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=xA;function t_(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_d,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(r||(r=K0()),!r)throw ia.create("no-options");const u=Sc.get(o);if(u){if(Tc(r,u.options)&&Tc(s,u.config))return u;throw ia.create("duplicate-app",{appName:o})}const f=new kS(o);for(const g of Ed.values())f.addComponent(g);const m=new LA(r,s,f);return Sc.set(o,m),m}function PA(i=_d){const e=Sc.get(i);if(!e&&i===_d&&K0())return t_();if(!e)throw ia.create("no-app",{appName:i});return e}function Ys(i,e,r){var s;let o=(s=MA[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(m.join(" "));return}Ac(new bo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",kA=1,Ro="firebase-heartbeat-store";let ld=null;function e_(){return ld||(ld=JS(zA,kA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ro)}catch(r){console.warn(r)}}}}).catch(i=>{throw ia.create("idb-open",{originalErrorMessage:i.message})})),ld}async function jA(i){try{const r=(await e_()).transaction(Ro),s=await r.objectStore(Ro).get(n_(i));return await r.done,s}catch(e){if(e instanceof el)_i.warn(e.message);else{const r=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(r.message)}}}async function _v(i,e){try{const s=(await e_()).transaction(Ro,"readwrite");await s.objectStore(Ro).put(e,n_(i)),await s.done}catch(r){if(r instanceof el)_i.warn(r.message);else{const s=ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(s.message)}}}function n_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,HA=30;class qA{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new FA(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>HA){const f=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ev(),{heartbeatsToSend:s,unsentEntries:o}=GA(this._heartbeatsCache.heartbeats),u=Ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return _i.warn(r),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function GA(i,e=BA){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Tv(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Tv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class FA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await jA(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return _v(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return _v(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Tv(i){return Ec(JSON.stringify({version:2,heartbeats:i})).length}function QA(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(i){Ac(new bo("platform-logger",e=>new eA(e),"PRIVATE")),Ac(new bo("heartbeat",e=>new qA(e),"PRIVATE")),Ys(vd,yv,i),Ys(vd,yv,"esm2017"),Ys("fire-js","")}YA("");var KA="firebase",XA="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(KA,XA,"app");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,r_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function w(){}w.prototype=R.prototype,N.D=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,L,P){for(var C=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)C[Bt-2]=arguments[Bt];return R.prototype[L].apply(O,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,w){w||(w=0);var O=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)O[L]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(L=0;16>L;++L)O[L]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],L=N.g[2];var P=N.g[3],C=R+(P^w&(L^P))+O[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=P+(L^R&(w^L))+O[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=L+(w^P&(R^w))+O[2]+606105819&4294967295,L=P+(C<<17&4294967295|C>>>15),C=w+(R^L&(P^R))+O[3]+3250441966&4294967295,w=L+(C<<22&4294967295|C>>>10),C=R+(P^w&(L^P))+O[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(L^R&(w^L))+O[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=L+(w^P&(R^w))+O[6]+2821735955&4294967295,L=P+(C<<17&4294967295|C>>>15),C=w+(R^L&(P^R))+O[7]+4249261313&4294967295,w=L+(C<<22&4294967295|C>>>10),C=R+(P^w&(L^P))+O[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(L^R&(w^L))+O[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=L+(w^P&(R^w))+O[10]+4294925233&4294967295,L=P+(C<<17&4294967295|C>>>15),C=w+(R^L&(P^R))+O[11]+2304563134&4294967295,w=L+(C<<22&4294967295|C>>>10),C=R+(P^w&(L^P))+O[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(L^R&(w^L))+O[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=L+(w^P&(R^w))+O[14]+2792965006&4294967295,L=P+(C<<17&4294967295|C>>>15),C=w+(R^L&(P^R))+O[15]+1236535329&4294967295,w=L+(C<<22&4294967295|C>>>10),C=R+(L^P&(w^L))+O[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^L&(R^w))+O[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=L+(R^w&(P^R))+O[11]+643717713&4294967295,L=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(L^P))+O[0]+3921069994&4294967295,w=L+(C<<20&4294967295|C>>>12),C=R+(L^P&(w^L))+O[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^L&(R^w))+O[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=L+(R^w&(P^R))+O[15]+3634488961&4294967295,L=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(L^P))+O[4]+3889429448&4294967295,w=L+(C<<20&4294967295|C>>>12),C=R+(L^P&(w^L))+O[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^L&(R^w))+O[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=L+(R^w&(P^R))+O[3]+4107603335&4294967295,L=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(L^P))+O[8]+1163531501&4294967295,w=L+(C<<20&4294967295|C>>>12),C=R+(L^P&(w^L))+O[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^L&(R^w))+O[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=L+(R^w&(P^R))+O[7]+1735328473&4294967295,L=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(L^P))+O[12]+2368359562&4294967295,w=L+(C<<20&4294967295|C>>>12),C=R+(w^L^P)+O[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^L)+O[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=L+(P^R^w)+O[11]+1839030562&4294967295,L=P+(C<<16&4294967295|C>>>16),C=w+(L^P^R)+O[14]+4259657740&4294967295,w=L+(C<<23&4294967295|C>>>9),C=R+(w^L^P)+O[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^L)+O[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=L+(P^R^w)+O[7]+4139469664&4294967295,L=P+(C<<16&4294967295|C>>>16),C=w+(L^P^R)+O[10]+3200236656&4294967295,w=L+(C<<23&4294967295|C>>>9),C=R+(w^L^P)+O[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^L)+O[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=L+(P^R^w)+O[3]+3572445317&4294967295,L=P+(C<<16&4294967295|C>>>16),C=w+(L^P^R)+O[6]+76029189&4294967295,w=L+(C<<23&4294967295|C>>>9),C=R+(w^L^P)+O[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^L)+O[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=L+(P^R^w)+O[15]+530742520&4294967295,L=P+(C<<16&4294967295|C>>>16),C=w+(L^P^R)+O[2]+3299628645&4294967295,w=L+(C<<23&4294967295|C>>>9),C=R+(L^(w|~P))+O[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~L))+O[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=L+(R^(P|~w))+O[14]+2878612391&4294967295,L=P+(C<<15&4294967295|C>>>17),C=w+(P^(L|~R))+O[5]+4237533241&4294967295,w=L+(C<<21&4294967295|C>>>11),C=R+(L^(w|~P))+O[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~L))+O[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=L+(R^(P|~w))+O[10]+4293915773&4294967295,L=P+(C<<15&4294967295|C>>>17),C=w+(P^(L|~R))+O[1]+2240044497&4294967295,w=L+(C<<21&4294967295|C>>>11),C=R+(L^(w|~P))+O[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~L))+O[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=L+(R^(P|~w))+O[6]+2734768916&4294967295,L=P+(C<<15&4294967295|C>>>17),C=w+(P^(L|~R))+O[13]+1309151649&4294967295,w=L+(C<<21&4294967295|C>>>11),C=R+(L^(w|~P))+O[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~L))+O[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=L+(R^(P|~w))+O[2]+718787259&4294967295,L=P+(C<<15&4294967295|C>>>17),C=w+(P^(L|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var w=R-this.blockSize,O=this.B,L=this.h,P=0;P<R;){if(L==0)for(;P<=w;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<R;)if(O[L++]=N.charCodeAt(P++),L==this.blockSize){o(this,O),L=0;break}}else for(;P<R;)if(O[L++]=N[P++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var w=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.u(N),N=Array(16),R=w=0;4>R;++R)for(var O=0;32>O;O+=8)N[w++]=this.g[R]>>>O&255;return N};function u(N,R){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function f(N,R){this.h=R;for(var w=[],O=!0,L=N.length-1;0<=L;L--){var P=N[L]|0;O&&P==R||(w[L]=P,O=!1)}this.g=w}var m={};function g(N){return-128<=N&&128>N?u(N,function(R){return new f([R|0],0>R?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return F(y(-N));for(var R=[],w=1,O=0;N>=w;O++)R[O]=N/w|0,w*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return F(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),O=A,L=0;L<N.length;L+=8){var P=Math.min(8,N.length-L),C=parseInt(N.substring(L,L+P),R);8>P?(P=y(Math.pow(R,P)),O=O.j(P).add(y(C))):(O=O.j(w),O=O.add(y(C)))}return O}var A=g(0),b=g(1),M=g(16777216);i=f.prototype,i.m=function(){if(W(this))return-F(this).m();for(var N=0,R=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(W(this))return"-"+F(this).toString(N);for(var R=y(Math.pow(N,6)),w=this,O="";;){var L=gt(w,R).g;w=J(w,L.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=L,U(w))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function W(N){return N.h==-1}i.l=function(N){return N=J(this,N),W(N)?-1:U(N)?0:1};function F(N){for(var R=N.g.length,w=[],O=0;O<R;O++)w[O]=~N.g[O];return new f(w,~N.h).add(b)}i.abs=function(){return W(this)?F(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],O=0,L=0;L<=R;L++){var P=O+(this.i(L)&65535)+(N.i(L)&65535),C=(P>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);O=C>>>16,P&=65535,C&=65535,w[L]=C<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function J(N,R){return N.add(F(R))}i.j=function(N){if(U(this)||U(N))return A;if(W(this))return W(N)?F(this).j(F(N)):F(F(this).j(N));if(W(N))return F(this.j(F(N)));if(0>this.l(M)&&0>N.l(M))return y(this.m()*N.m());for(var R=this.g.length+N.g.length,w=[],O=0;O<2*R;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<N.g.length;L++){var P=this.i(O)>>>16,C=this.i(O)&65535,Bt=N.i(L)>>>16,Kt=N.i(L)&65535;w[2*O+2*L]+=C*Kt,rt(w,2*O+2*L),w[2*O+2*L+1]+=P*Kt,rt(w,2*O+2*L+1),w[2*O+2*L+1]+=C*Bt,rt(w,2*O+2*L+1),w[2*O+2*L+2]+=P*Bt,rt(w,2*O+2*L+2)}for(O=0;O<R;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=R;O<2*R;O++)w[O]=0;return new f(w,0)};function rt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ut(N,R){this.g=N,this.h=R}function gt(N,R){if(U(R))throw Error("division by zero");if(U(N))return new ut(A,A);if(W(N))return R=gt(F(N),R),new ut(F(R.g),F(R.h));if(W(R))return R=gt(N,F(R)),new ut(F(R.g),R.h);if(30<N.g.length){if(W(N)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var w=b,O=R;0>=O.l(N);)w=mt(w),O=mt(O);var L=H(w,1),P=H(O,1);for(O=H(O,2),w=H(w,2);!U(O);){var C=P.add(O);0>=C.l(N)&&(L=L.add(w),P=C),O=H(O,1),w=H(w,1)}return R=J(N,L.j(R)),new ut(L,R)}for(L=A;0<=N.l(R);){for(w=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(w),C=P.j(R);W(C)||0<C.l(N);)w-=O,P=y(w),C=P.j(R);U(P)&&(P=b),L=L.add(P),N=J(N,C)}return new ut(L,N)}i.A=function(N){return gt(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],O=0;O<R;O++)w[O]=this.i(O)&N.i(O);return new f(w,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],O=0;O<R;O++)w[O]=this.i(O)|N.i(O);return new f(w,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],O=0;O<R;O++)w[O]=this.i(O)^N.i(O);return new f(w,this.h^N.h)};function mt(N){for(var R=N.g.length+1,w=[],O=0;O<R;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(w,N.h)}function H(N,R){var w=R>>5;R%=32;for(var O=N.g.length-w,L=[],P=0;P<O;P++)L[P]=0<R?N.i(P+w)>>>R|N.i(P+w+1)<<32-R:N.i(P+w);return new f(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,r_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,aa=f}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i_,go,a_,cc,Td,s_,l_,o_;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break t;v=v[j]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var Z=v++;return{value:p(Z,c[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function A(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function b(c,p,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function M(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,Z){for(var ft=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)ft[ee-2]=arguments[ee];return p.prototype[j].apply(S,ft)}}function W(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function F(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const j=c.length||0,Z=S.length||0;c.length=j+Z;for(let ft=0;ft<Z;ft++)c[j+ft]=S[ft]}else c.push(S)}}class J{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function rt(c){return/^[\s\xa0]*$/.test(c)}function ut(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function gt(c){return gt[" "](c),c}gt[" "]=function(){};var mt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function H(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function N(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function R(c){const p={};for(const v in c)p[v]=c[v];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let Z=0;Z<w.length;Z++)v=w[Z],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function L(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Pt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Bt{constructor(){this.h=this.g=null}add(p,v){const S=Kt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Kt=new J(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,yt=!1,Pt=new Bt,x=()=>{const c=m.Promise.resolve(void 0);ht=()=>{c.then(nt)}};var nt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){P(v)}var p=Kt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}yt=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function jt(c,p){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(mt){t:{try{gt(p.nodeName);var j=!0;break t}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&jt.aa.h.call(this)}}U(jt,lt);var wt={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Gn(c,p,v,S,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=j,this.key=++ge,this.da=this.fa=!1}function Ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function un(c){this.src=c,this.g={},this.h=0}un.prototype.add=function(c,p,v,S,j){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ft=Fr(c,p,S,j);return-1<ft?(p=c[ft],v||(p.fa=!1)):(p=new Gn(p,this.src,Z,!!S,j),p.fa=v,c.push(p)),p};function yr(c,p){var v=p.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,p,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(S,j,1),Z&&(Ae(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Fr(c,p,v,S){for(var j=0;j<c.length;++j){var Z=c[j];if(!Z.da&&Z.listener==p&&Z.capture==!!v&&Z.ha==S)return j}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),pa={};function es(c,p,v,S,j){if(Array.isArray(p)){for(var Z=0;Z<p.length;Z++)es(c,p[Z],v,S,j);return null}return v=Ri(v),c&&c[Ve]?c.K(p,v,y(S)?!!S.capture:!1,j):_n(c,p,v,!1,S,j)}function _n(c,p,v,S,j,Z){if(!p)throw Error("Invalid event type");var ft=y(j)?!!j.capture:!!j,ee=Fn(c);if(ee||(c[vn]=ee=new un(c)),v=ee.add(p,v,S,ft,Z),v.proxy)return v;if(S=ol(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)At||(j=ft),j===void 0&&(j=!1),c.addEventListener(p.toString(),S,j);else if(c.attachEvent)c.attachEvent(Qr(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ol(){function c(v){return p.call(c.src,c.listener,v)}const p=cr;return c}function ya(c,p,v,S,j){if(Array.isArray(p))for(var Z=0;Z<p.length;Z++)ya(c,p[Z],v,S,j);else S=y(S)?!!S.capture:!!S,v=Ri(v),c&&c[Ve]?(c=c.i,p=String(p).toString(),p in c.g&&(Z=c.g[p],v=Fr(Z,v,S,j),-1<v&&(Ae(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[p],c.h--)))):c&&(c=Fn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Fr(p,v,S,j)),(v=-1<c?p[c]:null)&&Ai(v))}function Ai(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ve])yr(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Qr(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Fn(p))?(yr(v,c),v.h==0&&(v.src=null,p[vn]=null)):Ae(c)}}}function Qr(c){return c in pa?pa[c]:pa[c]="on"+c}function cr(c,p){if(c.da)c=!0;else{p=new jt(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Ai(c),c=v.call(S,p)}return c}function Fn(c){return c=c[vn],c instanceof un?c:null}var bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(c){return typeof c=="function"?c:(c[bi]||(c[bi]=function(p){return c.handleEvent(p)}),c[bi])}function oe(){dt.call(this),this.i=new un(this),this.M=this,this.F=null}U(oe,dt),oe.prototype[Ve]=!0,oe.prototype.removeEventListener=function(c,p,v,S){ya(this,c,p,v,S)};function qt(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new lt(p,c);else if(p instanceof lt)p.target=p.target||c;else{var j=p;p=new lt(S,c),O(p,j)}if(j=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ft=p.g=v[Z];j=cn(ft,S,!0,p)&&j}if(ft=p.g=c,j=cn(ft,S,!0,p)&&j,j=cn(ft,S,!1,p)&&j,v)for(Z=0;Z<v.length;Z++)ft=p.g=v[Z],j=cn(ft,S,!1,p)&&j}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)Ae(v[S]);delete c.g[p],c.h--}}this.F=null},oe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},oe.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function cn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,Z=0;Z<p.length;++Z){var ft=p[Z];if(ft&&!ft.da&&ft.capture==v){var ee=ft.listener,He=ft.ha||ft.src;ft.fa&&yr(c.i,ft),j=ee.call(He,S)!==!1&&j}}return j&&!S.defaultPrevented}function Le(c,p,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function ns(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,ns(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Qn extends dt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(c){dt.call(this),this.h=c,this.g={}}U(vr,dt);var _r=[];function Er(c){H(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ai(p)},c),c.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Er(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=m.JSON.stringify,Yr=m.JSON.parse,Yn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wi(){}wi.prototype.h=null;function Kr(c){return c.h||(c.h=c.i())}function va(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){lt.call(this,"d")}U(hr,lt);function Ci(){lt.call(this,"c")}U(Ci,lt);var En={},Tr=null;function Sr(){return Tr=Tr||new oe}En.La="serverreachability";function Di(c){lt.call(this,En.La,c)}U(Di,lt);function I(c){const p=Sr();qt(p,new Di(p))}En.STAT_EVENT="statevent";function k(c,p){lt.call(this,En.STAT_EVENT,c),this.stat=p}U(k,lt);function q(c){const p=Sr();qt(p,new k(p,c))}En.Ma="timingevent";function it(c,p){lt.call(this,En.Ma,c),this.size=p}U(it,lt);function ct(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function vt(){this.g=!0}vt.prototype.xa=function(){this.g=!1};function Ct(c,p,v,S,j,Z){c.info(function(){if(c.g)if(Z)for(var ft="",ee=Z.split("&"),He=0;He<ee.length;He++){var ne=ee[He].split("=");if(1<ne.length){var Xe=ne[0];ne=ne[1];var qe=Xe.split("_");ft=2<=qe.length&&qe[1]=="type"?ft+(Xe+"="+ne+"&"):ft+(Xe+"=redacted&")}}else ft=null;else ft=Z;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+p+`
`+v+`
`+ft})}function _t(c,p,v,S,j,Z,ft){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+p+`
`+v+`
`+Z+" "+ft})}function Tt(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Mt(c,v)+(S?" "+S:"")})}function bt(c,p){c.info(function(){return"TIMEOUT: "+p})}vt.prototype.info=function(){};function Mt(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ft=1;ft<j.length;ft++)j[ft]=""}}}}return In(v)}catch{return p}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xt;function ce(){}U(ce,wi),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},Xt=new ce;function se(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var Qt={},Xn={};function Be(c,p,v){c.L=1,c.v=Ta(Vn(p)),c.m=v,c.P=!0,Tn(c,null)}function Tn(c,p){c.F=Date.now(),Nn(c),c.A=Vn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),dl(v.i,"t",S),c.C=0,v=c.j.J,c.h=new te,c.g=Xo(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Qn(b(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(_r[0]=j.toString()),j=_r);for(var Z=0;Z<j.length;Z++){var ft=es(v,j[Z],S||p.handleEvent,!1,p.h||p);if(!ft)break;p.g[ft.key]=ft}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),I(),Ct(c.i,c.u,c.A,c.l,c.R,c.m)}se.prototype.ca=function(c){c=c.target;const p=this.M;p&&tr(c)==3?p.j():this.Y(c)},se.prototype.Y=function(c){try{if(c==this.g)t:{const qe=tr(this.g);var p=this.g.Ba();const ni=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Bo(this.g)))){this.J||qe!=4||p==7||(p==8||0>=ni?I(3):I(2)),hn(this);var v=this.g.Z();this.X=v;e:if(tn(this)){var S=Bo(this.g);c="";var j=S.length,Z=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Sn(this);var ft="";break e}this.h.i=new m.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(Z&&p==j-1)});S.length=0,this.h.g+=c,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,_t(this.i,this.u,this.A,this.l,this.R,qe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,He=this.g;if((ee=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(ee)){var ne=ee;break e}}ne=null}if(v=ne)Tt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ue(this,v);else{this.o=!1,this.s=3,q(12),Ut(this),Sn(this);break t}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<ft.length;)if(nn=Ar(this,ft),nn==Xn){qe==4&&(this.s=4,q(14),v=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Qt){this.s=4,q(15),Tt(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Tt(this.i,this.l,nn,null),Ue(this,nn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||ft.length!=0||this.h.h||(this.s=1,q(16),v=!1),this.o=this.o&&v,!v)Tt(this.i,this.l,ft,"[Invalid Chunked Response]"),Ut(this),Sn(this);else if(0<ft.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),xa(Xe),Xe.M=!0,q(11))}}else Tt(this.i,this.l,ft,null),Ue(this,ft);qe==4&&Ut(this),this.o&&!this.J&&(qe==4?Qo(this.j,this):(this.o=!1,Nn(this)))}else th(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Ut(this),Sn(this)}}}catch{}finally{}};function tn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ar(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Xn:(v=Number(p.substring(v,S)),isNaN(v)?Qt:(S+=1,S+v>p.length?Xn:(p=p.slice(S,S+v),c.C=S+v,p)))}se.prototype.cancel=function(){this.J=!0,Ut(this)};function Nn(c){c.S=Date.now()+c.I,xi(c,c.I)}function xi(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(b(c.ba,c),p)}function hn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}se.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bt(this.i,this.A),this.L!=2&&(I(),q(17)),Ut(this),this.s=2,Sn(this)):xi(this,this.S-c)};function Sn(c){c.j.G==0||c.J||Qo(c.j,c)}function Ut(c){hn(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Er(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ue(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||$n(v.h,c))){if(!c.K&&$n(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)hs(v),us(v);else break t;vl(v),q(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ct(b(v.Za,v),6e3));if(1>=Ee(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ei(v,11)}else if((c.K||v.g==c)&&hs(v),!rt(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let ne=j[p];if(v.T=ne[0],ne=ne[1],v.G==2)if(ne[0]=="c"){v.K=ne[1],v.ia=ne[2];const Xe=ne[3];Xe!=null&&(v.la=Xe,v.j.info("VER="+v.la));const qe=ne[4];qe!=null&&(v.Aa=qe,v.j.info("SVER="+v.Aa));const ni=ne[5];ni!=null&&typeof ni=="number"&&0<ni&&(S=1.5*ni,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const nn=c.g;if(nn){const Ir=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var Z=S.h;Z.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Xr(Z,Z.h),Z.h=null))}if(S.D){const El=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(S.ya=El,pe(S.I,S.D,El))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ft=c;if(S.qa=Ko(S,S.J?S.ia:null,S.W),ft.K){en(S.h,ft);var ee=ft,He=S.L;He&&(ee.I=He),ee.B&&(hn(ee),Nn(ee)),S.g=ft}else Go(S);0<v.i.length&&cs(v)}else ne[0]!="stop"&&ne[0]!="close"||ei(v,7);else v.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?ei(v,7):pl(v):ne[0]!="noop"&&v.l&&v.l.ta(ne),v.v=0)}}I(4)}catch{}}var On=class{constructor(c,p){this.g=c,this.map=p}};function wn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ee(c){return c.h?1:c.g?c.g.size:0}function $n(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Xr(c,p){c.g?c.g.add(p):c.h=p}function en(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wn.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ul(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return W(c.i)}function $c(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function rs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function cl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=rs(c),S=$c(c),j=S.length,Z=0;Z<j;Z++)p.call(void 0,S[Z],v&&v[Z],c)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var Z=c[v].substring(0,S);j=c[v].substring(S+1)}else Z=c[v];p(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pe){this.h=c.h,Ea(this,c.j),this.o=c.o,this.g=c.g,Mi(this,c.s),this.l=c.l;var p=c.i,v=new Zr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),$r(this,v),this.m=c.m}else c&&(p=String(c).match(_a))?(this.h=!1,Ea(this,p[1]||"",!0),this.o=Zn(p[2]||""),this.g=Zn(p[3]||"",!0),Mi(this,p[4]),this.l=Zn(p[5]||"",!0),$r(this,p[6]||"",!0),this.m=Zn(p[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}Pe.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Sa(p,hl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Sa(p,hl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sa(v,v.charAt(0)=="/"?Jc:fl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sa(v,is)),c.join("")};function Vn(c){return new Pe(c)}function Ea(c,p,v){c.j=v?Zn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Mi(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function $r(c,p,v){p instanceof Zr?(c.i=p,ko(c.i,c.h)):(v||(p=Sa(p,Wc)),c.i=new Zr(p,c.h))}function pe(c,p,v){c.i.set(p,v)}function Ta(c){return pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,zo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,Jc=/[#\?]/g,Wc=/[#\?@]/g,is=/#/g;function Zr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zc(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Zr.prototype,i.add=function(c,p){Jn(this),this.i=null,c=Rr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Jr(c,p){Jn(c),p=Rr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Wr(c,p){return Jn(c),p=Rr(c,p),c.g.has(p)}i.forEach=function(c,p){Jn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(p,j,S,this)},this)},this)},i.na=function(){Jn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const j=c[S];for(let Z=0;Z<j.length;Z++)v.push(p[S])}return v},i.V=function(c){Jn(this);let p=[];if(typeof c=="string")Wr(this,c)&&(p=p.concat(this.g.get(Rr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Jn(this),this.i=null,c=Rr(this,c),Wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function dl(c,p,v){Jr(c,p),0<v.length&&(c.i=null,c.g.set(Rr(c,p),W(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const Z=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var j=Z;ft[S]!==""&&(j+="="+encodeURIComponent(String(ft[S]))),c.push(j)}}return this.i=c.join("&")};function Rr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ko(c,p){p&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(Jr(this,S),dl(this,j,v))},c)),c.j=p}function Aa(c,p){const v=new vt;if(m.Image){const S=new Image;S.onload=M(Wn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=M(Wn,v,"TestLoadImage: error",!1,p,S),S.onabort=M(Wn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=M(Wn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function fr(c,p){const v=new vt,S=new AbortController,j=setTimeout(()=>{S.abort(),Wn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(Z=>{clearTimeout(j),Z.ok?Wn(v,"TestPingServer: ok",!0,p):Wn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Wn(v,"TestPingServer: error",!1,p)})}function Wn(c,p,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function ba(){this.g=new Yn}function wr(c,p,v){const S=v||"";try{cl(c,function(j,Z){let ft=j;y(j)&&(ft=In(j)),p.push(S+Z+"="+encodeURIComponent(ft))})}catch(j){throw p.push(S+"type="+encodeURIComponent("_badmap")),j}}function Ii(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ii,wi),Ii.prototype.g=function(){return new ti(this.l,this.j)},Ii.prototype.i=function(c){return function(){return c}}({});function ti(c,p){oe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ti,oe),i=ti.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Dr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Cr(this):Dr(this),this.readyState==3&&ml(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},i.Qa=function(c){this.g&&(this.response=c,Cr(this))},i.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Dr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gl(c){let p="";return H(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Ke(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=gl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):pe(c,p,v))}function he(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(he,oe);var as=/^https?$/i,Ra=["POST","PUT"];i=he.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xt.g(),this.v=this.o?Kr(this.o):Kr(Xt),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Z){jo(this,Z);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())v.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ra,p,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ft]of v)this.g.setRequestHeader(Z,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){jo(this,Z)}};function jo(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ss(c),xr(c)}function ss(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),xr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),he.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ls(this):this.bb())},i.bb=function(){ls(this)};function ls(c){if(c.h&&typeof f<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Le(c.Ea,0,c);else if(qt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const ft=c.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=ft===0){var j=String(c.D).match(_a)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!as.test(j?j.toLowerCase():"")}v=S}if(v)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var Z=2<tr(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",ss(c)}}finally{xr(c)}}}}function xr(c,p){if(c.g){wa(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qt(c,"ready");try{v.onreadystatechange=S}catch{}}}function wa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yr(p)}};function Bo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function th(c){const p={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var v=L(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=p[j]||[];p[j]=Z,Z.push(v)}N(p,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function os(c){this.Aa=0,this.i=[],this.j=new vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,c),this.cb=Ca("retryDelaySeedMs",1e4,c),this.Wa=Ca("forwardChannelMaxRetries",2,c),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wn(c&&c.concurrentRequestLimit),this.Da=new ba,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=os.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,S){q(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ko(this,null,this.W),cs(this)};function pl(c){if(Ho(c),c.G==3){var p=c.U++,v=Vn(c.I);if(pe(v,"SID",c.K),pe(v,"RID",p),pe(v,"TYPE","terminate"),Da(c,v),p=new se(c,c.j,p),p.L=2,p.v=Ta(Vn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Xo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Nn(p)}Yo(c)}function us(c){c.g&&(xa(c),c.g.cancel(),c.g=null)}function Ho(c){us(c),c.u&&(m.clearTimeout(c.u),c.u=null),hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function cs(c){if(!br(c.h)&&!c.s){c.s=!0;var p=c.Ga;ht||x(),yt||(ht(),yt=!0),Pt.add(p,c),c.B=0}}function eh(c,p){return Ee(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(b(c.Ga,c,p),_l(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new se(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=qo(this,j,p),v=Vn(this.I),pe(v,"RID",c),pe(v,"CVER",22),this.D&&pe(v,"X-HTTP-Session-Id",this.D),Da(this,v),Z&&(this.O?p="headers="+encodeURIComponent(String(gl(Z)))+"&"+p:this.m&&Ke(v,this.m,Z)),Xr(this.h,j),this.Ua&&pe(v,"TYPE","init"),this.P?(pe(v,"$req",p),pe(v,"SID","null"),j.T=!0,Be(j,v,null)):Be(j,v,p),this.G=2}}else this.G==3&&(c?yl(this,c):this.i.length==0||br(this.h)||yl(this))};function yl(c,p){var v;p?v=p.l:v=c.U++;const S=Vn(c.I);pe(S,"SID",c.K),pe(S,"RID",v),pe(S,"AID",c.T),Da(c,S),c.m&&c.o&&Ke(S,c.m,c.o),v=new se(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=qo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xr(c.h,v),Be(v,S,p)}function Da(c,p){c.H&&H(c.H,function(v,S){pe(p,S,v)}),c.l&&cl({},function(v,S){pe(p,S,v)})}function qo(c,p,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;t:{var j=c.i;let Z=-1;for(;;){const ft=["count="+v];Z==-1?0<v?(Z=j[0].g,ft.push("ofs="+Z)):Z=0:ft.push("ofs="+Z);let ee=!0;for(let He=0;He<v;He++){let ne=j[He].g;const Xe=j[He].map;if(ne-=Z,0>ne)Z=Math.max(0,j[He].g-100),ee=!1;else try{wr(Xe,ft,"req"+ne+"_")}catch{S&&S(Xe)}}if(ee){S=ft.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function Go(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ht||x(),yt||(ht(),yt=!0),Pt.add(p,c),c.v=0}}function vl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(b(c.Fa,c),_l(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),us(this),Fo(this))};function xa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fo(c){c.g=new se(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Vn(c.qa);pe(p,"RID","rpc"),pe(p,"SID",c.K),pe(p,"AID",c.T),pe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&pe(p,"TO",c.ja),pe(p,"TYPE","xmlhttp"),Da(c,p),c.m&&c.o&&Ke(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ta(Vn(p)),v.m=null,v.P=!0,Tn(v,c)}i.Za=function(){this.C!=null&&(this.C=null,us(this),vl(this),q(19))};function hs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qo(c,p){var v=null;if(c.g==p){hs(c),xa(c),c.g=null;var S=2}else if($n(c.h,p))v=p.D,en(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;S=Sr(),qt(S,new it(S,v)),cs(c)}else Go(c);else if(j=p.s,j==3||j==0&&0<p.X||!(S==1&&eh(c,p)||S==2&&vl(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function _l(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ei(c,p){if(c.j.info("Error code "+p),p==2){var v=b(c.fb,c),S=c.Xa;const j=!S;S=new Pe(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ea(S,"https"),Ta(S),j?Aa(S.toString(),v):fr(S.toString(),v)}else q(2);c.G=0,c.l&&c.l.sa(p),Yo(c),Ho(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Yo(c){if(c.G=0,c.ka=[],c.l){const p=ul(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Ko(c,p,v){var S=v instanceof Pe?Vn(v):new Pe(v);if(S.g!="")p&&(S.g=p+"."+S.g),Mi(S,S.s);else{var j=m.location;S=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var Z=new Pe(null);S&&Ea(Z,S),p&&(Z.g=p),j&&Mi(Z,j),v&&(Z.l=v),S=Z}return v=c.D,p=c.ya,v&&p&&pe(S,v,p),pe(S,"VER",c.la),Da(c,S),S}function Xo(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new he(new Ii({eb:v})):new he(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $o(){}i=$o.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(c,p){return new An(c,p)};function An(c,p){oe.call(this),this.g=new os(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!rt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!rt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Mr(this)}U(An,oe),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){pl(this.g)},An.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=In(c),c=v);p.i.push(new On(p.Ya++,c)),p.G==3&&cs(p)},An.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,An.aa.N.call(this)};function Zo(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}U(Zo,hr);function Jo(){Ci.call(this),this.status=1}U(Jo,Ci);function Mr(c){this.g=c}U(Mr,$o),Mr.prototype.ua=function(){qt(this.g,"a")},Mr.prototype.ta=function(c){qt(this.g,new Zo(c))},Mr.prototype.sa=function(c){qt(this.g,new Jo)},Mr.prototype.ra=function(){qt(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,o_=function(){return new fs},l_=function(){return Sr()},s_=En,Td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,cc=St,Nt.COMPLETE="complete",a_=Nt,va.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",oe.prototype.listen=oe.prototype.K,go=va,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,i_=he}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",bv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Z0("@firebase/firestore");function Hs(){return Xa.logLevel}function pt(i,...e){if(Xa.logLevel<=ae.DEBUG){const r=e.map(Wd);Xa.debug(`Firestore (${nl}): ${i}`,...r)}}function Ei(i,...e){if(Xa.logLevel<=ae.ERROR){const r=e.map(Wd);Xa.error(`Firestore (${nl}): ${i}`,...r)}}function Xs(i,...e){if(Xa.logLevel<=ae.WARN){const r=e.map(Wd);Xa.warn(`Firestore (${nl}): ${i}`,...r)}}function Wd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,u_(i,s,r)}function u_(i,e,r){let s=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Ei(s),new Error(s)}function fe(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||u_(e,o,s)}function kt(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends el{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(gn.UNAUTHENTICATED))}shutdown(){}}class ZA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class JA{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let u=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sa,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sa)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(fe(typeof s.accessToken=="string",31837,{l:s}),new c_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class WA{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tb{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new WA(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eb{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){fe(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(fe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Rv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nb(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Ft(i,e){return i<e?-1:i>e?1:0}function Sd(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Ft(s,o);{const u=h_(),f=rb(u.encode(wv(i,r)),u.encode(wv(e,r)));return f!==0?f:Ft(s,o)}}r+=s>65535?2:1}return Ft(i.length,e.length)}function wv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function rb(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Ft(i[r],e[r]);return Ft(i.length,e.length)}function $s(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,Dv=1e6;class Rn{static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Dv);return new Rn(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Dt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Dt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Cv)throw new Dt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Rn(0,0))}static max(){return new zt(new Rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class Pr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Lt(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Lt(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=Pr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ft(e.length,r.length)}static compareSegments(e,r){const s=Pr.isNumericId(e),o=Pr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(r)):Sd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class Re extends Pr{construct(e,r,s){return new Re(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Dt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Re(r)}static emptyPath(){return new Re([])}}const ib=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Pr{construct(e,r,s){return new yn(e,r,s)}static isValidIdentifier(e){return ib.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new yn([xv])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Dt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Dt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Dt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Dt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(r)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.path=e}static fromPath(e){return new xt(Re.fromString(e))}static fromName(e){return new xt(Re.fromString(e).popFirst(5))}static empty(){return new xt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Re.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new Re(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=-1;function ab(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=zt.fromTimestamp(s===1e9?new Rn(r+1,0):new Rn(r,s));return new ua(o,xt.empty(),e)}function sb(i){return new ua(i.readTime,i.key,wo)}class ua{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ua(zt.min(),xt.empty(),wo)}static max(){return new ua(zt.max(),xt.empty(),wo)}}function lb(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=xt.comparator(i.documentKey,e.documentKey),r!==0?r:Ft(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==ob)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new st((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):st.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):st.reject(r)}static resolve(e){return new st((r,s)=>{r(e)})}static reject(e){return new st((r,s)=>{s(e)})}static waitFor(e){return new st((r,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&r()},g=>s(g))}),f=!0,u===o&&r()})}static or(e){let r=st.resolve(!1);for(const s of e)r=r.next(o=>o?st.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}static mapArray(e,r){return new st((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,r){return new st((s,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):s()};u()})}}function cb(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function il(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function Pc(i){return i==null}function Ad(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="";function hb(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Mv(e)),e=fb(i.get(r),e);return Mv(e)}function fb(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case d_:r+="";break;default:r+=u}}return r}function Mv(i){return i+d_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function al(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function db(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,r){this.comparator=e,this.root=r||ln.EMPTY}insert(e,r){return new Ce(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new ln(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Lt(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new ln(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(e){return new Nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ye(this.comparator);return r.data=e,r}}class Nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new pi([])}unionWith(e){let r=new Ye(yn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new pi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m_("Invalid base64 string: "+u):u}}(e);return new on(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new on(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(i){if(fe(!!i,39018),typeof i=="string"){let e=0;const r=mb.exec(i);if(fe(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ne(i.seconds),nanos:Ne(i.nanos)}}function Ne(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ha(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="server_timestamp",p_="__type__",y_="__previous_value__",v_="__local_write_time__";function em(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[p_])===null||r===void 0?void 0:r.stringValue)===g_}function zc(i){const e=i.mapValue.fields[y_];return em(e)?zc(e):e}function Co(i){const e=ca(i.mapValue.fields[v_].timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,r,s,o,u,f,m,g,y){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const bc="(default)";class Do{constructor(e,r){this.projectId=e,this.database=r||bc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__type__",yb="__max__",rc={mapValue:{}},vb="__vector__",bd="value";function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?em(i)?4:Eb(i)?9007199254740991:_b(i)?10:11:Lt(28295,{value:i})}function Br(i,e){if(i===e)return!0;const r=fa(i);if(r!==fa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Co(i).isEqual(Co(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ca(o.timestampValue),m=ca(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ne(o.doubleValue),m=Ne(u.doubleValue);return f===m?Ad(f)===Ad(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return $s(i.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Iv(f)!==Iv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Br(f[g],m[g])))return!1;return!0}(i,e);default:return Lt(52216,{left:i})}}function xo(i,e){return(i.values||[]).find(r=>Br(r,e))!==void 0}function Zs(i,e){if(i===e)return 0;const r=fa(i),s=fa(e);if(r!==s)return Ft(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ft(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ne(u.integerValue||u.doubleValue),g=Ne(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Ov(i.timestampValue,e.timestampValue);case 4:return Ov(Co(i),Co(e));case 5:return Sd(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ha(u),g=ha(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ft(m[y],g[y]);if(E!==0)return E}return Ft(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ft(Ne(u.latitude),Ne(f.latitude));return m!==0?m:Ft(Ne(u.longitude),Ne(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Vv(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const A=u.fields||{},b=f.fields||{},M=(m=A[bd])===null||m===void 0?void 0:m.arrayValue,U=(g=b[bd])===null||g===void 0?void 0:g.arrayValue,W=Ft(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:Vv(M,U)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===rc.mapValue&&f===rc.mapValue)return 0;if(u===rc.mapValue)return 1;if(f===rc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const b=Sd(g[A],E[A]);if(b!==0)return b;const M=Zs(m[g[A]],y[E[A]]);if(M!==0)return M}return Ft(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Lt(23264,{Pe:r})}}function Ov(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ft(i,e);const r=ca(i),s=ca(e),o=Ft(r.seconds,s.seconds);return o!==0?o:Ft(r.nanos,s.nanos)}function Vv(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=Zs(r[o],s[o]);if(u)return u}return Ft(r.length,s.length)}function Js(i){return Rd(i)}function Rd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ca(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return ha(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return xt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Rd(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Rd(r.fields[f])}`;return o+"}"}(i.mapValue):Lt(61005,{value:i})}function hc(i){switch(fa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zc(i);return e?16+hc(e):16;case 5:return 2*i.stringValue.length;case 6:return ha(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return al(s.fields,(u,f)=>{o+=u.length+hc(f)}),o}(i.mapValue);default:throw Lt(13486,{value:i})}}function wd(i){return!!i&&"integerValue"in i}function nm(i){return!!i&&"arrayValue"in i}function Lv(i){return!!i&&"nullValue"in i}function Uv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fc(i){return!!i&&"mapValue"in i}function _b(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[pb])===null||r===void 0?void 0:r.stringValue)===vb}function vo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return al(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=vo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=vo(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Eb(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!fc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(r)}setAll(e){let r=yn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,s,o),s={},o=[],r=m.popLast()}f?s[m.lastSegment()]=vo(f):o.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());fc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){al(r,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pr(vo(this.value))}}function __(i){const e=[];return al(i.fields,(r,s)=>{const o=new yn([r]);if(fc(s)){const u=__(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,r,s,o,u,f,m){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new pn(e,0,zt.min(),zt.min(),zt.min(),pr.empty(),0)}static newFoundDocument(e,r,s,o){return new pn(e,1,r,zt.min(),s,o,0)}static newNoDocument(e,r){return new pn(e,2,r,zt.min(),zt.min(),pr.empty(),0)}static newUnknownDocument(e,r){return new pn(e,3,r,zt.min(),zt.min(),pr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,r){this.position=e,this.inclusive=r}}function Pv(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=xt.comparator(xt.fromName(f.referenceValue),r.key):s=Zs(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Br(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,r="asc"){this.field=e,this.dir=r}}function Tb(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{}class Qe extends E_{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new Ab(e,r,s):r==="array-contains"?new wb(e,s):r==="in"?new Cb(e,s):r==="not-in"?new Db(e,s):r==="array-contains-any"?new xb(e,s):new Qe(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new bb(e,s):new Rb(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Zs(r,this.value)):r!==null&&fa(this.value)===fa(r)&&this.matchesComparison(Zs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends E_{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Hr(e,r)}matches(e){return T_(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function T_(i){return i.op==="and"}function S_(i){return Sb(i)&&T_(i)}function Sb(i){for(const e of i.filters)if(e instanceof Hr)return!1;return!0}function Cd(i){if(i instanceof Qe)return i.field.canonicalString()+i.op.toString()+Js(i.value);if(S_(i))return i.filters.map(e=>Cd(e)).join(",");{const e=i.filters.map(r=>Cd(r)).join(",");return`${i.op}(${e})`}}function A_(i,e){return i instanceof Qe?function(s,o){return o instanceof Qe&&s.op===o.op&&s.field.isEqual(o.field)&&Br(s.value,o.value)}(i,e):i instanceof Hr?function(s,o){return o instanceof Hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&A_(f,o.filters[m]),!0):!1}(i,e):void Lt(19439)}function b_(i){return i instanceof Qe?function(r){return`${r.field.canonicalString()} ${r.op} ${Js(r.value)}`}(i):i instanceof Hr?function(r){return r.op.toString()+" {"+r.getFilters().map(b_).join(" ,")+"}"}(i):"Filter"}class Ab extends Qe{constructor(e,r,s){super(e,r,s),this.key=xt.fromName(s.referenceValue)}matches(e){const r=xt.comparator(e.key,this.key);return this.matchesComparison(r)}}class bb extends Qe{constructor(e,r){super(e,"in",r),this.keys=R_("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Rb extends Qe{constructor(e,r){super(e,"not-in",r),this.keys=R_("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function R_(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>xt.fromName(s.referenceValue))}class wb extends Qe{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return nm(r)&&xo(r.arrayValue,this.value)}}class Cb extends Qe{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&xo(this.value.arrayValue,r)}}class Db extends Qe{constructor(e,r){super(e,"not-in",r)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!xo(this.value.arrayValue,r)}}class xb extends Qe{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!nm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>xo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,r=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function kv(i,e=null,r=[],s=[],o=null,u=null,f=null){return new Mb(i,e,r,s,o,u,f)}function rm(i){const e=kt(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Cd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Pc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Js(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Js(s)).join(",")),e.Ie=r}return e.Ie}function im(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Tb(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!A_(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zv(i.startAt,e.startAt)&&zv(i.endAt,e.endAt)}function Dd(i){return xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,r=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ib(i,e,r,s,o,u,f,m){return new kc(i,e,r,s,o,u,f,m)}function w_(i){return new kc(i)}function jv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Nb(i){return i.collectionGroup!==null}function _o(i){const e=kt(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ye(yn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new wc(u,s))}),r.has(yn.keyField().canonicalString())||e.Ee.push(new wc(yn.keyField(),s))}return e.Ee}function kr(i){const e=kt(i);return e.de||(e.de=Ob(e,_o(i))),e.de}function Ob(i,e){if(i.limitType==="F")return kv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wc(o.field,u)});const r=i.endAt?new Rc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Rc(i.startAt.position,i.startAt.inclusive):null;return kv(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function xd(i,e,r){return new kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function jc(i,e){return im(kr(i),kr(e))&&i.limitType===e.limitType}function C_(i){return`${rm(kr(i))}|lt:${i.limitType}`}function qs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>b_(o)).join(", ")}]`),Pc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>Js(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>Js(o)).join(",")),`Target(${s})`}(kr(i))}; limitType=${i.limitType})`}function Bc(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):xt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of _o(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=Pv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,_o(s),o)||s.endAt&&!function(f,m,g){const y=Pv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,_o(s),o))}(i,e)}function Vb(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function D_(i){return(e,r)=>{let s=!1;for(const o of _o(i)){const u=Lb(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Lb(i,e,r){const s=i.field.isKeyField()?xt.comparator(e.key,r.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Zs(g,y):Lt(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Lt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(r,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Ce(xt.comparator);function Ti(){return Ub}const x_=new Ce(xt.comparator);function po(...i){let e=x_;for(const r of i)e=e.insert(r.key,r);return e}function M_(i){let e=x_;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ka(){return Eo()}function I_(){return Eo()}function Eo(){return new Ja(i=>i.toString(),(i,e)=>i.isEqual(e))}const Pb=new Ce(xt.comparator),zb=new Ye(xt.comparator);function Wt(...i){let e=zb;for(const r of i)e=e.add(r);return e}const kb=new Ye(Ft);function jb(){return kb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function Hb(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function qb(i,e,r){return i instanceof Cc?function(o,u){const f={fields:{[p_]:{stringValue:g_},[v_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&em(u)&&(u=zc(u)),u&&(f.fields[y_]=u),{mapValue:f}}(r,e):i instanceof Mo?O_(i,e):i instanceof Io?V_(i,e):function(o,u){const f=N_(o,u),m=Bv(f)+Bv(o.Re);return wd(f)&&wd(o.Re)?Hb(m):Bb(o.serializer,m)}(i,e)}function Gb(i,e,r){return i instanceof Mo?O_(i,e):i instanceof Io?V_(i,e):r}function N_(i,e){return i instanceof Dc?function(s){return wd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Cc extends Hc{}class Mo extends Hc{constructor(e){super(),this.elements=e}}function O_(i,e){const r=L_(e);for(const s of i.elements)r.some(o=>Br(o,s))||r.push(s);return{arrayValue:{values:r}}}class Io extends Hc{constructor(e){super(),this.elements=e}}function V_(i,e){let r=L_(e);for(const s of i.elements)r=r.filter(o=>!Br(o,s));return{arrayValue:{values:r}}}class Dc extends Hc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function Bv(i){return Ne(i.integerValue||i.doubleValue)}function L_(i){return nm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Fb(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Mo&&o instanceof Mo||s instanceof Io&&o instanceof Io?$s(s.elements,o.elements,Br):s instanceof Dc&&o instanceof Dc?Br(s.Re,o.Re):s instanceof Cc&&o instanceof Cc}(i.transform,e.transform)}class Qb{constructor(e,r){this.version=e,this.transformResults=r}}class yi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qc{}function U_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new am(i.key,yi.none()):new Gc(i.key,i.data,yi.none());{const r=i.data,s=pr.empty();let o=new Ye(yn.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new sl(i.key,s,new pi(o.toArray()),yi.none())}}function Yb(i,e,r){i instanceof Gc?function(o,u,f){const m=o.value.clone(),g=qv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,r):i instanceof sl?function(o,u,f){if(!dc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=qv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(P_(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,r):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function To(i,e,r,s){return i instanceof Gc?function(u,f,m,g){if(!dc(u.precondition,f))return m;const y=u.value.clone(),E=Gv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,r,s):i instanceof sl?function(u,f,m,g){if(!dc(u.precondition,f))return m;const y=Gv(u.fieldTransforms,g,f),E=f.data;return E.setAll(P_(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,r,s):function(u,f,m){return dc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,r)}function Kb(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=N_(s.transform,o||null);u!=null&&(r===null&&(r=pr.empty()),r.set(s.field,u))}return r||null}function Hv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$s(s,o,(u,f)=>Fb(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Gc extends qc{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sl extends qc{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P_(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function qv(i,e,r){const s=new Map;fe(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Gb(f,m,r[o]))}return s}function Gv(i,e,r){const s=new Map;for(const o of i){const u=o.transform,f=r.data.field(o.field);s.set(o.field,qb(u,f,e))}return s}class am extends qc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xb extends qc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Yb(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=To(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=To(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=I_();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=r.has(o.key)?null:m;const g=U_(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(zt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Wt())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(r,s)=>Hv(r,s))&&$s(this.baseMutations,e.baseMutations,(r,s)=>Hv(r,s))}}class sm{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){fe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return Pb}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new sm(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,ie;function Wb(i){switch(i){case ot.OK:return Lt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Lt(15467,{code:i})}}function z_(i){if(i===void 0)return Ei("GRPC error has no .code"),ot.UNKNOWN;switch(i){case je.OK:return ot.OK;case je.CANCELLED:return ot.CANCELLED;case je.UNKNOWN:return ot.UNKNOWN;case je.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case je.INTERNAL:return ot.INTERNAL;case je.UNAVAILABLE:return ot.UNAVAILABLE;case je.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case je.NOT_FOUND:return ot.NOT_FOUND;case je.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case je.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case je.ABORTED:return ot.ABORTED;case je.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case je.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case je.DATA_LOSS:return ot.DATA_LOSS;default:return Lt(39323,{code:i})}}(ie=je||(je={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new aa([4294967295,4294967295],0);function Fv(i){const e=h_().encode(i),r=new r_;return r.update(e),new Uint8Array(r.digest())}function Qv(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new aa([r,s],0),new aa([o,u],0)]}class lm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new yo(`Invalid padding: ${r}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new yo(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=aa.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(aa.fromNumber(s)));return o.compare(tR)===1&&(o=new aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=Fv(e),[s,o]=Qv(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new lm(u,o,r);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const r=Fv(e),[s,o]=Qv(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Fc(zt.min(),o,new Ce(Ft),Ti(),Wt())}}class Lo{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Lo(s,r,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class k_{constructor(e,r){this.targetId=e,this.Ce=r}}class j_{constructor(e,r,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class Yv{constructor(){this.Fe=0,this.Me=Kv(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Wt(),r=Wt(),s=Wt();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Lt(38017,{changeType:u})}}),new Lo(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=Kv()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class eR{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=ic(),this.Ye=ic(),this.Ze=new Ce(Ft)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Lt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const u=o.target;if(Dd(u))if(s===0){const f=new xt(u.path);this.tt(r,f,pn.newNoDocument(f,zt.min()))}else fe(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const m=this.ct(e),g=m?this.lt(m,e,f):1;if(g!==0){this.st(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let f,m;try{f=ha(s).toUint8Array()}catch(g){if(g instanceof m_)return Xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new lm(f,o,u)}catch(g){return Xs(g instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Dd(m.target)){const g=new xt(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,pn.newNoDocument(g,e))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let s=Wt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Fc(e,r,this.Ze,this.He,s);return this.He=Ti(),this.Je=ic(),this.Ye=ic(),this.Ze=new Ce(Ft),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new Yv,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Ye(Ft),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Ye(Ft),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||pt("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Yv),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function ic(){return new Ce(xt.comparator)}function Kv(){return new Ce(xt.comparator)}const nR={asc:"ASCENDING",desc:"DESCENDING"},rR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class aR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Md(i,e){return i.useProto3Json||Pc(e)?e:{value:e}}function B_(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function lR(i,e){return B_(i,e.toTimestamp())}function jr(i){return fe(!!i,49232),zt.fromTimestamp(function(r){const s=ca(r);return new Rn(s.seconds,s.nanos)}(i))}function H_(i,e){return Id(i,e).canonicalString()}function Id(i,e){const r=function(o){return new Re(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function q_(i){const e=Re.fromString(i);return fe(K_(e),10190,{key:e.toString()}),e}function Nd(i,e){return H_(i.databaseId,e.path)}function od(i,e){const r=q_(e);if(r.get(1)!==i.databaseId.projectId)throw new Dt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Dt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new xt(F_(r))}function G_(i,e){return H_(i.databaseId,e)}function oR(i){const e=q_(i);return e.length===4?Re.emptyPath():F_(e)}function Od(i){return new Re(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function F_(i){return fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Xv(i,e,r){return{name:Nd(i,e),fields:r.value.mapValue.fields}}function uR(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Lt(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(fe(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ot.UNKNOWN:z_(y.code);return new Dt(E,y.message||"")}(f);r=new j_(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=od(i,s.document.name),u=jr(s.document.updateTime),f=s.document.createTime?jr(s.document.createTime):zt.min(),m=new pr({mapValue:{fields:s.document.fields}}),g=pn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];r=new mc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=od(i,s.document),u=s.readTime?jr(s.readTime):zt.min(),f=pn.newNoDocument(o,u),m=s.removedTargetIds||[];r=new mc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=od(i,s.document),u=s.removedTargetIds||[];r=new mc([],u,o,null)}else{if(!("filter"in e))return Lt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Jb(o,u),m=s.targetId;r=new k_(m,f)}}return r}function cR(i,e){let r;if(e instanceof Gc)r={update:Xv(i,e.key,e.value)};else if(e instanceof am)r={delete:Nd(i,e.key)};else if(e instanceof sl)r={update:Xv(i,e.key,e.data),updateMask:_R(e.fieldMask)};else{if(!(e instanceof Xb))return Lt(16599,{ft:e.type});r={verify:Nd(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Cc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Io)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Lt(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:lR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Lt(27497)}(i,e.precondition)),r}function hR(i,e){return i&&i.length>0?(fe(e!==void 0,14353),i.map(r=>function(o,u){let f=o.updateTime?jr(o.updateTime):jr(u);return f.isEqual(zt.min())&&(f=jr(u)),new Qb(f,o.transformResults||[])}(r,e))):[]}function fR(i,e){return{documents:[G_(i,e.path)]}}function dR(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=G_(i,o);const u=function(y){if(y.length!==0)return Y_(Hr.create(y,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:Gs(b.field),direction:pR(b.dir)}}(E))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const m=Md(i,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:r,parent:o}}function mR(i){let e=oR(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){fe(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=function(A){const b=Q_(A);return b instanceof Hr&&S_(b)?b.getFilters():[b]}(r.where));let f=[];r.orderBy&&(f=function(A){return A.map(b=>function(U){return new wc(Fs(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(b))}(r.orderBy));let m=null;r.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,Pc(b)?null:b}(r.limit));let g=null;r.startAt&&(g=function(A){const b=!!A.before,M=A.values||[];return new Rc(M,b)}(r.startAt));let y=null;return r.endAt&&(y=function(A){const b=!A.before,M=A.values||[];return new Rc(M,b)}(r.endAt)),Ib(e,o,f,u,m,"F",g,y)}function gR(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Q_(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Fs(r.unaryFilter.field);return Qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fs(r.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fs(r.unaryFilter.field);return Qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(r.unaryFilter.field);return Qe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}}(i):i.fieldFilter!==void 0?function(r){return Qe.create(Fs(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Hr.create(r.compositeFilter.filters.map(s=>Q_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}}(r.compositeFilter.op))}(i):Lt(30097,{filter:i})}function pR(i){return nR[i]}function yR(i){return rR[i]}function vR(i){return iR[i]}function Gs(i){return{fieldPath:i.canonicalString()}}function Fs(i){return yn.fromServerFormat(i.fieldPath)}function Y_(i){return i instanceof Qe?function(r){if(r.op==="=="){if(Uv(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NAN"}};if(Lv(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Uv(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NOT_NAN"}};if(Lv(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(r.field),op:yR(r.op),value:r.value}}}(i):i instanceof Hr?function(r){const s=r.getFilters().map(o=>Y_(o));return s.length===1?s[0]:{compositeFilter:{op:vR(r.op),filters:s}}}(i):Lt(54877,{filter:i})}function _R(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function K_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,r,s,o,u=zt.min(),f=zt.min(),m=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.wt=e}}function TR(i){const e=mR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.yn=new AR}addToCollectionParentIndex(e,r){return this.yn.add(r),st.resolve()}getCollectionParents(e,r){return st.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return st.resolve()}deleteFieldIndex(e,r){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,r){return st.resolve()}getDocumentsMatchingTarget(e,r){return st.resolve(null)}getIndexType(e,r){return st.resolve(0)}getFieldIndexes(e,r){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,r){return st.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,r){return st.resolve(ua.min())}updateCollectionGroup(e,r,s){return st.resolve()}updateIndexEntries(e,r){return st.resolve()}}class AR{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Ye(Re.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ye(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X_=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(X_,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ws(0)}static ir(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",bR=1048576;function Jv([i,e],[r,s]){const o=Ft(i,r);return o===0?Ft(e,s):o}class RR{constructor(e){this.cr=e,this.buffer=new Ye(Jv),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Jv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class wR{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pt(Zv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){il(r)?pt(Zv,"Ignoring IndexedDB error during garbage collection: ",r):await rl(r)}await this.Ir(3e5)})}}class CR{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return st.resolve(Uc.le);const s=new RR(r);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.Er.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve($v)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,r))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),Hs()<=ae.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function DR(i,e){return new CR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.changes=new Ja(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?st.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&To(s.mutation,o,pi.empty(),Rn.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Wt()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Wt()){const o=Ka();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(u=>{let f=po();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const s=Ka();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Wt()))}populateOverlays(e,r,s){const o=[];return s.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{r.set(f,m)})})}computeViews(e,r,s,o){let u=Ti();const f=Eo(),m=function(){return Eo()}();return r.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof sl)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),To(E.mutation,y,E.mutation.getFieldMask(),Rn.now())):f.set(y.key,pi.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var A;return m.set(y,new MR(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,r){const s=Eo();let o=new Ce((f,m)=>f-m),u=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=s.get(g)||pi.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(o.get(m.batchId)||Wt()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=I_();E.forEach(b=>{if(!u.has(b)){const M=U_(r.get(b),s.get(b));M!==null&&A.set(b,M),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return st.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(f){return xt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Nb(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):st.resolve(Ka());let m=wo,g=u;return f.next(y=>st.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?st.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Wt())).next(E=>({batchId:m,changes:M_(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new xt(r)).next(s=>{let o=po();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let f=po();return this.indexManager.getCollectionParents(e,u).next(m=>st.forEach(m,g=>{const y=function(A,b){return new kc(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,pn.newInvalidDocument(E)))});let m=po();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&To(E.mutation,y,pi.empty(),Rn.now()),Bc(r,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return st.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:jr(o.createTime)}}(r)),st.resolve()}getNamedQuery(e,r){return st.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:TR(o.bundledQuery),readTime:jr(o.readTime)}}(r)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.overlays=new Ce(xt.comparator),this.Or=new Map}getOverlay(e,r){return st.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ka();return st.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,u)=>{this.St(e,r,u)}),st.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),st.resolve()}getOverlaysForCollection(e,r,s){const o=Ka(),u=r.length+1,f=new xt(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return st.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new Ce((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ka(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ka(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return st.resolve(m)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zb(r,s));let u=this.Or.get(r);u===void 0&&(u=Wt(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Nr=new Ye(We.Br),this.Lr=new Ye(We.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const s=new We(e,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Qr(new We(e,r))}$r(e,r){e.forEach(s=>this.removeReference(s,r))}Ur(e){const r=new xt(new Re([])),s=new We(r,e),o=new We(r,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new xt(new Re([])),s=new We(r,e),o=new We(r,e+1);let u=Wt();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const r=new We(e,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class We{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return xt.comparator(e.key,r.key)||Ft(e.Gr,r.Gr)}static kr(e,r){return Ft(e.Gr,r.Gr)||xt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ye(We.Br)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $b(u,r,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new We(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(e,r){return st.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Hr(s),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?tm:this.Jn-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new We(r,0),o=new We(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Ye(Ft);return r.forEach(o=>{const u=new We(o,0),f=new We(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),st.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;xt.isDocumentKey(u)||(u=u.child(""));const f=new We(new xt(u),0);let m=new Ye(Ft);return this.zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Gr)),!0)},f),st.resolve(this.Jr(m))}Jr(e){const r=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){fe(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return st.forEach(r.mutations,o=>{const u=new We(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,r){const s=new We(r,0),o=this.zr.firstAfterOrEqual(s);return st.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.Zr=e,this.docs=function(){return new Ce(xt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return st.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(r))}getEntries(e,r){let s=Ti();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))}),st.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Ti();const f=r.path,m=new xt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||lb(sb(E),s)<=0||(o.has(E.key)||Bc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Lt(9500)}Xr(e,r){return st.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new PR(this)}getSize(e){return st.resolve(this.size)}}class PR extends xR{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),st.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.persistence=e,this.ei=new Ja(r=>rm(r),im),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ti=0,this.ni=new om,this.targetCount=0,this.ri=Ws.rr()}forEachTarget(e,r){return this.ei.forEach((s,o)=>r(o)),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),st.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Ws(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,st.resolve()}updateTargetData(e,r){return this.ar(r),st.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),st.waitFor(u).next(()=>o)}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,r){const s=this.ei.get(r)||null;return st.resolve(s)}addMatchingKeys(e,r,s){return this.ni.qr(r,s),st.resolve()}removeMatchingKeys(e,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),st.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),st.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ni.Wr(r);return st.resolve(s)}containsKey(e,r){return st.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,r){this.ii={},this.overlays={},this.si=new Uc(0),this.oi=!1,this.oi=!0,this._i=new VR,this.referenceDelegate=e(this),this.ai=new zR(this),this.indexManager=new SR,this.remoteDocumentCache=function(o){return new UR(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new ER(r),this.ci=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new OR,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ii[e.toKey()];return s||(s=new LR(r,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,s){pt("MemoryPersistence","Starting transaction:",e);const o=new kR(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return st.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,r)))}}class kR extends ub{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Ti=new om,this.Ii=null}static Ei(e){return new um(e)}get di(){if(this.Ii)return this.Ii;throw Lt(60996)}addReference(e,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),st.resolve()}removeReference(e,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),st.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,s=>{const o=xt.fromPath(s);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,zt.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return st.or([()=>st.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class xc{constructor(e,r){this.persistence=e,this.Ri=new Ja(s=>hb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=DR(this,r)}static Ei(e,r){return new xc(e,r)}li(){}hi(e){return st.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}Vr(e){let r=0;return this.Ar(e,s=>{r++}).next(()=>r)}Ar(e,r){return st.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?st.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,r).next(m=>{m||(s++,u.removeEntry(f,zt.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),st.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),st.resolve()}removeReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),st.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=hc(e.data.value)),r}gr(e,r,s){return st.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ls=s,this.hs=o}static Ps(e,r){let s=Wt(),o=Wt();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return MS()?8:cb(DS())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.Rs(e,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,r,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new jR;return this.fs(e,r,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,r,f,m.size)})}).next(()=>u.result)}gs(e,r,s,o){return s.documentReadCount<this.Es?(Hs()<=ae.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",qs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Hs()<=ae.DEBUG&&pt("QueryEngine","Query:",qs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Hs()<=ae.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",qs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(r))):st.resolve())}Rs(e,r){if(jv(r))return st.resolve(null);let s=kr(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=xd(r,null,"F"),s=kr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Wt(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.ps(r,m);return this.ys(r,y,f,g.readTime)?this.Rs(e,xd(r,null,"F")):this.ws(e,y,r,g)}))})))}Vs(e,r,s,o){return jv(r)||o.isEqual(zt.min())?st.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(r,u);return this.ys(r,f,s,o)?st.resolve(null):(Hs()<=ae.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qs(r)),this.ws(e,f,r,ab(o,wo)).next(m=>m))})}ps(e,r){let s=new Ye(D_(e));return r.forEach((o,u)=>{Bc(e,u)&&(s=s.add(u))}),s}ys(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,s){return Hs()<=ae.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",qs(r)),this.As.getDocumentsMatchingQuery(e,r,ua.min(),s)}ws(e,r,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",HR=3e8;class qR{constructor(e,r,s,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new Ce(Ft),this.Ds=new Ja(u=>rm(u),im),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function GR(i,e,r,s){return new qR(i,e,r,s)}async function Z_(i,e){const r=kt(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Wt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(s,g).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function FR(i,e){const r=kt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const A=y.batch,b=A.keys();let M=st.resolve();return b.forEach(U=>{M=M.next(()=>E.getEntry(g,U)).next(W=>{const F=y.docVersions.get(U);fe(F!==null,48541),W.version.compareTo(F)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(r,s,e,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Wt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function J_(i){const e=kt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function QR(i,e){const r=kt(i),s=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const m=[];e.targetChanges.forEach((E,A)=>{const b=o.get(A);if(!b)return;m.push(r.ai.removeMatchingKeys(u,E.removedDocuments,A).next(()=>r.ai.addMatchingKeys(u,E.addedDocuments,A)));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?M=M.withResumeToken(on.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(A,M),function(W,F,J){return W.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=HR?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(b,M,E)&&m.push(r.ai.updateTargetData(u,M))});let g=Ti(),y=Wt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(YR(u,f,e.documentUpdates).next(E=>{g=E.xs,y=E.Os})),!s.isEqual(zt.min())){const E=r.ai.getLastRemoteSnapshotVersion(u).next(A=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return st.waitFor(m).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(r.Ss=o,u))}function YR(i,e,r){let s=Wt(),o=Wt();return r.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Ti();return r.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(zt.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):pt(hm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{xs:f,Os:o}})}function KR(i,e){const r=kt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=tm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XR(i,e){const r=kt(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,e).next(u=>u?(o=u,st.resolve(o)):r.ai.allocateTargetId(s).next(f=>(o=new na(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(e,s.targetId)),s})}async function Vd(i,e,r){const s=kt(i),o=s.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!il(f))throw f;pt(hm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function Wv(i,e,r){const s=kt(i);let o=zt.min(),u=Wt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const A=kt(g),b=A.Ds.get(E);return b!==void 0?st.resolve(A.Ss.get(b)):A.ai.getTargetData(y,E)}(s,f,kr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,r?o:zt.min(),r?u:Wt())).next(m=>($R(s,Vb(e),m),{documents:m,Ns:u})))}function $R(i,e,r){let s=i.vs.get(e)||zt.min();r.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class t0{constructor(){this.activeTargetIds=jb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZR{constructor(){this.So=new t0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,s){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new t0,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class n0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pt(e0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pt(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Ld(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="RestConnection",WR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tw{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,r,s,o,u){const f=Ld(),m=this.$o(e,r.toUriEncodedString());pt(ud,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(g,o,u),this.Ko(e,m,g,s).then(y=>(pt(ud,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Xs(ud,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Wo(e,r,s,o,u,f){return this.Qo(e,r,s,o,u)}Uo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const s=WR[e];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class nw extends tw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,s,o){const u=Ld();return new Promise((f,m)=>{const g=new i_;g.setWithCredentials(!0),g.listenOnce(a_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case cc.NO_ERROR:const E=g.getResponseJson();pt(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case cc.TIMEOUT:pt(mn,`RPC '${e}' ${u} timed out`),m(new Dt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const A=g.getStatus();if(pt(mn,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b==null?void 0:b.error;if(M&&M.status&&M.message){const U=function(F){const J=F.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(J)>=0?J:ot.UNKNOWN}(M.status);m(new Dt(U,M.message))}else m(new Dt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Dt(ot.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{s_:e,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{pt(mn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);pt(mn,`RPC '${e}' ${u} sending request:`,o),g.send(r,"POST",y,s,15)})}a_(e,r,s){const o=Ld(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=o_(),m=l_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const E=u.join("");pt(mn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);let b=!1,M=!1;const U=new ew({Go:F=>{M?pt(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(pt(mn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),pt(mn,`RPC '${e}' stream ${o} sending:`,F),A.send(F))},zo:()=>A.close()}),W=(F,J,rt)=>{F.listen(J,ut=>{try{rt(ut)}catch(gt){setTimeout(()=>{throw gt},0)}})};return W(A,go.EventType.OPEN,()=>{M||(pt(mn,`RPC '${e}' stream ${o} transport opened.`),U.t_())}),W(A,go.EventType.CLOSE,()=>{M||(M=!0,pt(mn,`RPC '${e}' stream ${o} transport closed`),U.r_())}),W(A,go.EventType.ERROR,F=>{M||(M=!0,Xs(mn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),U.r_(new Dt(ot.UNAVAILABLE,"The operation could not be completed")))}),W(A,go.EventType.MESSAGE,F=>{var J;if(!M){const rt=F.data[0];fe(!!rt,16349);const ut=rt,gt=(ut==null?void 0:ut.error)||((J=ut[0])===null||J===void 0?void 0:J.error);if(gt){pt(mn,`RPC '${e}' stream ${o} received error:`,gt);const mt=gt.status;let H=function(w){const O=je[w];if(O!==void 0)return z_(O)}(mt),N=gt.message;H===void 0&&(H=ot.INTERNAL,N="Unknown error status: "+mt+" with message "+gt.message),M=!0,U.r_(new Dt(H,N)),A.close()}else pt(mn,`RPC '${e}' stream ${o} received:`,rt),U.i_(rt)}}),W(m,s_.STAT_EVENT,F=>{F.stat===Td.PROXY?pt(mn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Td.NOPROXY&&pt(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.n_()},0),U}}function cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i){return new aR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,r,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class eE{constructor(e,r,s,o,u,f,m,g){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new tE(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===ot.RESOURCE_EXHAUSTED?(Ei(r.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{e(()=>{const o=new Dt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,r){const s=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pt(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(pt(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rw extends eE{constructor(e,r,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=uR(this.serializer,e),s=function(u){if(!("targetChange"in u))return zt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?zt.min():f.readTime?jr(f.readTime):zt.min()}(e);return this.listener.Q_(r,s)}U_(e){const r={};r.database=Od(this.serializer),r.addTarget=function(u,f){let m;const g=f.target;if(m=Dd(g)?{documents:fR(u,g)}:{query:dR(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sR(u,f.resumeToken);const y=Md(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(zt.min())>0){m.readTime=B_(u,f.snapshotVersion.toTimestamp());const y=Md(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=gR(this.serializer,e);s&&(r.labels=s),this.F_(r)}K_(e){const r={};r.database=Od(this.serializer),r.removeTarget=e,this.F_(r)}}class iw extends eE{constructor(e,r,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=hR(e.writeResults,e.commitTime),s=jr(e.commitTime);return this.listener.j_(s,r)}H_(){const e={};e.database=Od(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>cR(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{}class sw extends aw{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Dt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Id(r,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Dt(ot.UNKNOWN,u.toString())})}Wo(e,r,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Id(r,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Dt(ot.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class lw{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ei(r),this.ea=!1):pt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class ow{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Wa(this)&&(pt($a,"Restarting streams for network reachability change."),await async function(g){const y=kt(g);y.aa.add(4),await Uo(y),y.la.set("Unknown"),y.aa.delete(4),await Qc(y)}(this))})}),this.la=new lw(s,o)}}async function Qc(i){if(Wa(i))for(const e of i.ua)await e(!0)}async function Uo(i){for(const e of i.ua)await e(!1)}function nE(i,e){const r=kt(i);r._a.has(e.targetId)||(r._a.set(e.targetId,e),gm(r)?mm(r):ll(r).b_()&&dm(r,e))}function fm(i,e){const r=kt(i),s=ll(r);r._a.delete(e),s.b_()&&rE(r,e),r._a.size===0&&(s.b_()?s.v_():Wa(r)&&r.la.set("Unknown"))}function dm(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ll(i).U_(e)}function rE(i,e){i.ha.Ke(e),ll(i).K_(e)}function mm(i){i.ha=new eR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.la.ta()}function gm(i){return Wa(i)&&!ll(i).w_()&&i._a.size>0}function Wa(i){return kt(i).aa.size===0}function iE(i){i.ha=void 0}async function uw(i){i.la.set("Online")}async function cw(i){i._a.forEach((e,r)=>{dm(i,e)})}async function hw(i,e){iE(i),gm(i)?(i.la.ia(e),mm(i)):i.la.set("Unknown")}async function fw(i,e,r){if(i.la.set("Online"),e instanceof j_&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){pt($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mc(i,s)}else if(e instanceof mc?i.ha.Xe(e):e instanceof k_?i.ha.ot(e):i.ha.nt(e),!r.isEqual(zt.min()))try{const s=await J_(i.localStore);r.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),rE(u,g);const A=new na(E.target,g,y,E.sequenceNumber);dm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(s){pt($a,"Failed to raise snapshot:",s),await Mc(i,s)}}async function Mc(i,e,r){if(!il(e))throw e;i.aa.add(1),await Uo(i),i.la.set("Offline"),r||(r=()=>J_(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pt($a,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await Qc(i)})}function aE(i,e){return e().catch(r=>Mc(i,r,e))}async function Yc(i){const e=kt(i),r=da(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:tm;for(;dw(e);)try{const o=await KR(e.localStore,s);if(o===null){e.oa.length===0&&r.v_();break}s=o.batchId,mw(e,o)}catch(o){await Mc(e,o)}sE(e)&&lE(e)}function dw(i){return Wa(i)&&i.oa.length<10}function mw(i,e){i.oa.push(e);const r=da(i);r.b_()&&r.W_&&r.G_(e.mutations)}function sE(i){return Wa(i)&&!da(i).w_()&&i.oa.length>0}function lE(i){da(i).start()}async function gw(i){da(i).H_()}async function pw(i){const e=da(i);for(const r of i.oa)e.G_(r.mutations)}async function yw(i,e,r){const s=i.oa.shift(),o=sm.from(s,e,r);await aE(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Yc(i)}async function vw(i,e){e&&da(i).W_&&await async function(s,o){if(function(f){return Wb(f)&&f!==ot.ABORTED}(o.code)){const u=s.oa.shift();da(s).D_(),await aE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yc(s)}}(i,e),sE(i)&&lE(i)}async function i0(i,e){const r=kt(i);r.asyncQueue.verifyOperationInProgress(),pt($a,"RemoteStore received new credentials");const s=Wa(r);r.aa.add(3),await Uo(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await Qc(r)}async function _w(i,e){const r=kt(i);e?(r.aa.delete(2),await Qc(r)):e||(r.aa.add(2),await Uo(r),r.la.set("Unknown"))}function ll(i){return i.Pa||(i.Pa=function(r,s,o){const u=kt(r);return u.Y_(),new rw(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:uw.bind(null,i),Jo:cw.bind(null,i),Zo:hw.bind(null,i),Q_:fw.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),gm(i)?mm(i):i.la.set("Unknown")):(await i.Pa.stop(),iE(i))})),i.Pa}function da(i){return i.Ta||(i.Ta=function(r,s,o){const u=kt(r);return u.Y_(),new iw(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:gw.bind(null,i),Zo:vw.bind(null,i),z_:pw.bind(null,i),j_:yw.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await Yc(i)):(await i.Ta.stop(),i.oa.length>0&&(pt($a,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const f=Date.now()+s,m=new pm(e,r,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Dt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),il(i))return new Dt(ot.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(e){return new Ks(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||xt.comparator(r.key,s.key):(r,s)=>xt.comparator(r.key,s.key),this.keyedMap=po(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Ks;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Ia=new Ce(xt.comparator)}track(e){const r=e.doc.key,s=this.Ia.get(r);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(r):e.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Lt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,s)=>{e.push(s)}),e}}class tl{constructor(e,r,s,o,u,f,m,g,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,u){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new tl(e,r,Ks.emptySet(r),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Tw{constructor(){this.queries=s0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=kt(r),u=o.queries;o.queries=s0(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new Dt(ot.ABORTED,"Firestore shutting down"))}}function s0(){return new Ja(i=>C_(i),jc)}async function Sw(i,e){const r=kt(i);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new Ew,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const m=ym(f,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(m)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&vm(r)}async function Aw(i,e){const r=kt(i),s=e.query;let o=3;const u=r.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function bw(i,e){const r=kt(i);let s=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&vm(r)}function Rw(i,e,r){const s=kt(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);s.queries.delete(e)}function vm(i){i.fa.forEach(e=>{e.next()})}var Ud,l0;(l0=Ud||(Ud={})).ya="default",l0.Cache="cache";class ww{constructor(e,r,s){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new tl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class Cw{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Wt(),this.mutatedKeys=Wt(),this.Ua=D_(e),this.Ka=new Ks(this.Ua)}get Wa(){return this.qa}Ga(e,r){const s=r?r.za:new a0,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const b=o.get(E),M=Bc(this.query,A)?A:null,U=!!b&&this.mutatedKeys.has(b.key),W=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let F=!1;b&&M?b.data.isEqual(M.data)?U!==W&&(s.track({type:3,doc:M}),F=!0):this.ja(b,M)||(s.track({type:2,doc:M}),F=!0,(g&&this.Ua(M,g)>0||y&&this.Ua(M,y)<0)&&(m=!0)):!b&&M?(s.track({type:0,doc:M}),F=!0):b&&!M&&(s.track({type:1,doc:b}),F=!0,(g||y)&&(m=!0)),F&&(M?(f=f.add(M),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,A)=>function(M,U){const W=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Vt:F})}};return W(M)-W(U)}(E.type,A.type)||this.Ua(E.doc,A.doc)),this.Ha(s),o=o!=null&&o;const m=r&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,y=g!==this.Qa;return this.Qa=g,f.length!==0||y?{snapshot:new tl(this.query,e.Ka,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new a0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Wt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return e.forEach(s=>{this.$a.has(s)||r.push(new uE(s))}),this.$a.forEach(s=>{e.has(s)||r.push(new oE(s))}),r}Xa(e){this.qa=e.Ns,this.$a=Wt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return tl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const _m="SyncEngine";class Dw{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class xw{constructor(e){this.key=e,this.tu=!1}}class Mw{constructor(e,r,s,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ja(m=>C_(m),jc),this.iu=new Map,this.su=new Set,this.ou=new Ce(xt.comparator),this._u=new Map,this.au=new om,this.uu={},this.cu=new Map,this.lu=Ws.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Iw(i,e,r=!0){const s=gE(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await cE(s,e,r,!0),o}async function Nw(i,e){const r=gE(i);await cE(r,e,!0,!1)}async function cE(i,e,r,s){const o=await XR(i.localStore,kr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await Ow(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&nE(i.remoteStore,o),m}async function Ow(i,e,r,s,o){i.Pu=(A,b,M)=>async function(W,F,J,rt){let ut=F.view.Ga(J);ut.ys&&(ut=await Wv(W.localStore,F.query,!1).then(({documents:N})=>F.view.Ga(N,ut)));const gt=rt&&rt.targetChanges.get(F.targetId),mt=rt&&rt.targetMismatches.get(F.targetId)!=null,H=F.view.applyChanges(ut,W.isPrimaryClient,gt,mt);return u0(W,F.targetId,H.Ya),H.snapshot}(i,A,b,M);const u=await Wv(i.localStore,e,!0),f=new Cw(e,u.Ns),m=f.Ga(u.documents),g=Lo.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);u0(i,r,y.Ya);const E=new Dw(e,r,f);return i.ru.set(e,E),i.iu.has(r)?i.iu.get(r).push(e):i.iu.set(r,[e]),y.snapshot}async function Vw(i,e,r){const s=kt(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!jc(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&fm(s.remoteStore,o.targetId),Pd(s,o.targetId)}).catch(rl)):(Pd(s,o.targetId),await Vd(s.localStore,o.targetId,!0))}async function Lw(i,e){const r=kt(i),s=r.ru.get(e),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),fm(r.remoteStore,s.targetId))}async function Uw(i,e,r){const s=qw(i);try{const o=await function(f,m){const g=kt(f),y=Rn.now(),E=m.reduce((M,U)=>M.add(U.key),Wt());let A,b;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=Ti(),W=Wt();return g.Cs.getEntries(M,E).next(F=>{U=F,U.forEach((J,rt)=>{rt.isValidDocument()||(W=W.add(J))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,U)).next(F=>{A=F;const J=[];for(const rt of m){const ut=Kb(rt,A.get(rt.key).overlayedDocument);ut!=null&&J.push(new sl(rt.key,ut,__(ut.value.mapValue),yi.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,J,m)}).next(F=>{b=F;const J=F.applyToLocalDocumentSet(A,W);return g.documentOverlayCache.saveOverlays(M,F.batchId,J)})}).then(()=>({batchId:b.batchId,changes:M_(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.uu[f.currentUser.toKey()];y||(y=new Ce(Ft)),y=y.insert(m,g),f.uu[f.currentUser.toKey()]=y}(s,o.batchId,r),await Po(s,o.changes),await Yc(s.remoteStore)}catch(o){const u=ym(o,"Failed to persist write");r.reject(u)}}async function hE(i,e){const r=kt(i);try{const s=await QR(r.localStore,e);e.targetChanges.forEach((o,u)=>{const f=r._u.get(u);f&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?fe(f.tu,14607):o.removedDocuments.size>0&&(fe(f.tu,42227),f.tu=!1))}),await Po(r,s,e)}catch(s){await rl(s)}}function o0(i,e,r){const s=kt(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=kt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const b of A.Ra)b.ga(m)&&(y=!0)}),y&&vm(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Pw(i,e,r){const s=kt(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s._u.get(e),u=o&&o.key;if(u){let f=new Ce(xt.comparator);f=f.insert(u,pn.newNoDocument(u,zt.min()));const m=Wt().add(u),g=new Fc(zt.min(),new Map,new Ce(Ft),f,m);await hE(s,g),s.ou=s.ou.remove(u),s._u.delete(e),Em(s)}else await Vd(s.localStore,e,!1).then(()=>Pd(s,e,r)).catch(rl)}async function zw(i,e){const r=kt(i),s=e.batch.batchId;try{const o=await FR(r.localStore,e);dE(r,s,null),fE(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Po(r,o)}catch(o){await rl(o)}}async function kw(i,e,r){const s=kt(i);try{const o=await function(f,m){const g=kt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(fe(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);dE(s,e,r),fE(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Po(s,o)}catch(o){await rl(o)}}function fE(i,e){(i.cu.get(e)||[]).forEach(r=>{r.resolve()}),i.cu.delete(e)}function dE(i,e,r){const s=kt(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Pd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||mE(i,s)})}function mE(i,e){i.su.delete(e.path.canonicalString());const r=i.ou.get(e);r!==null&&(fm(i.remoteStore,r),i.ou=i.ou.remove(e),i._u.delete(r),Em(i))}function u0(i,e,r){for(const s of r)s instanceof oE?(i.au.addReference(s.key,e),jw(i,s)):s instanceof uE?(pt(_m,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||mE(i,s.key)):Lt(19791,{Iu:s})}function jw(i,e){const r=e.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(pt(_m,"New document in limbo: "+r),i.su.add(s),Em(i))}function Em(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const r=new xt(Re.fromString(e)),s=i.lu.next();i._u.set(s,new xw(r)),i.ou=i.ou.insert(r,s),nE(i.remoteStore,new na(kr(w_(r.path)),s,"TargetPurposeLimboResolution",Uc.le))}}async function Po(i,e,r){const s=kt(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{f.push(s.Pu(g,e,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=cm.Ps(g.targetId,y);u.push(A)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(g,y){const E=kt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>st.forEach(y,b=>st.forEach(b.ls,M=>E.persistence.referenceDelegate.addReference(A,b.targetId,M)).next(()=>st.forEach(b.hs,M=>E.persistence.referenceDelegate.removeReference(A,b.targetId,M)))))}catch(A){if(!il(A))throw A;pt(hm,"Failed to update sequence numbers: "+A)}for(const A of y){const b=A.targetId;if(!A.fromCache){const M=E.Ss.get(b),U=M.snapshotVersion,W=M.withLastLimboFreeSnapshotVersion(U);E.Ss=E.Ss.insert(b,W)}}}(s.localStore,u))}async function Bw(i,e){const r=kt(i);if(!r.currentUser.isEqual(e)){pt(_m,"User change. New user:",e.toKey());const s=await Z_(r.localStore,e);r.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new Dt(ot.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Po(r,s.Ms)}}function Hw(i,e){const r=kt(i),s=r._u.get(e);if(s&&s.tu)return Wt().add(s.key);{let o=Wt();const u=r.iu.get(e);if(!u)return o;for(const f of u){const m=r.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function gE(i){const e=kt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pw.bind(null,e),e.nu.Q_=bw.bind(null,e.eventManager),e.nu.Tu=Rw.bind(null,e.eventManager),e}function qw(i){const e=kt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kw.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=W_(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return GR(this.persistence,new BR,e.initialUser,this.serializer)}Ru(e){return new $_(um.Ei,this.serializer)}Au(e){return new ZR}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class Gw extends Ic{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){fe(this.persistence.referenceDelegate instanceof xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wR(s,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new $_(s=>xc.Ei(s,r),this.serializer)}}class zd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bw.bind(null,this.syncEngine),await _w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tw}()}createDatastore(e){const r=W_(e.databaseInfo.databaseId),s=function(u){return new nw(u)}(e.databaseInfo);return function(u,f,m,g){return new sw(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,u,f,m){return new ow(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,r=>o0(this.syncEngine,r,0),function(){return n0.C()?new n0:new JR}())}createSyncEngine(e,r){return function(o,u,f,m,g,y,E){const A=new Mw(o,u,f,m,g,y);return E&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=kt(o);pt($a,"RemoteStore shutting down."),u.aa.add(5),await Uo(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class Qw{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=f_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{pt(ma,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(pt(ma,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=ym(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hd(i,e){i.asyncQueue.verifyOperationInProgress(),pt(ma,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Z_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function c0(i,e){i.asyncQueue.verifyOperationInProgress();const r=await Yw(i);pt(ma,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>i0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>i0(e.remoteStore,o)),i._onlineComponents=e}async function Yw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(ma,"Using user provided OfflineComponentProvider");try{await hd(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Xs("Error using user provided cache. Falling back to memory cache: "+r),await hd(i,new Ic)}}else pt(ma,"Using default OfflineComponentProvider"),await hd(i,new Gw(void 0));return i._offlineComponents}async function pE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(ma,"Using user provided OnlineComponentProvider"),await c0(i,i._uninitializedComponentsProvider._online)):(pt(ma,"Using default OnlineComponentProvider"),await c0(i,new zd))),i._onlineComponents}function Kw(i){return pE(i).then(e=>e.syncEngine)}async function Xw(i){const e=await pE(i),r=e.eventManager;return r.onListen=Iw.bind(null,e.syncEngine),r.onUnlisten=Vw.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Nw.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Lw.bind(null,e.syncEngine),r}function $w(i,e,r={}){const s=new sa;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new Fw({next:b=>{E.yu(),f.enqueueAndForget(()=>Aw(u,A)),b.fromCache&&g.source==="server"?y.reject(new Dt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),A=new ww(m,E,{includeMetadataChanges:!0,Fa:!0});return Sw(u,A)}(await Xw(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i,e,r){if(!r)throw new Dt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Zw(i,e,r,s){if(e===!0&&s===!0)throw new Dt(ot.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function f0(i){if(!xt.isDocumentKey(i))throw new Dt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function d0(i){if(xt.isDocumentKey(i))throw new Dt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jw(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Lt(12329,{type:typeof i})}function Nc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Dt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jw(i);throw new Dt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",m0=!0;class g0{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Dt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=m0}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:m0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bR)throw new Dt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Dt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Dt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Dt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kc{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Dt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $A;switch(s.type){case"firstParty":return new tb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Dt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=h0.get(r);s&&(pt("ComponentProvider","Removing Datastore"),h0.delete(r),s.terminate())}(this),Promise.resolve()}}function Ww(i,e,r,s={}){var o;const u=(i=Nc(i,Kc))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${r}`;u.host!==_E&&u.host!==m&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Tc(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=gn.MOCK_USER;else{y=CS(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new Dt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(A)}i._authCredentials=new ZA(new c_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xc(this.firestore,e,this._query)}}class vi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class la extends Xc{constructor(e,r,s){super(e,r,w_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new xt(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function tC(i,e,...r){if(i=$0(i),vE("collection","path",e),i instanceof Kc){const s=Re.fromString(e,...r);return d0(s),new la(i,null,s)}{if(!(i instanceof vi||i instanceof la))throw new Dt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Re.fromString(e,...r));return d0(s),new la(i.firestore,null,s)}}function eC(i,e,...r){if(i=$0(i),arguments.length===1&&(e=f_.newId()),vE("doc","path",e),i instanceof Kc){const s=Re.fromString(e,...r);return f0(s),new vi(i,null,new xt(s))}{if(!(i instanceof vi||i instanceof la))throw new Dt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Re.fromString(e,...r));return f0(s),new vi(i.firestore,i instanceof la?i.converter:null,new xt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="AsyncQueue";class y0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new tE(this,"async_queue_retry"),this.ju=()=>{const s=cd();s&&pt(p0,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const r=cd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=cd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new sa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!il(e))throw e;pt(p0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ei("INTERNAL UNHANDLED ERROR: ",v0(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(e,r,s){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=pm.createAndSchedule(this,e,r,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Lt(47125,{ec:v0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function v0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Tm extends Kc{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new y0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y0(e),this._firestoreClient=void 0,await e}}}function nC(i,e){const r=typeof i=="object"?i:PA(),s=typeof i=="string"?i:bc,o=NA(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=RS("firestore");u&&Ww(o,...u)}return o}function EE(i){if(i._terminated)throw new Dt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||rC(i),i._firestoreClient}function rC(i){var e,r,s;const o=i._freezeSettings(),u=function(m,g,y,E){return new gb(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yE(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Qw(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(on.fromBase64String(e))}catch(r){throw new Dt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Oc(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Dt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Dt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Dt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}const sC=new RegExp("[~\\*/\\[\\]]");function lC(i,e,r){if(e.search(sC)>=0)throw _0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new TE(...e.split("."))._internalPath}catch{throw _0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function _0(i,e,r,s,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new Dt(ot.INVALID_ARGUMENT,u+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(AE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oC extends SE{data(){return super.data()}}function AE(i,e){return typeof e=="string"?lC(i,e):e instanceof TE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Dt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cC{convertValue(e,r="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return al(e,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertVectorValue(e){var r,s,o;const u=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[bd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ne(f.doubleValue));return new aC(u)}convertGeoPoint(e){return new iC(Ne(e.latitude),Ne(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=zc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Co(e));default:return null}}convertTimestamp(e){const r=ca(e);return new Rn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Re.fromString(e);fe(K_(s),9688,{name:e});const o=new Do(s.get(1),s.get(3)),u=new xt(s.popFirst(5));return o.isEqual(r)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hC extends SE{constructor(e,r,s,o,u,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(AE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class gc extends hC{data(e={}){return super.data(e)}}class fC{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new sc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new gc(this._firestore,this._userDataWriter,s.key,s,new sc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Dt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dC(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function dC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:i})}}class mC extends cC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,r)}}function gC(i){i=Nc(i,Xc);const e=Nc(i.firestore,Tm),r=EE(e),s=new mC(e);return uC(i._query),$w(r,i._query).then(o=>new fC(e,s,i,o))}function pC(i){return yC(Nc(i.firestore,Tm),[new am(i._key,yi.none())])}function yC(i,e){return function(s,o){const u=new sa;return s.asyncQueue.enqueueAndForget(async()=>Uw(await Kw(s),o,u)),u.promise}(EE(i),e)}(function(e,r=!0){(function(o){nl=o})(UA),Ac(new bo("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Tm(new JA(s.getProvider("auth-internal")),new eb(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Dt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:r},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ys(Av,bv,e),Ys(Av,bv,"esm2017")})();const vC={apiKey:"AIzaSyA_dFM_GbOGvXnTnufrxX19g8u_cVdCwd4",authDomain:"lekladan-6070d.firebaseapp.com",projectId:"lekladan-6070d",storageBucket:"lekladan-6070d.firebasestorage.app",messagingSenderId:"519712105099",appId:"1:519712105099:web:6b7deefe170c732ac56a8e"},_C=t_(vC),bE=nC(_C),RE="summerToys";async function wE(i){const e=tC(bE,RE),o=(await gC(e)).docs.map(u=>({id:u.id,...u.data()})).map(u=>{if(u.discount>0){const f=(100-u.discount)/100,m=Math.round(u.price*f);return{...u,oldPrice:u.price,price:m}}else return u});i(o)}async function EC(i,e){const r=eC(bE,RE,e);await pC(r),wE(i)}const E0=i=>{let e;const r=new Set,s=(y,E)=>{const A=typeof y=="function"?y(e):y;if(!Object.is(A,e)){const b=e;e=E??(typeof A!="object"||A===null)?A:Object.assign({},e,A),r.forEach(M=>M(e,b))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:y=>(r.add(y),()=>r.delete(y))},g=e=i(s,o,m);return m},TC=i=>i?E0(i):E0,SC=i=>i;function AC(i,e=SC){const r=Uy.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Uy.useDebugValue(r),r}const T0=i=>{const e=TC(i),r=s=>AC(e,s);return Object.assign(r,e),r},bC=i=>i?T0(i):T0,ts=bC((i,e)=>({isMenuOpen:!1,storeToysList:[],cartList:[],isLoggedIn:!1,switchIsLoggedIn:()=>i(r=>({isLoggedIn:!r.isLoggedIn})),setSummerToys:r=>{i(()=>({storeToysList:r}))},toggleMenu:()=>i(r=>({isMenuOpen:!r.isMenuOpen})),addToCart:r=>{const{cartList:s}=e();let o=s.find(u=>u.id===r.id);if(!o)i(u=>({cartList:[...u.cartList,{...r,quantity:1}]}));else{const u=s.map(f=>f.id===o.id?{...f,quantity:f.quantity+1}:f);i(()=>({cartList:u}))}},removeFromCart:r=>{const{cartList:s}=e();let o=s.find(f=>f.id===r.id),u=[];o.quantity===1?u=s.filter(f=>f.id!==o.id):u=s.map(f=>f.id===o.id?{...f,quantity:f.quantity-1}:f),i(()=>({cartList:u}))}}));function RC(){const{pathname:i}=ga();return $.useEffect(()=>{window.scrollTo(0,0)},[i]),null}const wC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR4nO2ZSy8EQRDHfwf2YuNxdcYeBXvBF7CREB/G4+59JI74IBaJT0GcBOvGxeNGSSU1stnYZCZmegr9SyqZpKeru/pf3dNbC5G/Tw1YBU6BS+DFTJ+bwAowhmPqwBkgKU0DncIRvcAB8GETfAQOgQVTp89MnxeBI3tHrM8+0FN2EEPAuU3qFVgH+lP003c2gLc2dQYpUYkkle4ttbIyDtyYjwugQgkc2ARugeEf+NG+d+Zrj8DULb81nSZy8DdpafZuz8FIUkr3RF5smk89ooNQazud0mzstAwAT+Z7lACs2WB6xObNsfleJgBNG0y/CXmzZL5PCMC1DTZSYNpeEYBnG6xagO+q+dYxCie5K/1W/1/EQFIiUZGMxNQqY6EqwC7wkOEXX9HWArazXvV3HExcuthWlkBa1mkaP8y0KePvCMyIZJ1XDKRgJCriDImKOEOiIs6QqEgH81bn1RJno4R2yUuRpEab1HxDt0sMpIOGrZqu1lwJ7RI3uzMkKuIMiYo4Q6IizpB/q0jLOmgtyQuzNie9VKZm20FFUbqY/o2dGq2vajCJMh5MldAgvq39fgLrDI6q0s9yGAAAAABJRU5ErkJggg==",CC="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2014H22C22.5304%2014%2023.0391%2014.2107%2023.4142%2014.5858C23.7893%2014.9609%2024%2015.4696%2024%2016C24%2016.5304%2023.7893%2017.0391%2023.4142%2017.4142C23.0391%2017.7893%2022.5304%2018%2022%2018H12C11.4696%2018%2010.9609%2017.7893%2010.5858%2017.4142C10.2107%2017.0391%2010%2016.5304%2010%2016C10%2015.4696%2010.2107%2014.9609%2010.5858%2014.5858C10.9609%2014.2107%2011.4696%2014%2012%2014ZM26%2030H36C36.5304%2030%2037.0391%2030.2107%2037.4142%2030.5858C37.7893%2030.9609%2038%2031.4696%2038%2032C38%2032.5304%2037.7893%2033.0391%2037.4142%2033.4142C37.0391%2033.7893%2036.5304%2034%2036%2034H26C25.4696%2034%2024.9609%2033.7893%2024.5858%2033.4142C24.2107%2033.0391%2024%2032.5304%2024%2032C24%2031.4696%2024.2107%2030.9609%2024.5858%2030.5858C24.9609%2030.2107%2025.4696%2030%2026%2030ZM12%2022H36C36.5304%2022%2037.0391%2022.2107%2037.4142%2022.5858C37.7893%2022.9609%2038%2023.4696%2038%2024C38%2024.5304%2037.7893%2025.0391%2037.4142%2025.4142C37.0391%2025.7893%2036.5304%2026%2036%2026H12C11.4696%2026%2010.9609%2025.7893%2010.5858%2025.4142C10.2107%2025.0391%2010%2024.5304%2010%2024C10%2023.4696%2010.2107%2022.9609%2010.5858%2022.5858C10.9609%2022.2107%2011.4696%2022%2012%2022Z'%20fill='black'/%3e%3c/svg%3e",DC="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%2014L34%2034M14%2034L34%2014'%20stroke='black'%20stroke-width='2.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function xC(){const{isMenuOpen:i,toggleMenu:e}=ts();return Q.jsx("div",{className:i?"hamburger-menu open-menu":"hamburger-menu",children:Q.jsx(ea,{onBlur:e,to:"/products",children:"ALLA PRODUKTER"})})}function MC(){const{toggleMenu:i,isMenuOpen:e,setSummerToys:r,cartList:s,isLoggedIn:o}=ts();$.useEffect(()=>{wE(r)},[]);const u=()=>s.reduce((f,m)=>f+m.quantity,0);return Q.jsxs(Q.Fragment,{children:[Q.jsx(RC,{}),o||Q.jsxs("header",{children:[Q.jsx(xC,{}),Q.jsx("img",{onClick:i,className:"hamburger-button",src:e?DC:CC,alt:"hamburger menu icon"}),Q.jsx(ea,{to:"/",className:"logo",children:"Leklådan"}),Q.jsxs(ea,{className:"cart-button-flex",to:"/cart",children:[u()>0&&Q.jsx("p",{className:"cart-quantity",children:u()}),Q.jsx("img",{className:"cart-button",src:mS,alt:"cart store icon"})]})]}),Q.jsx(N1,{}),o||Q.jsxs("footer",{children:[Q.jsxs("section",{children:[Q.jsx(ea,{to:"/",className:"logo",children:"Leklådan"}),Q.jsxs("div",{children:[Q.jsx("h2",{children:"Kontakta oss"}),Q.jsx("p",{children:"leklada@hotmail.se"}),Q.jsx("p",{children:"031 01 23 34"})]})]}),Q.jsx("p",{children:"© 2025 Leklådan"}),Q.jsx(ea,{to:"/login",children:Q.jsx("img",{src:wC,alt:""})})]})]})}const IC="/lekladan/assets/pexels-photo-6137955-CZpMGykj.jpeg",NC="/lekladan/assets/beach-BXfBnknG.jpg",OC="/lekladan/assets/outside-C4z-GztM.webp",VC="/lekladan/assets/sport-PGlnz-fs.webp",LC="/lekladan/assets/water-Bz51mM7J.webp";function UC(){return Q.jsxs("main",{className:"home-page",children:[Q.jsx("img",{className:"hero-img",src:IC,alt:""}),Q.jsxs("section",{className:"lekladan-presentation",children:[Q.jsx("img",{src:"https://media.istockphoto.com/id/1470000848/photo/black-kids-children-and-blowing-bubbles-at-park-having-fun-and-bonding-girls-happy-sisters.jpg?s=612x612&w=0&k=20&c=mj4gWGkh4gryBxxrATYGDe8jTqR_az2dHANVe30R02k=",alt:""}),Q.jsxs("div",{children:[Q.jsx("h1",{children:"🎉 Välkommen till Leklådan – sommarens roligaste butik!"}),Q.jsx("p",{children:"Hos oss hittar du ett handplockat sortiment av sommarleksaker som bjuder in till lek, rörelse och glädje utomhus. Oavsett om du letar efter vattenleksaker, utomhusspel eller klassiska strandfavoriter har vi något för barn i alla åldrar."}),Q.jsx("p",{children:"Vi älskar lek – och vi vet att de bästa sommarminnena börjar med rätt leksaker. Leklådan är fylld med både nyheter och tidlösa favoriter, och vi erbjuder snabba leveranser så att du kan komma igång med leken direkt."}),Q.jsx("p",{children:"☀️ Gör sommaren magisk – upptäck vårt sortiment idag!"}),Q.jsx(ea,{className:"button",to:"/products",children:"Gå till produkterna"})]})]}),Q.jsxs("section",{className:"categorys",children:[Q.jsxs("div",{children:[Q.jsx("img",{src:OC}),Q.jsx("p",{children:"Uteleksaker"})]}),Q.jsxs("div",{children:[Q.jsx("img",{src:VC}),Q.jsx("p",{children:"Rörelse & Sport"})]}),Q.jsxs("div",{children:[Q.jsx("img",{src:NC}),Q.jsx("p",{children:"Till stranden"})]}),Q.jsxs("div",{children:[Q.jsx("img",{src:LC}),Q.jsx("p",{children:"Vattenleksaker"})]})]})]})}function PC({toy:i}){const{addToCart:e}=ts();return Q.jsxs("div",{className:"toy",children:[i.discount>0&&Q.jsxs("p",{className:"discount",children:[i.discount,"%"]}),Q.jsx("img",{src:i.img,alt:""}),Q.jsx("h1",{children:i.name}),Q.jsx("p",{children:i.description}),Q.jsxs("div",{className:"toy-flex",children:[Q.jsx("button",{onClick:()=>e(i),children:"Lägg till"}),Q.jsxs("div",{children:[i.oldPrice>0&&Q.jsxs("p",{className:"old-price",children:[i.oldPrice,":-"]}),Q.jsxs("p",{children:[i.price,":-"]})]})]})]})}function zC(){const{storeToysList:i}=ts(),[e,r]=$.useState(i),[s,o]=$.useState("");$.useEffect(()=>{r(i)},[i]);const u=m=>{let g=[...e];switch(m){case"price-asc":{g.sort((y,E)=>y.price-E.price);break}case"price-desc":{g.sort((y,E)=>E.price-y.price);break}case"name-asc":{g.sort((y,E)=>{let A=y.name,b=E.name;return A<b?-1:A>b?1:0});break}case"name-desc":{g.sort((y,E)=>{let A=y.name,b=E.name;return A<b?1:A>b?-1:0});break}}r(g)},f=e.filter(m=>m.name.toLowerCase().includes(s.toLowerCase()));return Q.jsxs("main",{className:"product-page",children:[Q.jsxs("section",{className:"search-sort",children:[Q.jsx("input",{className:"search",type:"text",placeholder:"Sök...",onChange:m=>o(m.target.value)}),Q.jsxs("label",{className:"sort-products",htmlFor:"sort",children:["Sortera efter",Q.jsxs("select",{name:"sort",id:"sort",defaultValue:"",onChange:m=>u(m.target.value),children:[Q.jsx("option",{value:"",disabled:!0,children:"-- Välj --"}),Q.jsx("option",{value:"price-asc",children:"Pris stigande"}),Q.jsx("option",{value:"price-desc",children:"Pris fallande"}),Q.jsx("option",{value:"name-asc",children:"A-Ö"}),Q.jsx("option",{value:"name-desc",children:"Ö-A"})]})]})]}),f.length<1?Q.jsx("p",{className:"no-search-results",children:"🎈 Hoppsan! Inga leksaker gömde sig bakom det ordet 🔍. Prova att leta igen – vi har massor av kul 🎁🪁✨!"}):Q.jsx("div",{className:"products",children:f.map(m=>Q.jsx(PC,{toy:m},m.id))})]})}function kC(){const{cartList:i,addToCart:e,removeFromCart:r}=ts(),s=()=>i.reduce((u,f)=>u+f.price*f.quantity,0),o=()=>i.reduce((u,f)=>u+f.quantity,0);return Q.jsx("main",{className:"cart-page",children:i.length===0?Q.jsxs("div",{className:"empty-cart",children:[Q.jsx("p",{children:"Din varukorg är tom. Hitta några fantastiska leksaker först!"}),Q.jsx(ea,{className:"button",to:"/products",children:"Gå till produkterna"})]}):Q.jsx(Q.Fragment,{children:Q.jsxs("section",{className:"cart",children:[Q.jsx("h1",{children:"Din kundvagn"}),i.map(u=>Q.jsxs("div",{className:"cart-product",children:[Q.jsx("img",{src:u.img,alt:"product img"}),Q.jsxs("div",{children:[Q.jsx("h1",{children:u.name}),Q.jsxs("p",{children:[u.price*u.quantity,":-"]})]}),Q.jsxs("div",{className:"cart-buttons",children:[Q.jsx("button",{onClick:()=>r(u),children:"-"}),Q.jsx("p",{children:u.quantity}),Q.jsx("button",{onClick:()=>e(u),children:"+"})]})]},u.id)),Q.jsxs("section",{className:"total",children:[Q.jsxs("div",{children:[Q.jsx("p",{children:"Antal:"}),Q.jsxs("p",{children:[o(),"st"]})]}),Q.jsxs("div",{children:[Q.jsx("p",{children:"Frakt:"}),Q.jsx("p",{children:"Gratis"})]}),Q.jsxs("div",{children:[Q.jsx("h3",{children:"Totalt:"}),Q.jsxs("h3",{children:[s(),":-"]})]})]}),Q.jsx("button",{children:"Gå till betalning"})]})})})}function jC(){const[i,e]=$.useState({userName:"",password:""}),[r,s]=$.useState(""),{switchIsLoggedIn:o}=ts(),u=Qd(),f=()=>{i.userName==="admin"&&i.password==="password"?(u("/admin"),o()):s("Felaktiga inloggningsuppgifter, försök igen.")};return Q.jsxs("main",{className:"login-page",children:[Q.jsx("h1",{children:"Logga in som administratör"}),Q.jsxs("div",{children:[Q.jsx("img",{src:"https://img.icons8.com/?size=100&id=ywULFSPkh4kI&format=png&color=000000",alt:""}),Q.jsx("input",{type:"text",placeholder:"Användarnman",onChange:m=>e(g=>({...g,userName:m.target.value}))})]}),Q.jsxs("div",{children:[Q.jsx("img",{src:"https://img.icons8.com/?size=100&id=2862&format=png&color=000000",alt:""}),Q.jsx("input",{type:"password",placeholder:"Lösenord",onChange:m=>e(g=>({...g,password:m.target.value}))})]}),Q.jsx("p",{children:r}),Q.jsx("button",{onClick:f,children:"Logga in"})]})}function BC(){const{storeToysList:i,switchIsLoggedIn:e,setSummerToys:r}=ts(),s=Qd(),[o,u]=$.useState(!1),[f,m]=$.useState(!1);function g(){s("/"),e()}return Q.jsxs("main",{className:"admin-page",children:[Q.jsx("button",{className:"admin-buttons",onClick:()=>u(),children:"Redigera"}),Q.jsx("button",{className:"admin-buttons",onClick:()=>m(!0),children:"Lägg till"}),Q.jsx("button",{className:"admin-buttons",onClick:()=>g(),children:"Logga ut"}),f&&Q.jsxs("form",{action:"",className:"add-toy",children:[Q.jsx("h1",{children:"Lägg till en leksak"}),Q.jsx("input",{type:"url",placeholder:"Bild *"}),Q.jsx("p",{children:"Felmedelande"}),Q.jsx("input",{type:"text",placeholder:"Namn *"}),Q.jsx("p",{children:"Felmedelande"}),Q.jsx("input",{type:"text",placeholder:"Beskrivning *"}),Q.jsx("p",{children:"Felmedelande"}),Q.jsxs("select",{name:"caregory",children:[Q.jsx("option",{value:"",disabled:!0,children:"Kategori *"}),Q.jsx("option",{value:"",children:"Uteleksaker"}),Q.jsx("option",{value:"",children:"Till stranden"}),Q.jsx("option",{value:"",children:"Vattenlek"}),Q.jsx("option",{value:"",children:"Rörelse & Sport"})]}),Q.jsx("p",{children:"Felmedelande"}),Q.jsx("input",{type:"number",placeholder:"Pris *"}),Q.jsx("p",{children:"Felmedelande"}),Q.jsx("input",{type:"number",placeholder:"Rabatt"}),Q.jsx("p",{children:"Felmedelande"}),Q.jsxs("div",{className:"add-toy-buttons",children:[Q.jsx("button",{onClick:()=>m(!1),children:"Avbryt"}),Q.jsx("button",{children:"Lägg till"})]})]}),Q.jsxs("table",{children:[Q.jsx("thead",{children:Q.jsxs("tr",{children:[Q.jsx("th",{}),Q.jsx("th",{children:"Bild"}),Q.jsx("th",{children:"Namn"}),Q.jsx("th",{children:"Beskrivning"}),Q.jsx("th",{children:"Kategori"}),Q.jsx("th",{children:"Pris"}),Q.jsx("th",{children:"Rabatt"})]})}),Q.jsx("tbody",{children:i.map(y=>Q.jsxs("tr",{className:"product-on-edit",children:[Q.jsx("td",{className:"edit-buttons",children:Q.jsx("p",{children:Q.jsx("button",{onClick:()=>EC(r,y.id),children:"Ta bort"})})}),Q.jsx("td",{children:Q.jsx("img",{src:y.img,alt:"toy"})}),Q.jsx("td",{children:y.name}),Q.jsx("td",{children:y.description}),Q.jsx("td",{children:y.category}),Q.jsxs("td",{children:[y.oldPrice?y.oldPrice:y.price,":-"]}),Q.jsxs("td",{children:[y.discount,"%"]})]},y.id))})]})]})}const HC=rS([{path:"/",Component:MC,children:[{index:!0,Component:UC},{path:"/products",Component:zC},{path:"/cart",Component:kC},{path:"/login",Component:jC},{path:"/admin",Component:BC}]}]);l2.createRoot(document.getElementById("root")).render(Q.jsx($.StrictMode,{children:Q.jsx(x1,{router:HC})}));
