(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Q_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var od={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function xT(){if(nv)return fl;nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fl.Fragment=e,fl.jsx=r,fl.jsxs=r,fl}var rv;function CT(){return rv||(rv=1,od.exports=xT()),od.exports}var W=CT(),ld={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function DT(){if(iv)return qe;iv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),d=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function R(B,ne,me){this.props=B,this.context=ne,this.refs=b,this.updater=me||_}R.prototype.isReactComponent={},R.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=R.prototype;function A(B,ne,me){this.props=B,this.context=ne,this.refs=b,this.updater=me||_}var D=A.prototype=new T;D.constructor=A,v(D,R.prototype),D.isPureReactComponent=!0;var V=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function I(B,ne,me,ce,_e,je){return me=je.ref,{$$typeof:i,type:B,key:ne,ref:me!==void 0?me:null,props:je}}function S(B,ne){return I(B.type,ne,void 0,void 0,void 0,B.props)}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function O(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return ne[me]})}var j=/\/+/g;function $(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):ne.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,ne,me,ce,_e){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(je){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case i:case e:xe=!0;break;case E:return xe=B._init,pe(xe(B._payload),ne,me,ce,_e)}}if(xe)return _e=_e(B),xe=ce===""?"."+$(B,0):ce,V(_e)?(me="",xe!=null&&(me=xe.replace(j,"$&/")+"/"),pe(_e,ne,me,"",function(Gn){return Gn})):_e!=null&&(x(_e)&&(_e=S(_e,me+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+xe)),ne.push(_e)),1;xe=0;var Tt=ce===""?".":ce+":";if(V(B))for(var pt=0;pt<B.length;pt++)ce=B[pt],je=Tt+$(ce,pt),xe+=pe(ce,ne,me,je,_e);else if(pt=g(B),typeof pt=="function")for(B=pt.call(B),pt=0;!(ce=B.next()).done;)ce=ce.value,je=Tt+$(ce,pt++),xe+=pe(ce,ne,me,je,_e);else if(je==="object"){if(typeof B.then=="function")return pe(he(B),ne,me,ce,_e);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(B,ne,me){if(B==null)return B;var ce=[],_e=0;return pe(B,ce,"","",function(je){return ne.call(me,je,_e++)}),ce}function se(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var ye=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Re(){}return qe.Children={map:G,forEach:function(B,ne,me){G(B,function(){ne.apply(this,arguments)},me)},count:function(B){var ne=0;return G(B,function(){ne++}),ne},toArray:function(B){return G(B,function(ne){return ne})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=R,qe.Fragment=r,qe.Profiler=o,qe.PureComponent=A,qe.StrictMode=s,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return L.H.useMemoCache(B)}},qe.cache=function(B){return function(){return B.apply(null,arguments)}},qe.cloneElement=function(B,ne,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),_e=B.key,je=void 0;if(ne!=null)for(xe in ne.ref!==void 0&&(je=void 0),ne.key!==void 0&&(_e=""+ne.key),ne)!k.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(ce[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var Tt=Array(xe),pt=0;pt<xe;pt++)Tt[pt]=arguments[pt+2];ce.children=Tt}return I(B.type,_e,void 0,void 0,je,ce)},qe.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},qe.createElement=function(B,ne,me){var ce,_e={},je=null;if(ne!=null)for(ce in ne.key!==void 0&&(je=""+ne.key),ne)k.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=ne[ce]);var xe=arguments.length-2;if(xe===1)_e.children=me;else if(1<xe){for(var Tt=Array(xe),pt=0;pt<xe;pt++)Tt[pt]=arguments[pt+2];_e.children=Tt}if(B&&B.defaultProps)for(ce in xe=B.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return I(B,je,void 0,void 0,null,_e)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:c,render:B}},qe.isValidElement=x,qe.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:se}},qe.memo=function(B,ne){return{$$typeof:y,type:B,compare:ne===void 0?null:ne}},qe.startTransition=function(B){var ne=L.T,me={};L.T=me;try{var ce=B(),_e=L.S;_e!==null&&_e(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,ye)}catch(je){ye(je)}finally{L.T=ne}},qe.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},qe.use=function(B){return L.H.use(B)},qe.useActionState=function(B,ne,me){return L.H.useActionState(B,ne,me)},qe.useCallback=function(B,ne){return L.H.useCallback(B,ne)},qe.useContext=function(B){return L.H.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B,ne){return L.H.useDeferredValue(B,ne)},qe.useEffect=function(B,ne,me){var ce=L.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,ne)},qe.useId=function(){return L.H.useId()},qe.useImperativeHandle=function(B,ne,me){return L.H.useImperativeHandle(B,ne,me)},qe.useInsertionEffect=function(B,ne){return L.H.useInsertionEffect(B,ne)},qe.useLayoutEffect=function(B,ne){return L.H.useLayoutEffect(B,ne)},qe.useMemo=function(B,ne){return L.H.useMemo(B,ne)},qe.useOptimistic=function(B,ne){return L.H.useOptimistic(B,ne)},qe.useReducer=function(B,ne,me){return L.H.useReducer(B,ne,me)},qe.useRef=function(B){return L.H.useRef(B)},qe.useState=function(B){return L.H.useState(B)},qe.useSyncExternalStore=function(B,ne,me){return L.H.useSyncExternalStore(B,ne,me)},qe.useTransition=function(){return L.H.useTransition()},qe.version="19.1.0",qe}var av;function Wd(){return av||(av=1,ld.exports=DT()),ld.exports}var re=Wd();const sv=Q_(re);var ud={exports:{}},hl={},cd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function OT(){return ov||(ov=1,function(i){function e(G,se){var ye=G.length;G.push(se);e:for(;0<ye;){var Re=ye-1>>>1,B=G[Re];if(0<o(B,se))G[Re]=se,G[ye]=B,ye=Re;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],ye=G.pop();if(ye!==se){G[0]=ye;e:for(var Re=0,B=G.length,ne=B>>>1;Re<ne;){var me=2*(Re+1)-1,ce=G[me],_e=me+1,je=G[_e];if(0>o(ce,ye))_e<B&&0>o(je,ce)?(G[Re]=je,G[_e]=ye,Re=_e):(G[Re]=ce,G[me]=ye,Re=me);else if(_e<B&&0>o(je,ye))G[Re]=je,G[_e]=ye,Re=_e;else break e}}return se}function o(G,se){var ye=G.sortIndex-se.sortIndex;return ye!==0?ye:G.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,c=f.now();i.unstable_now=function(){return f.now()-c}}var p=[],y=[],E=1,d=null,g=3,_=!1,v=!1,b=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var se=r(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=G)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=r(y)}}function L(G){if(b=!1,V(G),!v)if(r(p)!==null)v=!0,k||(k=!0,$());else{var se=r(y);se!==null&&pe(L,se.startTime-G)}}var k=!1,I=-1,S=5,x=-1;function O(){return R?!0:!(i.unstable_now()-x<S)}function j(){if(R=!1,k){var G=i.unstable_now();x=G;var se=!0;try{e:{v=!1,b&&(b=!1,A(I),I=-1),_=!0;var ye=g;try{t:{for(V(G),d=r(p);d!==null&&!(d.expirationTime>G&&O());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,g=d.priorityLevel;var B=Re(d.expirationTime<=G);if(G=i.unstable_now(),typeof B=="function"){d.callback=B,V(G),se=!0;break t}d===r(p)&&s(p),V(G)}else s(p);d=r(p)}if(d!==null)se=!0;else{var ne=r(y);ne!==null&&pe(L,ne.startTime-G),se=!1}}break e}finally{d=null,g=ye,_=!1}se=void 0}}finally{se?$():k=!1}}}var $;if(typeof D=="function")$=function(){D(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=j,$=function(){he.postMessage(null)}}else $=function(){T(j,0)};function pe(G,se){I=T(function(){G(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_next=function(G){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ye=g;g=se;try{return G()}finally{g=ye}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=g;g=G;try{return se()}finally{g=ye}},i.unstable_scheduleCallback=function(G,se,ye){var Re=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,G={id:E++,callback:se,priorityLevel:G,startTime:ye,expirationTime:B,sortIndex:-1},ye>Re?(G.sortIndex=ye,e(y,G),r(p)===null&&G===r(y)&&(b?(A(I),I=-1):b=!0,pe(L,ye-Re))):(G.sortIndex=B,e(p,G),v||_||(v=!0,k||(k=!0,$()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var se=g;return function(){var ye=g;g=se;try{return G.apply(this,arguments)}finally{g=ye}}}}(fd)),fd}var lv;function IT(){return lv||(lv=1,cd.exports=OT()),cd.exports}var hd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function MT(){if(uv)return pn;uv=1;var i=Wd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},pn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},pn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},pn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,d=c(E,y.crossOrigin),g=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:d,integrity:g,fetchPriority:_}):E==="script"&&s.d.X(p,{crossOrigin:d,integrity:g,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=c(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},pn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,d=c(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:d,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=c(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},pn.requestFormReset=function(p){s.d.r(p)},pn.unstable_batchedUpdates=function(p,y){return p(y)},pn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var cv;function NT(){if(cv)return hd.exports;cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hd.exports=MT(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function VT(){if(fv)return hl;fv=1;var i=IT(),e=Wd(),r=NT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var m=a.return;if(m===null)break;var w=m.alternate;if(w===null){if(l=m.return,l!==null){a=l;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===a)return c(m),t;if(w===l)return c(m),n;w=w.sibling}throw Error(s(188))}if(a.return!==l.return)a=m,l=w;else{for(var N=!1,P=m.child;P;){if(P===a){N=!0,a=m,l=w;break}if(P===l){N=!0,l=m,a=w;break}P=P.sibling}if(!N){for(P=w.child;P;){if(P===a){N=!0,a=w,l=m;break}if(P===l){N=!0,l=w,a=m;break}P=P.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,d=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case R:return"Profiler";case b:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case D:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],B=-1;function ne(t){return{current:t}}function me(t){0>B||(t.current=Re[B],Re[B]=null,B--)}function ce(t,n){B++,Re[B]=t.current,t.current=n}var _e=ne(null),je=ne(null),xe=ne(null),Tt=ne(null);function pt(t,n){switch(ce(xe,n),ce(je,t),ce(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Oy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Oy(n),t=Iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(_e),ce(_e,t)}function Gn(){me(_e),me(je),me(xe)}function St(t){t.memoizedState!==null&&ce(Tt,t);var n=_e.current,a=Iy(n,t.type);n!==a&&(ce(je,t),ce(_e,a))}function fn(t){je.current===t&&(me(_e),me(je)),Tt.current===t&&(me(Tt),sl._currentValue=ye)}var br=Object.prototype.hasOwnProperty,Yr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,ba=i.unstable_shouldYield,ss=i.unstable_requestPaint,bn=i.unstable_now,ho=i.unstable_getCurrentPriorityLevel,Ea=i.unstable_ImmediatePriority,Si=i.unstable_UserBlockingPriority,Kr=i.unstable_NormalPriority,dr=i.unstable_LowPriority,Qn=i.unstable_IdlePriority,Ai=i.log,Ri=i.unstable_setDisableYieldValue,lt=null,He=null;function hn(t){if(typeof Ai=="function"&&Ri(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var kt=Math.clz32?Math.clz32:Er,os=Math.log,Yn=Math.LN2;function Er(t){return t>>>=0,t===0?32:31-(os(t)/Yn|0)|0}var Tr=256,wr=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var m=0,w=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~w,l!==0?m=Mn(l):(N&=P,N!==0?m=Mn(N):a||(a=P&~t,a!==0&&(m=Mn(a))))):(P=l&~w,P!==0?m=Mn(P):N!==0?m=Mn(N):a||(a=l&~t,a!==0&&(m=Mn(a)))),m===0?0:n!==0&&n!==m&&(n&w)===0&&(w=m&-m,a=n&-n,w>=a||w===32&&(a&4194048)!==0)?n:m}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var t=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),t}function Ta(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function Xn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ci(t,n,a,l,m,w){var N=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var P=t.entanglements,q=t.expirationTimes,J=t.hiddenUpdates;for(a=N&~a;0<a;){var ae=31-kt(a),ue=1<<ae;P[ae]=0,q[ae]=-1;var ee=J[ae];if(ee!==null)for(J[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}a&=~ue}l!==0&&En(t,l,0),w!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=w&~(N&~n))}function En(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-kt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Sr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-kt(a),m=1<<l;m&n|t[l]&n&&(t[l]|=n),a&=~m}}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Xy(t.type))}function Y(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var Z=Math.random().toString(36).slice(2),le="__reactFiber$"+Z,ge="__reactProps$"+Z,Ee="__reactContainer$"+Z,Ie="__reactEvents$"+Z,Te="__reactListeners$"+Z,Se="__reactHandles$"+Z,Ce="__reactResources$"+Z,Ne="__reactMarker$"+Z;function Ae(t){delete t[le],delete t[ge],delete t[Ie],delete t[Te],delete t[Se]}function ke(t){var n=t[le];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ee]||a[le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ky(t);t!==null;){if(a=t[le])return a;t=ky(t)}return n}t=a,a=t.parentNode}return null}function Ke(t){if(t=t[le]||t[Ee]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function st(t){var n=t[Ce];return n||(n=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[Ne]=!0}var Qe=new Set,Zn={};function $t(t,n){Tn(t,n),Tn(t+"Capture",n)}function Tn(t,n){for(Zn[t]=n,t=0;t<n.length;t++)Qe.add(n[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rr={},Nn={};function Oi(t){return br.call(Nn,t)?!0:br.call(Rr,t)?!1:tn.test(t)?Nn[t]=!0:(Rr[t]=!0,!1)}function dn(t,n,a){if(Oi(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ze(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Lt,Vn;function Rn(t){if(Lt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Lt=n&&n[1]||"",Vn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+t+Vn}var xr=!1;function bt(t,n){if(!t||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(te){ee=te}t.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=l.DetermineComponentFrameRoot(),N=w[0],P=w[1];if(N&&P){var q=N.split(`
`),J=P.split(`
`);for(m=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(l===q.length||m===J.length)for(l=q.length-1,m=J.length-1;1<=l&&0<=m&&q[l]!==J[m];)m--;for(;1<=l&&0<=m;l--,m--)if(q[l]!==J[m]){if(l!==1||m!==1)do if(l--,m--,0>m||q[l]!==J[m]){var ae=`
`+q[l].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=l&&0<=m);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function Jn(t){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return Rn("Activity");default:return""}}function Jr(t){try{var n="";do n+=Jn(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ff(t){var n=mo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,w=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){l=""+N,w.call(this,N)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ls(t){t._valueTracker||(t._valueTracker=ff(t))}function po(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=mo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hf=/[\n"\\]/g;function jt(t){return t.replace(hf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kn(t,n,a,l,m,w,N,P){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),n!=null?N==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),n!=null?Ii(t,N,nn(n)):a!=null?Ii(t,N,nn(a)):l!=null&&t.removeAttribute("value"),m==null&&w!=null&&(t.defaultChecked=!!w),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+nn(P):t.removeAttribute("name")}function Sa(t,n,a,l,m,w,N,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),n!=null||a!=null){if(!(w!=="submit"&&w!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,P||n===t.value||(t.value=n),t.defaultValue=n}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function Ii(t,n,a){n==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wr(t,n,a,l){if(t=t.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=n.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,l&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function gt(t,n,a){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nn(a):""}function Aa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Wn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ra.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function go(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var m in n)l=n[m],n.hasOwnProperty(m)&&a[m]!==l&&Hl(t,m,l)}else for(var w in n)n.hasOwnProperty(w)&&Hl(t,w,n[w])}function yo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(t){return mf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ei=null;function er(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,ni=null;function vo(t){var n=Ke(t);if(n&&(t=n.stateNode)){var a=t[ge]||null;e:switch(t=n.stateNode,n.type){case"input":if(kn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var m=l[ge]||null;if(!m)throw Error(s(90));kn(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&po(l)}break e;case"textarea":gt(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Wr(t,!!a.multiple,n,!1)}}}var Cr=!1;function Fl(t,n,a){if(Cr)return t(n,a);Cr=!0;try{var l=t(n);return l}finally{if(Cr=!1,(ti!==null||ni!==null)&&(Pu(),ti&&(n=ti,t=ni,ni=ti=null,vo(n),t)))for(n=0;n<t.length;n++)vo(t[n])}}function xa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ge]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(pr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){tr=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{tr=!1}var Dr=null,Mi=null,ri=null;function _o(){if(ri)return ri;var t,n=Mi,a=n.length,l,m="value"in Dr?Dr.value:Dr.textContent,w=m.length;for(t=0;t<a&&n[t]===m[t];t++);var N=a-t;for(l=1;l<=N&&n[a-l]===m[w-l];l++);return ri=m.slice(t,1<l?1-l:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function bo(){return!1}function Kt(t){function n(a,l,m,w,N){this._reactName=a,this._targetInst=m,this.type=l,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ir:bo,this.isPropagationStopped=bo,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),n}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Kt(ft),Da=E({},ft,{view:0,detail:0}),Gl=Kt(Da),fs,hs,Mr,Oa=E({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(fs=t.screenX-Mr.screenX,hs=t.screenY-Mr.screenY):hs=fs=0,Mr=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:hs}}),nr=Kt(Oa),Ql=E({},Oa,{dataTransfer:0}),pf=Kt(Ql),Ia=E({},Da,{relatedTarget:0}),ds=Kt(Ia),Eo=E({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=Kt(Eo),Yl=E({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ps=Kt(Yl),gf=E({},ft,{data:0}),To=Kt(gf),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Xl[t])?!!n[t]:!1}function Na(){return wo}var Zl=E({},Da,{key:function(t){if(t.key){var n=Ma[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gs=Kt(Zl),Jl=E({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Kt(Jl),ii=E({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Wl=Kt(ii),eu=E({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=Kt(eu),nu=E({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ys=Kt(nu),Sn=E({},ft,{newState:0,oldState:0}),ru=Kt(Sn),iu=[9,13,27,32],Nr=pr&&"CompositionEvent"in window,h=null;pr&&"documentMode"in document&&(h=document.documentMode);var C=pr&&"TextEvent"in window&&!h,M=pr&&(!Nr||h&&8<h&&11>=h),z=" ",K=!1;function ie(t,n){switch(t){case"keyup":return iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Bt(t,n){switch(t){case"compositionend":return ve(n);case"keypress":return n.which!==32?null:(K=!0,z);case"textInput":return t=n.data,t===z&&K?null:t;default:return null}}function nt(t,n){if(tt)return t==="compositionend"||!Nr&&ie(t,n)?(t=_o(),ri=Mi=Dr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return M&&n.locale!=="ko"?null:n.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xt[t.type]:n==="textarea"}function ai(t,n,a,l){ti?ni?ni.push(l):ni=[l]:ti=l,n=Hu(n,"onChange"),0<n.length&&(a=new cs("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rn=null,Vr=null;function Ao(t){Ay(t,0)}function au(t){var n=ct(t);if(po(n))return t}function Gm(t,n){if(t==="change")return n}var Qm=!1;if(pr){var yf;if(pr){var vf="oninput"in document;if(!vf){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),vf=typeof Ym.oninput=="function"}yf=vf}else yf=!1;Qm=yf&&(!document.documentMode||9<document.documentMode)}function Km(){rn&&(rn.detachEvent("onpropertychange",Xm),Vr=rn=null)}function Xm(t){if(t.propertyName==="value"&&au(Vr)){var n=[];ai(n,Vr,t,er(t)),Fl(Ao,n)}}function rE(t,n,a){t==="focusin"?(Km(),rn=n,Vr=a,rn.attachEvent("onpropertychange",Xm)):t==="focusout"&&Km()}function iE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(Vr)}function aE(t,n){if(t==="click")return au(n)}function sE(t,n){if(t==="input"||t==="change")return au(n)}function oE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:oE;function Ro(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var m=a[l];if(!br.call(n,m)||!Ln(t[m],n[m]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jm(t,n){var a=Zm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zm(a)}}function Wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wa(t.document)}return n}function _f(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lE=pr&&"documentMode"in document&&11>=document.documentMode,vs=null,bf=null,xo=null,Ef=!1;function tp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||vs==null||vs!==wa(l)||(l=vs,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xo&&Ro(xo,l)||(xo=l,l=Hu(bf,"onSelect"),0<l.length&&(n=new cs("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=vs)))}function Va(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _s={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Tf={},np={};pr&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function ka(t){if(Tf[t])return Tf[t];if(!_s[t])return t;var n=_s[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in np)return Tf[t]=n[a];return t}var rp=ka("animationend"),ip=ka("animationiteration"),ap=ka("animationstart"),uE=ka("transitionrun"),cE=ka("transitionstart"),fE=ka("transitioncancel"),sp=ka("transitionend"),op=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function gr(t,n){op.set(t,n),$t(n,[t])}var lp=new WeakMap;function rr(t,n){if(typeof t=="object"&&t!==null){var a=lp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jr(n)},lp.set(t,n),n)}return{value:t,source:n,stack:Jr(n)}}var ir=[],bs=0,Sf=0;function su(){for(var t=bs,n=Sf=bs=0;n<t;){var a=ir[n];ir[n++]=null;var l=ir[n];ir[n++]=null;var m=ir[n];ir[n++]=null;var w=ir[n];if(ir[n++]=null,l!==null&&m!==null){var N=l.pending;N===null?m.next=m:(m.next=N.next,N.next=m),l.pending=m}w!==0&&up(a,m,w)}}function ou(t,n,a,l){ir[bs++]=t,ir[bs++]=n,ir[bs++]=a,ir[bs++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,n,a,l){return ou(t,n,a,l),lu(t)}function Es(t,n){return ou(t,null,null,n),lu(t)}function up(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var m=!1,w=t.return;w!==null;)w.childLanes|=a,l=w.alternate,l!==null&&(l.childLanes|=a),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(m=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,m&&n!==null&&(m=31-kt(a),t=w.hiddenUpdates,l=t[m],l===null?t[m]=[n]:l.push(n),n.lane=a|536870912),w):null}function lu(t){if(50<Jo)throw Jo=0,Ih=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ts={};function hE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,n,a,l){return new hE(t,n,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,n){var a=t.alternate;return a===null?(a=jn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uu(t,n,a,l,m,w){var N=0;if(l=t,typeof t=="function")Rf(t)&&(N=1);else if(typeof t=="string")N=mT(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=jn(31,a,n,m),t.elementType=x,t.lanes=w,t;case v:return La(a.children,m,w,n);case b:N=8,m|=24;break;case R:return t=jn(12,a,n,m|2),t.elementType=R,t.lanes=w,t;case L:return t=jn(13,a,n,m),t.elementType=L,t.lanes=w,t;case k:return t=jn(19,a,n,m),t.elementType=k,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case D:N=10;break e;case A:N=9;break e;case V:N=11;break e;case I:N=14;break e;case S:N=16,l=null;break e}N=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=jn(N,a,n,m),n.elementType=t,n.type=l,n.lanes=w,n}function La(t,n,a,l){return t=jn(7,t,l,n),t.lanes=a,t}function xf(t,n,a){return t=jn(6,t,null,n),t.lanes=a,t}function Cf(t,n,a){return n=jn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ws=[],Ss=0,cu=null,fu=0,ar=[],sr=0,ja=null,oi=1,li="";function Pa(t,n){ws[Ss++]=fu,ws[Ss++]=cu,cu=t,fu=n}function fp(t,n,a){ar[sr++]=oi,ar[sr++]=li,ar[sr++]=ja,ja=t;var l=oi;t=li;var m=32-kt(l)-1;l&=~(1<<m),a+=1;var w=32-kt(n)+m;if(30<w){var N=m-m%5;w=(l&(1<<N)-1).toString(32),l>>=N,m-=N,oi=1<<32-kt(n)+m|a<<m|l,li=w+t}else oi=1<<w|a<<m|l,li=t}function Df(t){t.return!==null&&(Pa(t,1),fp(t,1,0))}function Of(t){for(;t===cu;)cu=ws[--Ss],ws[Ss]=null,fu=ws[--Ss],ws[Ss]=null;for(;t===ja;)ja=ar[--sr],ar[sr]=null,li=ar[--sr],ar[sr]=null,oi=ar[--sr],ar[sr]=null}var An=null,Dt=null,ut=!1,Ua=null,kr=!1,If=Error(s(519));function za(t){var n=Error(s(418,""));throw Oo(rr(n,t)),If}function hp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[le]=t,n[ge]=l,a){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(a=0;a<el.length;a++)Ze(el[a],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Ze("invalid",n),Sa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ls(n);break;case"select":Ze("invalid",n);break;case"textarea":Ze("invalid",n),Aa(n,l.value,l.defaultValue,l.children),ls(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Dy(n.textContent,a)?(l.popover!=null&&(Ze("beforetoggle",n),Ze("toggle",n)),l.onScroll!=null&&Ze("scroll",n),l.onScrollEnd!=null&&Ze("scrollend",n),l.onClick!=null&&(n.onclick=Fu),n=!0):n=!1,n||za(t)}function dp(t){for(An=t.return;An;)switch(An.tag){case 5:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:An=An.return}}function Co(t){if(t!==An)return!1;if(!ut)return dp(t),ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qh(t.type,t.memoizedProps)),a=!a),a&&Dt&&za(t),dp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Dt=vr(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Dt=null}}else n===27?(n=Dt,Yi(t.type)?(t=Zh,Zh=null,Dt=t):Dt=n):Dt=An?vr(t.stateNode.nextSibling):null;return!0}function Do(){Dt=An=null,ut=!1}function mp(){var t=Ua;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),Ua=null),t}function Oo(t){Ua===null?Ua=[t]:Ua.push(t)}var Mf=ne(null),$a=null,ui=null;function Ni(t,n,a){ce(Mf,n._currentValue),n._currentValue=a}function ci(t){t._currentValue=Mf.current,me(Mf)}function Nf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Vf(t,n,a,l){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var w=m.dependencies;if(w!==null){var N=m.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=m;for(var q=0;q<n.length;q++)if(P.context===n[q]){w.lanes|=a,P=w.alternate,P!==null&&(P.lanes|=a),Nf(w.return,a,t),l||(N=null);break e}w=P.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=a,w=N.alternate,w!==null&&(w.lanes|=a),Nf(N,a,t),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===t){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Io(t,n,a,l){t=null;for(var m=n,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var P=m.type;Ln(m.pendingProps.value,N.value)||(t!==null?t.push(P):t=[P])}}else if(m===Tt.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(sl):t=[sl])}m=m.return}t!==null&&Vf(n,t,a,l),n.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){$a=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return pp($a,t)}function du(t,n){return $a===null&&Ba(t),pp(t,n)}function pp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(s(308));ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ui=ui.next=n;return a}var dE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mE=i.unstable_scheduleCallback,pE=i.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new dE,data:new Map,refCount:0}}function Mo(t){t.refCount--,t.refCount===0&&mE(pE,function(){t.controller.abort()})}var No=null,Lf=0,As=0,Rs=null;function gE(t,n){if(No===null){var a=No=[];Lf=0,As=Ph(),Rs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,n.then(gp,gp),n}function gp(){if(--Lf===0&&No!==null){Rs!==null&&(Rs.status="fulfilled");var t=No;No=null,As=0,Rs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(l.status="rejected",l.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),l}var yp=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gE(t,n),yp!==null&&yp(t,n)};var qa=ne(null);function jf(){var t=qa.current;return t!==null?t:wt.pooledCache}function mu(t,n){n===null?ce(qa,qa.current):ce(qa,n.pool)}function vp(){var t=jf();return t===null?null:{parent:Ht._currentValue,pool:t}}var Vo=Error(s(460)),_p=Error(s(474)),pu=Error(s(542)),Pf={then:function(){}};function bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gu(){}function Ep(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(gu,gu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wp(t),t;default:if(typeof n.status=="string")n.then(gu,gu);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=l}},function(l){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wp(t),t}throw ko=n,Vo}}var ko=null;function Tp(){if(ko===null)throw Error(s(459));var t=ko;return ko=null,t}function wp(t){if(t===Vo||t===pu)throw Error(s(483))}var Vi=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var m=l.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),l.pending=n,n=lu(t),up(t,null,a),n}return ou(t,l,n,a),lu(t)}function Lo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Sr(t,a)}}function $f(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var m=null,w=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};w===null?m=w=N:w=w.next=N,a=a.next}while(a!==null);w===null?m=w=n:w=w.next=n}else m=w=n;a={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Bf=!1;function jo(){if(Bf){var t=Rs;if(t!==null)throw t}}function Po(t,n,a,l){Bf=!1;var m=t.updateQueue;Vi=!1;var w=m.firstBaseUpdate,N=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,J=q.next;q.next=null,N===null?w=J:N.next=J,N=q;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==N&&(P===null?ae.firstBaseUpdate=J:P.next=J,ae.lastBaseUpdate=q))}if(w!==null){var ue=m.baseState;N=0,ae=J=q=null,P=w;do{var ee=P.lane&-536870913,te=ee!==P.lane;if(te?(rt&ee)===ee:(l&ee)===ee){ee!==0&&ee===As&&(Bf=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ue=t,Ve=P;ee=n;var _t=a;switch(Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){ue=Ue.call(_t,ue,ee);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,ee=typeof Ue=="function"?Ue.call(_t,ue,ee):Ue,ee==null)break e;ue=E({},ue,ee);break e;case 2:Vi=!0}}ee=P.callback,ee!==null&&(t.flags|=64,te&&(t.flags|=8192),te=m.callbacks,te===null?m.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(J=ae=te,q=ue):ae=ae.next=te,N|=ee;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;te=P,P=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ae===null&&(q=ue),m.baseState=q,m.firstBaseUpdate=J,m.lastBaseUpdate=ae,w===null&&(m.shared.lanes=0),Hi|=N,t.lanes=N,t.memoizedState=ue}}function Sp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ap(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sp(a[t],n)}var xs=ne(null),yu=ne(0);function Rp(t,n){t=yi,ce(yu,t),ce(xs,n),yi=t|n.baseLanes}function qf(){ce(yu,yi),ce(xs,xs.current)}function Hf(){yi=yu.current,me(xs),me(yu)}var ji=0,Fe=null,yt=null,Pt=null,vu=!1,Cs=!1,Ha=!1,_u=0,Uo=0,Ds=null,vE=0;function It(){throw Error(s(321))}function Ff(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function Gf(t,n,a,l,m,w){return ji=w,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ug:cg,Ha=!1,w=a(l,m),Ha=!1,Cs&&(w=Cp(n,a,l,m)),xp(t),w}function xp(t){G.H=Au;var n=yt!==null&&yt.next!==null;if(ji=0,Pt=yt=Fe=null,vu=!1,Uo=0,Ds=null,n)throw Error(s(300));t===null||Zt||(t=t.dependencies,t!==null&&hu(t)&&(Zt=!0))}function Cp(t,n,a,l){Fe=t;var m=0;do{if(Cs&&(Ds=null),Uo=0,Cs=!1,25<=m)throw Error(s(301));if(m+=1,Pt=yt=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=AE,w=n(a,l)}while(Cs);return w}function _E(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?zo(n):n,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Fe.flags|=1024),n}function Qf(){var t=_u!==0;return _u=0,t}function Yf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Kf(t){if(vu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}vu=!1}ji=0,Pt=yt=Fe=null,Cs=!1,Uo=_u=0,Ds=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ut(){if(yt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=Pt===null?Fe.memoizedState:Pt.next;if(n!==null)Pt=n,yt=t;else{if(t===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(t){var n=Uo;return Uo+=1,Ds===null&&(Ds=[]),t=Ep(Ds,t,n),n=Fe,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ug:cg),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zo(t);if(t.$$typeof===D)return mn(t)}throw Error(s(438,String(t)))}function Zf(t){var n=null,a=Fe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xf(),Fe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function fi(t,n){return typeof n=="function"?n(t):n}function Eu(t){var n=Ut();return Jf(n,yt,t)}function Jf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var m=t.baseQueue,w=l.pending;if(w!==null){if(m!==null){var N=m.next;m.next=w.next,w.next=N}n.baseQueue=m=w,l.pending=null}if(w=t.baseState,m===null)t.memoizedState=w;else{n=m.next;var P=N=null,q=null,J=n,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(rt&ue)===ue:(ji&ue)===ue){var ee=J.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===As&&(ae=!0);else if((ji&ee)===ee){J=J.next,ee===As&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(P=q=ue,N=w):q=q.next=ue,Fe.lanes|=ee,Hi|=ee;ue=J.action,Ha&&a(w,ue),w=J.hasEagerState?J.eagerState:a(w,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(P=q=ee,N=w):q=q.next=ee,Fe.lanes|=ue,Hi|=ue;J=J.next}while(J!==null&&J!==n);if(q===null?N=w:q.next=P,!Ln(w,t.memoizedState)&&(Zt=!0,ae&&(a=Rs,a!==null)))throw a;t.memoizedState=w,t.baseState=N,t.baseQueue=q,l.lastRenderedState=w}return m===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var n=Ut(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,m=a.pending,w=n.memoizedState;if(m!==null){a.pending=null;var N=m=m.next;do w=t(w,N.action),N=N.next;while(N!==m);Ln(w,n.memoizedState)||(Zt=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),a.lastRenderedState=w}return[w,l]}function Dp(t,n,a){var l=Fe,m=Ut(),w=ut;if(w){if(a===void 0)throw Error(s(407));a=a()}else a=n();var N=!Ln((yt||m).memoizedState,a);N&&(m.memoizedState=a,Zt=!0),m=m.queue;var P=Mp.bind(null,l,m,t);if($o(2048,8,P,[t]),m.getSnapshot!==n||N||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Os(9,Tu(),Ip.bind(null,l,m,a,n),null),wt===null)throw Error(s(349));w||(ji&124)!==0||Op(l,n,a)}return a}function Op(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Fe.updateQueue,n===null?(n=Xf(),Fe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ip(t,n,a,l){n.value=a,n.getSnapshot=l,Np(n)&&Vp(t)}function Mp(t,n,a){return a(function(){Np(n)&&Vp(t)})}function Np(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Vp(t){var n=Es(t,2);n!==null&&Bn(n,t,2)}function eh(t){var n=xn();if(typeof t=="function"){var a=t;if(t=a(),Ha){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},n}function kp(t,n,a,l){return t.baseState=a,Jf(t,yt,typeof l=="function"?l:fi)}function bE(t,n,a,l,m){if(Su(t))throw Error(s(485));if(t=n.action,t!==null){var w={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};G.T!==null?a(!0):w.isTransition=!1,l(w),a=n.pending,a===null?(w.next=n.pending=w,Lp(n,w)):(w.next=a.next,n.pending=a.next=w)}}function Lp(t,n){var a=n.action,l=n.payload,m=t.state;if(n.isTransition){var w=G.T,N={};G.T=N;try{var P=a(m,l),q=G.S;q!==null&&q(N,P),jp(t,n,P)}catch(J){th(t,n,J)}finally{G.T=w}}else try{w=a(m,l),jp(t,n,w)}catch(J){th(t,n,J)}}function jp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pp(t,n,l)},function(l){return th(t,n,l)}):Pp(t,n,a)}function Pp(t,n,a){n.status="fulfilled",n.value=a,Up(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Lp(t,a)))}function th(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Up(n),n=n.next;while(n!==l)}t.action=null}function Up(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zp(t,n){return n}function $p(t,n){if(ut){var a=wt.formState;if(a!==null){e:{var l=Fe;if(ut){if(Dt){t:{for(var m=Dt,w=kr;m.nodeType!==8;){if(!w){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){Dt=vr(m.nextSibling),l=m.data==="F!";break e}}za(l)}l=!1}l&&(n=a[0])}}return a=xn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:n},a.queue=l,a=sg.bind(null,Fe,l),l.dispatch=a,l=eh(!1),w=sh.bind(null,Fe,!1,l.queue),l=xn(),m={state:n,dispatch:null,action:t,pending:null},l.queue=m,a=bE.bind(null,Fe,m,w,a),m.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bp(t){var n=Ut();return qp(n,yt,t)}function qp(t,n,a){if(n=Jf(t,n,zp)[0],t=Eu(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=zo(n)}catch(N){throw N===Vo?pu:N}else l=n;n=Ut();var m=n.queue,w=m.dispatch;return a!==n.memoizedState&&(Fe.flags|=2048,Os(9,Tu(),EE.bind(null,m,a),null)),[l,w,t]}function EE(t,n){t.action=n}function Hp(t){var n=Ut(),a=yt;if(a!==null)return qp(n,a,t);Ut(),n=n.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Os(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Fe.updateQueue,n===null&&(n=Xf(),Fe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tu(){return{destroy:void 0,resource:void 0}}function Fp(){return Ut().memoizedState}function wu(t,n,a,l){var m=xn();l=l===void 0?null:l,Fe.flags|=t,m.memoizedState=Os(1|n,Tu(),a,l)}function $o(t,n,a,l){var m=Ut();l=l===void 0?null:l;var w=m.memoizedState.inst;yt!==null&&l!==null&&Ff(l,yt.memoizedState.deps)?m.memoizedState=Os(n,w,a,l):(Fe.flags|=t,m.memoizedState=Os(1|n,w,a,l))}function Gp(t,n){wu(8390656,8,t,n)}function Qp(t,n){$o(2048,8,t,n)}function Yp(t,n){return $o(4,2,t,n)}function Kp(t,n){return $o(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zp(t,n,a){a=a!=null?a.concat([t]):null,$o(4,4,Xp.bind(null,n,t),a)}function nh(){}function Jp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ff(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Wp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ff(n,l[1]))return l[0];if(l=t(),Ha){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l}function rh(t,n,a){return a===void 0||(ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ny(),Fe.lanes|=t,Hi|=t,a)}function eg(t,n,a,l){return Ln(a,n)?a:xs.current!==null?(t=rh(t,a,l),Ln(t,n)||(Zt=!0),t):(ji&42)===0?(Zt=!0,t.memoizedState=a):(t=ny(),Fe.lanes|=t,Hi|=t,n)}function tg(t,n,a,l,m){var w=se.p;se.p=w!==0&&8>w?w:8;var N=G.T,P={};G.T=P,sh(t,!1,n,a);try{var q=m(),J=G.S;if(J!==null&&J(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=yE(q,l);Bo(t,n,ae,$n(t))}else Bo(t,n,l,$n(t))}catch(ue){Bo(t,n,{then:function(){},status:"rejected",reason:ue},$n())}finally{se.p=w,G.T=N}}function TE(){}function ih(t,n,a,l){if(t.tag!==5)throw Error(s(476));var m=ng(t).queue;tg(t,m,n,ye,a===null?TE:function(){return rg(t),a(l)})}function ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rg(t){var n=ng(t).next.queue;Bo(t,n,{},$n())}function ah(){return mn(sl)}function ig(){return Ut().memoizedState}function ag(){return Ut().memoizedState}function wE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=$n();t=ki(a);var l=Li(n,t,a);l!==null&&(Bn(l,n,a),Lo(l,n,a)),n={cache:kf()},t.payload=n;return}n=n.return}}function SE(t,n,a){var l=$n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Su(t)?og(n,a):(a=Af(t,n,a,l),a!==null&&(Bn(a,t,l),lg(a,n,l)))}function sg(t,n,a){var l=$n();Bo(t,n,a,l)}function Bo(t,n,a,l){var m={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(t))og(n,m);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var N=n.lastRenderedState,P=w(N,a);if(m.hasEagerState=!0,m.eagerState=P,Ln(P,N))return ou(t,n,m,0),wt===null&&su(),!1}catch{}finally{}if(a=Af(t,n,m,l),a!==null)return Bn(a,t,l),lg(a,n,l),!0}return!1}function sh(t,n,a,l){if(l={lane:2,revertLane:Ph(),action:l,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(s(479))}else n=Af(t,a,l,2),n!==null&&Bn(n,t,2)}function Su(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function og(t,n){Cs=vu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function lg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Sr(t,a)}}var Au={readContext:mn,use:bu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},ug={readContext:mn,use:bu,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:Gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,wu(4194308,4,Xp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return wu(4194308,4,t,n)},useInsertionEffect:function(t,n){wu(4,2,t,n)},useMemo:function(t,n){var a=xn();n=n===void 0?null:n;var l=t();if(Ha){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=xn();if(a!==void 0){var m=a(n);if(Ha){hn(!0);try{a(n)}finally{hn(!1)}}}else m=n;return l.memoizedState=l.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},l.queue=t,t=t.dispatch=SE.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=eh(t);var n=t.queue,a=sg.bind(null,Fe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:nh,useDeferredValue:function(t,n){var a=xn();return rh(a,t,n)},useTransition:function(){var t=eh(!1);return t=tg.bind(null,Fe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Fe,m=xn();if(ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),wt===null)throw Error(s(349));(rt&124)!==0||Op(l,n,a)}m.memoizedState=a;var w={value:a,getSnapshot:n};return m.queue=w,Gp(Mp.bind(null,l,w,t),[t]),l.flags|=2048,Os(9,Tu(),Ip.bind(null,l,w,a,n),null),a},useId:function(){var t=xn(),n=wt.identifierPrefix;if(ut){var a=li,l=oi;a=(l&~(1<<32-kt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=_u++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=vE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ah,useFormState:$p,useActionState:$p,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sh.bind(null,Fe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zf,useCacheRefresh:function(){return xn().memoizedState=wE.bind(null,Fe)}},cg={readContext:mn,use:bu,useCallback:Jp,useContext:mn,useEffect:Qp,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Wp,useReducer:Eu,useRef:Fp,useState:function(){return Eu(fi)},useDebugValue:nh,useDeferredValue:function(t,n){var a=Ut();return eg(a,yt.memoizedState,t,n)},useTransition:function(){var t=Eu(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:zo(t),n]},useSyncExternalStore:Dp,useId:ig,useHostTransitionStatus:ah,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=Ut();return kp(a,yt,t,n)},useMemoCache:Zf,useCacheRefresh:ag},AE={readContext:mn,use:bu,useCallback:Jp,useContext:mn,useEffect:Qp,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Wp,useReducer:Wf,useRef:Fp,useState:function(){return Wf(fi)},useDebugValue:nh,useDeferredValue:function(t,n){var a=Ut();return yt===null?rh(a,t,n):eg(a,yt.memoizedState,t,n)},useTransition:function(){var t=Wf(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:zo(t),n]},useSyncExternalStore:Dp,useId:ig,useHostTransitionStatus:ah,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var a=Ut();return yt!==null?kp(a,yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:ag},Is=null,qo=0;function Ru(t){var n=qo;return qo+=1,Is===null&&(Is=[]),Ep(Is,t,n)}function Ho(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xu(t,n){throw n.$$typeof===d?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){var n=t._init;return n(t._payload)}function hg(t){function n(Q,F){if(t){var X=Q.deletions;X===null?(Q.deletions=[F],Q.flags|=16):X.push(F)}}function a(Q,F){if(!t)return null;for(;F!==null;)n(Q,F),F=F.sibling;return null}function l(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function m(Q,F){return Q=si(Q,F),Q.index=0,Q.sibling=null,Q}function w(Q,F,X){return Q.index=X,t?(X=Q.alternate,X!==null?(X=X.index,X<F?(Q.flags|=67108866,F):X):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function N(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,F,X,oe){return F===null||F.tag!==6?(F=xf(X,Q.mode,oe),F.return=Q,F):(F=m(F,X),F.return=Q,F)}function q(Q,F,X,oe){var we=X.type;return we===v?ae(Q,F,X.props.children,oe,X.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&fg(we)===F.type)?(F=m(F,X.props),Ho(F,X),F.return=Q,F):(F=uu(X.type,X.key,X.props,null,Q.mode,oe),Ho(F,X),F.return=Q,F)}function J(Q,F,X,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=Cf(X,Q.mode,oe),F.return=Q,F):(F=m(F,X.children||[]),F.return=Q,F)}function ae(Q,F,X,oe,we){return F===null||F.tag!==7?(F=La(X,Q.mode,oe,we),F.return=Q,F):(F=m(F,X),F.return=Q,F)}function ue(Q,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=xf(""+F,Q.mode,X),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case g:return X=uu(F.type,F.key,F.props,null,Q.mode,X),Ho(X,F),X.return=Q,X;case _:return F=Cf(F,Q.mode,X),F.return=Q,F;case S:var oe=F._init;return F=oe(F._payload),ue(Q,F,X)}if(pe(F)||$(F))return F=La(F,Q.mode,X,null),F.return=Q,F;if(typeof F.then=="function")return ue(Q,Ru(F),X);if(F.$$typeof===D)return ue(Q,du(Q,F),X);xu(Q,F)}return null}function ee(Q,F,X,oe){var we=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:P(Q,F,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case g:return X.key===we?q(Q,F,X,oe):null;case _:return X.key===we?J(Q,F,X,oe):null;case S:return we=X._init,X=we(X._payload),ee(Q,F,X,oe)}if(pe(X)||$(X))return we!==null?null:ae(Q,F,X,oe,null);if(typeof X.then=="function")return ee(Q,F,Ru(X),oe);if(X.$$typeof===D)return ee(Q,F,du(Q,X),oe);xu(Q,X)}return null}function te(Q,F,X,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(X)||null,P(F,Q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return Q=Q.get(oe.key===null?X:oe.key)||null,q(F,Q,oe,we);case _:return Q=Q.get(oe.key===null?X:oe.key)||null,J(F,Q,oe,we);case S:var Ye=oe._init;return oe=Ye(oe._payload),te(Q,F,X,oe,we)}if(pe(oe)||$(oe))return Q=Q.get(X)||null,ae(F,Q,oe,we,null);if(typeof oe.then=="function")return te(Q,F,X,Ru(oe),we);if(oe.$$typeof===D)return te(Q,F,X,du(F,oe),we);xu(F,oe)}return null}function Ue(Q,F,X,oe){for(var we=null,Ye=null,De=F,Le=F=0,Wt=null;De!==null&&Le<X.length;Le++){De.index>Le?(Wt=De,De=null):Wt=De.sibling;var ot=ee(Q,De,X[Le],oe);if(ot===null){De===null&&(De=Wt);break}t&&De&&ot.alternate===null&&n(Q,De),F=w(ot,F,Le),Ye===null?we=ot:Ye.sibling=ot,Ye=ot,De=Wt}if(Le===X.length)return a(Q,De),ut&&Pa(Q,Le),we;if(De===null){for(;Le<X.length;Le++)De=ue(Q,X[Le],oe),De!==null&&(F=w(De,F,Le),Ye===null?we=De:Ye.sibling=De,Ye=De);return ut&&Pa(Q,Le),we}for(De=l(De);Le<X.length;Le++)Wt=te(De,Q,Le,X[Le],oe),Wt!==null&&(t&&Wt.alternate!==null&&De.delete(Wt.key===null?Le:Wt.key),F=w(Wt,F,Le),Ye===null?we=Wt:Ye.sibling=Wt,Ye=Wt);return t&&De.forEach(function(Wi){return n(Q,Wi)}),ut&&Pa(Q,Le),we}function Ve(Q,F,X,oe){if(X==null)throw Error(s(151));for(var we=null,Ye=null,De=F,Le=F=0,Wt=null,ot=X.next();De!==null&&!ot.done;Le++,ot=X.next()){De.index>Le?(Wt=De,De=null):Wt=De.sibling;var Wi=ee(Q,De,ot.value,oe);if(Wi===null){De===null&&(De=Wt);break}t&&De&&Wi.alternate===null&&n(Q,De),F=w(Wi,F,Le),Ye===null?we=Wi:Ye.sibling=Wi,Ye=Wi,De=Wt}if(ot.done)return a(Q,De),ut&&Pa(Q,Le),we;if(De===null){for(;!ot.done;Le++,ot=X.next())ot=ue(Q,ot.value,oe),ot!==null&&(F=w(ot,F,Le),Ye===null?we=ot:Ye.sibling=ot,Ye=ot);return ut&&Pa(Q,Le),we}for(De=l(De);!ot.done;Le++,ot=X.next())ot=te(De,Q,Le,ot.value,oe),ot!==null&&(t&&ot.alternate!==null&&De.delete(ot.key===null?Le:ot.key),F=w(ot,F,Le),Ye===null?we=ot:Ye.sibling=ot,Ye=ot);return t&&De.forEach(function(RT){return n(Q,RT)}),ut&&Pa(Q,Le),we}function _t(Q,F,X,oe){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case g:e:{for(var we=X.key;F!==null;){if(F.key===we){if(we=X.type,we===v){if(F.tag===7){a(Q,F.sibling),oe=m(F,X.props.children),oe.return=Q,Q=oe;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&fg(we)===F.type){a(Q,F.sibling),oe=m(F,X.props),Ho(oe,X),oe.return=Q,Q=oe;break e}a(Q,F);break}else n(Q,F);F=F.sibling}X.type===v?(oe=La(X.props.children,Q.mode,oe,X.key),oe.return=Q,Q=oe):(oe=uu(X.type,X.key,X.props,null,Q.mode,oe),Ho(oe,X),oe.return=Q,Q=oe)}return N(Q);case _:e:{for(we=X.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){a(Q,F.sibling),oe=m(F,X.children||[]),oe.return=Q,Q=oe;break e}else{a(Q,F);break}else n(Q,F);F=F.sibling}oe=Cf(X,Q.mode,oe),oe.return=Q,Q=oe}return N(Q);case S:return we=X._init,X=we(X._payload),_t(Q,F,X,oe)}if(pe(X))return Ue(Q,F,X,oe);if($(X)){if(we=$(X),typeof we!="function")throw Error(s(150));return X=we.call(X),Ve(Q,F,X,oe)}if(typeof X.then=="function")return _t(Q,F,Ru(X),oe);if(X.$$typeof===D)return _t(Q,F,du(Q,X),oe);xu(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(a(Q,F.sibling),oe=m(F,X),oe.return=Q,Q=oe):(a(Q,F),oe=xf(X,Q.mode,oe),oe.return=Q,Q=oe),N(Q)):a(Q,F)}return function(Q,F,X,oe){try{qo=0;var we=_t(Q,F,X,oe);return Is=null,we}catch(De){if(De===Vo||De===pu)throw De;var Ye=jn(29,De,null,Q.mode);return Ye.lanes=oe,Ye.return=Q,Ye}finally{}}}var Ms=hg(!0),dg=hg(!1),or=ne(null),Lr=null;function Pi(t){var n=t.alternate;ce(Ft,Ft.current&1),ce(or,t),Lr===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(Lr=t)}function mg(t){if(t.tag===22){if(ce(Ft,Ft.current),ce(or,t),Lr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Lr=t)}}else Ui()}function Ui(){ce(Ft,Ft.current),ce(or,or.current)}function hi(t){me(or),Lr===t&&(Lr=null),me(Ft)}var Ft=ne(0);function Cu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function oh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=$n(),m=ki(l);m.payload=n,a!=null&&(m.callback=a),n=Li(t,m,l),n!==null&&(Bn(n,t,l),Lo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=$n(),m=ki(l);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Li(t,m,l),n!==null&&(Bn(n,t,l),Lo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=$n(),l=ki(a);l.tag=2,n!=null&&(l.callback=n),n=Li(t,l,a),n!==null&&(Bn(n,t,a),Lo(n,t,a))}};function pg(t,n,a,l,m,w,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,w,N):n.prototype&&n.prototype.isPureReactComponent?!Ro(a,l)||!Ro(m,w):!0}function gg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&lh.enqueueReplaceState(n,n.state,null)}function Fa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function yg(t){Du(t)}function vg(t){console.error(t)}function _g(t){Du(t)}function Ou(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function uh(t,n,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(t,n)},a}function Eg(t){return t=ki(t),t.tag=3,t}function Tg(t,n,a,l){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var w=l.value;t.payload=function(){return m(w)},t.callback=function(){bg(n,a,l)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){bg(n,a,l),typeof m!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function RE(t,n,a,l,m){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Io(n,a,m,!0),a=or.current,a!==null){switch(a.tag){case 13:return Lr===null?Nh():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=m,l===Pf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kh(t,l,m)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kh(t,l,m)),!1}throw Error(s(435,a.tag))}return kh(t,l,m),Nh(),!1}if(ut)return n=or.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,l!==If&&(t=Error(s(422),{cause:l}),Oo(rr(t,a)))):(l!==If&&(n=Error(s(423),{cause:l}),Oo(rr(n,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,l=rr(l,a),m=uh(t.stateNode,l,m),$f(t,m),Ot!==4&&(Ot=2)),!1;var w=Error(s(520),{cause:l});if(w=rr(w,a),Zo===null?Zo=[w]:Zo.push(w),Ot!==4&&(Ot=2),n===null)return!0;l=rr(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=uh(a.stateNode,l,t),$f(a,t),!1;case 1:if(n=a.type,w=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fi===null||!Fi.has(w))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Eg(m),Tg(m,t,a,l),$f(a,m),!1}a=a.return}while(a!==null);return!1}var wg=Error(s(461)),Zt=!1;function an(t,n,a,l){n.child=t===null?dg(n,null,a,l):Ms(n,t.child,a,l)}function Sg(t,n,a,l,m){a=a.render;var w=n.ref;if("ref"in l){var N={};for(var P in l)P!=="ref"&&(N[P]=l[P])}else N=l;return Ba(n),l=Gf(t,n,a,N,w,m),P=Qf(),t!==null&&!Zt?(Yf(t,n,m),di(t,n,m)):(ut&&P&&Df(n),n.flags|=1,an(t,n,l,m),n.child)}function Ag(t,n,a,l,m){if(t===null){var w=a.type;return typeof w=="function"&&!Rf(w)&&w.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=w,Rg(t,n,w,l,m)):(t=uu(a.type,null,l,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(w=t.child,!yh(t,m)){var N=w.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(N,l)&&t.ref===n.ref)return di(t,n,m)}return n.flags|=1,t=si(w,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,a,l,m){if(t!==null){var w=t.memoizedProps;if(Ro(w,l)&&t.ref===n.ref)if(Zt=!1,n.pendingProps=l=w,yh(t,m))(t.flags&131072)!==0&&(Zt=!0);else return n.lanes=t.lanes,di(t,n,m)}return ch(t,n,a,l,m)}function xg(t,n,a){var l=n.pendingProps,m=l.children,w=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=w!==null?w.baseLanes|a:a,t!==null){for(m=n.child=t.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;n.childLanes=w&~l}else n.childLanes=0,n.child=null;return Cg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(n,w!==null?w.cachePool:null),w!==null?Rp(n,w):qf(),mg(n);else return n.lanes=n.childLanes=536870912,Cg(t,n,w!==null?w.baseLanes|a:a,a)}else w!==null?(mu(n,w.cachePool),Rp(n,w),Ui(),n.memoizedState=null):(t!==null&&mu(n,null),qf(),Ui());return an(t,n,m,a),n.child}function Cg(t,n,a,l){var m=jf();return m=m===null?null:{parent:Ht._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&mu(n,null),qf(),mg(n),t!==null&&Io(t,n,l,!0),null}function Iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ch(t,n,a,l,m){return Ba(n),a=Gf(t,n,a,l,void 0,m),l=Qf(),t!==null&&!Zt?(Yf(t,n,m),di(t,n,m)):(ut&&l&&Df(n),n.flags|=1,an(t,n,a,m),n.child)}function Dg(t,n,a,l,m,w){return Ba(n),n.updateQueue=null,a=Cp(n,l,a,m),xp(t),l=Qf(),t!==null&&!Zt?(Yf(t,n,w),di(t,n,w)):(ut&&l&&Df(n),n.flags|=1,an(t,n,a,w),n.child)}function Og(t,n,a,l,m){if(Ba(n),n.stateNode===null){var w=Ts,N=a.contextType;typeof N=="object"&&N!==null&&(w=mn(N)),w=new a(l,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=lh,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=l,w.state=n.memoizedState,w.refs={},Uf(n),N=a.contextType,w.context=typeof N=="object"&&N!==null?mn(N):Ts,w.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(oh(n,a,N,l),w.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&lh.enqueueReplaceState(w,w.state,null),Po(n,l,w,m),jo(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){w=n.stateNode;var P=n.memoizedProps,q=Fa(a,P);w.props=q;var J=w.context,ae=a.contextType;N=Ts,typeof ae=="object"&&ae!==null&&(N=mn(ae));var ue=a.getDerivedStateFromProps;ae=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||J!==N)&&gg(n,w,l,N),Vi=!1;var ee=n.memoizedState;w.state=ee,Po(n,l,w,m),jo(),J=n.memoizedState,P||ee!==J||Vi?(typeof ue=="function"&&(oh(n,a,ue,l),J=n.memoizedState),(q=Vi||pg(n,a,q,l,ee,J,N))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=J),w.props=l,w.state=J,w.context=N,l=q):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,zf(t,n),N=n.memoizedProps,ae=Fa(a,N),w.props=ae,ue=n.pendingProps,ee=w.context,J=a.contextType,q=Ts,typeof J=="object"&&J!==null&&(q=mn(J)),P=a.getDerivedStateFromProps,(J=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==ue||ee!==q)&&gg(n,w,l,q),Vi=!1,ee=n.memoizedState,w.state=ee,Po(n,l,w,m),jo();var te=n.memoizedState;N!==ue||ee!==te||Vi||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof P=="function"&&(oh(n,a,P,l),te=n.memoizedState),(ae=Vi||pg(n,a,ae,l,ee,te,q)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,te,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,te,q)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=te),w.props=l,w.state=te,w.context=q,l=ae):(typeof w.componentDidUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),l=!1)}return w=l,Iu(t,n),l=(n.flags&128)!==0,w||l?(w=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,t!==null&&l?(n.child=Ms(n,t.child,null,m),n.child=Ms(n,null,a,m)):an(t,n,a,m),n.memoizedState=w.state,t=n.child):t=di(t,n,m),t}function Ig(t,n,a,l){return Do(),n.flags|=256,an(t,n,a,l),n.child}var fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(t){return{baseLanes:t,cachePool:vp()}}function dh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=lr),t}function Mg(t,n,a){var l=n.pendingProps,m=!1,w=(n.flags&128)!==0,N;if((N=w)||(N=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,t===null){if(ut){if(m?Pi(n):Ui(),ut){var P=Dt,q;if(q=P){e:{for(q=P,P=kr;q.nodeType!==8;){if(!P){P=null;break e}if(q=vr(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(n.memoizedState={dehydrated:P,treeContext:ja!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},q=jn(18,null,null,0),q.stateNode=P,q.return=n,n.child=q,An=n,Dt=null,q=!0):q=!1}q||za(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Xh(P)?n.lanes=32:n.lanes=536870912,null;hi(n)}return P=l.children,l=l.fallback,m?(Ui(),m=n.mode,P=Mu({mode:"hidden",children:P},m),l=La(l,m,a,null),P.return=n,l.return=n,P.sibling=l,n.child=P,m=n.child,m.memoizedState=hh(a),m.childLanes=dh(t,N,a),n.memoizedState=fh,l):(Pi(n),mh(n,P))}if(q=t.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(w)n.flags&256?(Pi(n),n.flags&=-257,n=ph(t,n,a)):n.memoizedState!==null?(Ui(),n.child=t.child,n.flags|=128,n=null):(Ui(),m=l.fallback,P=n.mode,l=Mu({mode:"visible",children:l.children},P),m=La(m,P,a,null),m.flags|=2,l.return=n,m.return=n,l.sibling=m,n.child=l,Ms(n,t.child,null,a),l=n.child,l.memoizedState=hh(a),l.childLanes=dh(t,N,a),n.memoizedState=fh,n=m);else if(Pi(n),Xh(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var J=N.dgst;N=J,l=Error(s(419)),l.stack="",l.digest=N,Oo({value:l,source:null,stack:null}),n=ph(t,n,a)}else if(Zt||Io(t,n,a,!1),N=(a&t.childLanes)!==0,Zt||N){if(N=wt,N!==null&&(l=a&-a,l=(l&42)!==0?1:Ar(l),l=(l&(N.suspendedLanes|a))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,Es(t,l),Bn(N,t,l),wg;P.data==="$?"||Nh(),n=ph(t,n,a)}else P.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=q.treeContext,Dt=vr(P.nextSibling),An=n,ut=!0,Ua=null,kr=!1,t!==null&&(ar[sr++]=oi,ar[sr++]=li,ar[sr++]=ja,oi=t.id,li=t.overflow,ja=n),n=mh(n,l.children),n.flags|=4096);return n}return m?(Ui(),m=l.fallback,P=n.mode,q=t.child,J=q.sibling,l=si(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,J!==null?m=si(J,m):(m=La(m,P,a,null),m.flags|=2),m.return=n,l.return=n,l.sibling=m,n.child=l,l=m,m=n.child,P=t.child.memoizedState,P===null?P=hh(a):(q=P.cachePool,q!==null?(J=Ht._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=vp(),P={baseLanes:P.baseLanes|a,cachePool:q}),m.memoizedState=P,m.childLanes=dh(t,N,a),n.memoizedState=fh,l):(Pi(n),a=t.child,t=a.sibling,a=si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(N=n.deletions,N===null?(n.deletions=[t],n.flags|=16):N.push(t)),n.child=a,n.memoizedState=null,a)}function mh(t,n){return n=Mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mu(t,n){return t=jn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ph(t,n,a){return Ms(n,t.child,null,a),t=mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ng(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Nf(t.return,n,a)}function gh(t,n,a,l,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:m}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=m)}function Vg(t,n,a){var l=n.pendingProps,m=l.revealOrder,w=l.tail;if(an(t,n,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ng(t,a,n);else if(t.tag===19)Ng(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Ft,l),m){case"forwards":for(a=n.child,m=null;a!==null;)t=a.alternate,t!==null&&Cu(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),gh(n,!1,m,a,w);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Cu(t)===null){n.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}gh(n,!0,a,null,w);break;case"together":gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Io(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function xE(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Ni(n,Ht,t.memoizedState.cache),Do();break;case 27:case 5:St(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Mg(t,n,a):(Pi(n),t=di(t,n,a),t!==null?t.sibling:null);Pi(n);break;case 19:var m=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Io(t,n,a,!1),l=(a&n.childLanes)!==0),m){if(l)return Vg(t,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Ft,Ft.current),l)break;return null;case 22:case 23:return n.lanes=0,xg(t,n,a);case 24:Ni(n,Ht,t.memoizedState.cache)}return di(t,n,a)}function kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Zt=!0;else{if(!yh(t,a)&&(n.flags&128)===0)return Zt=!1,xE(t,n,a);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(n.flags&1048576)!==0&&fp(n,fu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,m=l._init;if(l=m(l._payload),n.type=l,typeof l=="function")Rf(l)?(t=Fa(l,t),n.tag=1,n=Og(null,n,l,t,a)):(n.tag=0,n=ch(null,n,l,t,a));else{if(l!=null){if(m=l.$$typeof,m===V){n.tag=11,n=Sg(null,n,l,t,a);break e}else if(m===I){n.tag=14,n=Ag(null,n,l,t,a);break e}}throw n=he(l)||l,Error(s(306,n,""))}}return n;case 0:return ch(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,m=Fa(l,n.pendingProps),Og(t,n,l,m,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var w=n.memoizedState;m=w.element,zf(t,n),Po(n,l,null,a);var N=n.memoizedState;if(l=N.cache,Ni(n,Ht,l),l!==w.cache&&Vf(n,[Ht],a,!0),jo(),l=N.element,w.isDehydrated)if(w={element:l,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=Ig(t,n,l,a);break e}else if(l!==m){m=rr(Error(s(424)),n),Oo(m),n=Ig(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=vr(t.firstChild),An=n,ut=!0,Ua=null,kr=!0,a=dg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),l===m){n=di(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Iu(t,n),t===null?(a=Uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:ut||(a=n.type,t=n.pendingProps,l=Gu(xe.current).createElement(a),l[le]=n,l[ge]=t,on(l,a,t),et(l),n.stateNode=l):n.memoizedState=Uy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return St(n),t===null&&ut&&(l=n.stateNode=Ly(n.type,n.pendingProps,xe.current),An=n,kr=!0,m=Dt,Yi(n.type)?(Zh=m,Dt=vr(l.firstChild)):Dt=m),an(t,n,n.pendingProps.children,a),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ut&&((m=l=Dt)&&(l=tT(l,n.type,n.pendingProps,kr),l!==null?(n.stateNode=l,An=n,Dt=vr(l.firstChild),kr=!1,m=!0):m=!1),m||za(n)),St(n),m=n.type,w=n.pendingProps,N=t!==null?t.memoizedProps:null,l=w.children,Qh(m,w)?l=null:N!==null&&Qh(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=Gf(t,n,_E,null,null,a),sl._currentValue=m),Iu(t,n),an(t,n,l,a),n.child;case 6:return t===null&&ut&&((t=a=Dt)&&(a=nT(a,n.pendingProps,kr),a!==null?(n.stateNode=a,An=n,Dt=null,t=!0):t=!1),t||za(n)),null;case 13:return Mg(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ms(n,null,l,a):an(t,n,l,a),n.child;case 11:return Sg(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ni(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return m=n.type._context,l=n.pendingProps.children,Ba(n),m=mn(m),l=l(m),n.flags|=1,an(t,n,l,a),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,a);case 15:return Rg(t,n,n.type,n.pendingProps,a);case 19:return Vg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Mu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=si(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return xg(t,n,a);case 24:return Ba(n),l=mn(Ht),t===null?(m=jf(),m===null&&(m=wt,w=kf(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=a),m=w),n.memoizedState={parent:l,cache:m},Uf(n),Ni(n,Ht,m)):((t.lanes&a)!==0&&(zf(t,n),Po(n,null,null,a),jo()),m=t.memoizedState,w=n.memoizedState,m.parent!==l?(m={parent:l,cache:l},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Ni(n,Ht,l)):(l=w.cache,Ni(n,Ht,l),l!==m.cache&&Vf(n,[Ht],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function mi(t){t.flags|=4}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(n)){if(n=or.current,n!==null&&((rt&4194048)===rt?Lr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||n!==Lr))throw ko=Pf,_p;t.flags|=8192}}function Nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ta():536870912,t.lanes|=n,Ls|=n)}function Fo(t,n){if(!ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function CE(t,n,a){var l=n.pendingProps;switch(Of(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ci(Ht),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Co(n)?mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mp())),xt(n),null;case 26:return a=n.memoizedState,t===null?(mi(n),a!==null?(xt(n),Lg(n,a)):(xt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(mi(n),xt(n),Lg(n,a)):(xt(n),n.flags&=-16777217):(t.memoizedProps!==l&&mi(n),xt(n),n.flags&=-16777217),null;case 27:fn(n),a=xe.current;var m=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}t=_e.current,Co(n)?hp(n):(t=Ly(m,l,a),n.stateNode=t,mi(n))}return xt(n),null;case 5:if(fn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}if(t=_e.current,Co(n))hp(n);else{switch(m=Gu(xe.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?m.createElement(a,{is:l.is}):m.createElement(a)}}t[le]=n,t[ge]=l;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=t;e:switch(on(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&mi(n)}}return xt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=xe.current,Co(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,m=An,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}t[le]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Dy(t.nodeValue,a)),t||za(n)}else t=Gu(t).createTextNode(l),t[le]=n,n.stateNode=t}return xt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Co(n),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[le]=n}else Do(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),m=!1}else m=mp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(hi(n),n):(hi(n),null)}if(hi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool);var w=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==m&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Nu(n,n.updateQueue),xt(n),null;case 4:return Gn(),t===null&&Bh(n.stateNode.containerInfo),xt(n),null;case 10:return ci(n.type),xt(n),null;case 19:if(me(Ft),m=n.memoizedState,m===null)return xt(n),null;if(l=(n.flags&128)!==0,w=m.rendering,w===null)if(l)Fo(m,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=Cu(t),w!==null){for(n.flags|=128,Fo(m,!1),t=w.updateQueue,n.updateQueue=t,Nu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)cp(a,t),a=a.sibling;return ce(Ft,Ft.current&1|2),n.child}t=t.sibling}m.tail!==null&&bn()>Lu&&(n.flags|=128,l=!0,Fo(m,!1),n.lanes=4194304)}else{if(!l)if(t=Cu(w),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Nu(n,t),Fo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ut)return xt(n),null}else 2*bn()-m.renderingStartTime>Lu&&a!==536870912&&(n.flags|=128,l=!0,Fo(m,!1),n.lanes=4194304);m.isBackwards?(w.sibling=n.child,n.child=w):(t=m.last,t!==null?t.sibling=w:n.child=w,m.last=w)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=bn(),n.sibling=null,t=Ft.current,ce(Ft,l?t&1|2:t&1),n):(xt(n),null);case 22:case 23:return hi(n),Hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),a=n.updateQueue,a!==null&&Nu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&me(qa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ci(Ht),xt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(t,n){switch(Of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ci(Ht),Gn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fn(n),null;case 13:if(hi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Do()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return me(Ft),null;case 4:return Gn(),null;case 10:return ci(n.type),null;case 22:case 23:return hi(n),Hf(),t!==null&&me(qa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ci(Ht),null;case 25:return null;default:return null}}function jg(t,n){switch(Of(n),n.tag){case 3:ci(Ht),Gn();break;case 26:case 27:case 5:fn(n);break;case 4:Gn();break;case 13:hi(n);break;case 19:me(Ft);break;case 10:ci(n.type);break;case 22:case 23:hi(n),Hf(),t!==null&&me(qa);break;case 24:ci(Ht)}}function Go(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var m=l.next;a=m;do{if((a.tag&t)===t){l=void 0;var w=a.create,N=a.inst;l=w(),N.destroy=l}a=a.next}while(a!==m)}}catch(P){Et(n,n.return,P)}}function zi(t,n,a){try{var l=n.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var w=m.next;l=w;do{if((l.tag&t)===t){var N=l.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,m=n;var q=a,J=P;try{J()}catch(ae){Et(m,q,ae)}}}l=l.next}while(l!==w)}}catch(ae){Et(n,n.return,ae)}}function Pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ap(n,a)}catch(l){Et(t,t.return,l)}}}function Ug(t,n,a){a.props=Fa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Et(t,n,l)}}function Qo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(m){Et(t,n,m)}}function jr(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(m){Et(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Et(t,n,m)}else a.current=null}function zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(m){Et(t,t.return,m)}}function vh(t,n,a){try{var l=t.stateNode;XE(l,t.type,a,n),l[ge]=n}catch(m){Et(t,t.return,m)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function _h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fu));else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(bh(t,n,a),t=t.sibling;t!==null;)bh(t,n,a),t=t.sibling}function Vu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vu(t,n,a),t=t.sibling;t!==null;)Vu(t,n,a),t=t.sibling}function Bg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);on(n,l,a),n[le]=t,n[ge]=a}catch(w){Et(t,t.return,w)}}var pi=!1,Mt=!1,Eh=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function OE(t,n){if(t=t.containerInfo,Fh=Ju,t=ep(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var m=l.anchorOffset,w=l.focusNode;l=l.focusOffset;try{a.nodeType,w.nodeType}catch{a=null;break e}var N=0,P=-1,q=-1,J=0,ae=0,ue=t,ee=null;t:for(;;){for(var te;ue!==a||m!==0&&ue.nodeType!==3||(P=N+m),ue!==w||l!==0&&ue.nodeType!==3||(q=N+l),ue.nodeType===3&&(N+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===t)break t;if(ee===a&&++J===m&&(P=N),ee===w&&++ae===l&&(q=N),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}a=P===-1||q===-1?null:{start:P,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gh={focusedElem:t,selectionRange:a},Ju=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,w=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&w!==null){t=void 0,a=n,m=w.memoizedProps,w=w.memoizedState,l=a.stateNode;try{var Ue=Fa(a.type,m,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ue,w),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Et(a,a.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Hg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&Go(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(N){Et(a,a.return,N)}else{var m=Fa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Et(a,a.return,N)}}l&64&&Pg(a),l&512&&Qo(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ap(t,n)}catch(N){Et(a,a.return,N)}}break;case 27:n===null&&l&4&&Bg(a);case 26:case 5:$i(t,a),n===null&&l&4&&zg(a),l&512&&Qo(a,a.return);break;case 12:$i(t,a);break;case 13:$i(t,a),l&4&&Qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=UE.bind(null,a),rT(t,a))));break;case 22:if(l=a.memoizedState!==null||pi,!l){n=n!==null&&n.memoizedState!==null||Mt,m=pi;var w=Mt;pi=l,(Mt=n)&&!w?Bi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),pi=m,Mt=w}break;case 30:break;default:$i(t,a)}}function Fg(t){var n=t.alternate;n!==null&&(t.alternate=null,Fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ae(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Cn=!1;function gi(t,n,a){for(a=a.child;a!==null;)Gg(t,n,a),a=a.sibling}function Gg(t,n,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:Mt||jr(a,n),gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||jr(a,n);var l=At,m=Cn;Yi(a.type)&&(At=a.stateNode,Cn=!1),gi(t,n,a),nl(a.stateNode),At=l,Cn=m;break;case 5:Mt||jr(a,n);case 6:if(l=At,m=Cn,At=null,gi(t,n,a),At=l,Cn=m,At!==null)if(Cn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(w){Et(a,n,w)}else try{At.removeChild(a.stateNode)}catch(w){Et(a,n,w)}break;case 18:At!==null&&(Cn?(t=At,Vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cl(t)):Vy(At,a.stateNode));break;case 4:l=At,m=Cn,At=a.stateNode.containerInfo,Cn=!0,gi(t,n,a),At=l,Cn=m;break;case 0:case 11:case 14:case 15:Mt||zi(2,a,n),Mt||zi(4,a,n),gi(t,n,a);break;case 1:Mt||(jr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ug(a,n,l)),gi(t,n,a);break;case 21:gi(t,n,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,gi(t,n,a),Mt=l;break;default:gi(t,n,a)}}function Qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(a){Et(n,n.return,a)}}function IE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qg),n;default:throw Error(s(435,t.tag))}}function Th(t,n){var a=IE(t);n.forEach(function(l){var m=zE.bind(null,t,l);a.has(l)||(a.add(l),l.then(m,m))})}function Pn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var m=a[l],w=t,N=n,P=N;e:for(;P!==null;){switch(P.tag){case 27:if(Yi(P.type)){At=P.stateNode,Cn=!1;break e}break;case 5:At=P.stateNode,Cn=!1;break e;case 3:case 4:At=P.stateNode.containerInfo,Cn=!0;break e}P=P.return}if(At===null)throw Error(s(160));Gg(w,N,m),At=null,Cn=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var yr=null;function Yg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(n,t),Un(t),l&4&&(zi(3,t,t.return),Go(3,t),zi(5,t,t.return));break;case 1:Pn(n,t),Un(t),l&512&&(Mt||a===null||jr(a,a.return)),l&64&&pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var m=yr;if(Pn(n,t),Un(t),l&512&&(Mt||a===null||jr(a,a.return)),l&4){var w=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":w=m.getElementsByTagName("title")[0],(!w||w[Ne]||w[le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(l),m.head.insertBefore(w,m.querySelector("head > title"))),on(w,l,a),w[le]=t,et(w),l=w;break e;case"link":var N=By("link","href",m).get(l+(a.href||""));if(N){for(var P=0;P<N.length;P++)if(w=N[P],w.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&w.getAttribute("rel")===(a.rel==null?null:a.rel)&&w.getAttribute("title")===(a.title==null?null:a.title)&&w.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(P,1);break t}}w=m.createElement(l),on(w,l,a),m.head.appendChild(w);break;case"meta":if(N=By("meta","content",m).get(l+(a.content||""))){for(P=0;P<N.length;P++)if(w=N[P],w.getAttribute("content")===(a.content==null?null:""+a.content)&&w.getAttribute("name")===(a.name==null?null:a.name)&&w.getAttribute("property")===(a.property==null?null:a.property)&&w.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&w.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(P,1);break t}}w=m.createElement(l),on(w,l,a),m.head.appendChild(w);break;default:throw Error(s(468,l))}w[le]=t,et(w),l=w}t.stateNode=l}else qy(m,t.type,t.stateNode);else t.stateNode=$y(m,l,t.memoizedProps);else w!==l?(w===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):w.count--,l===null?qy(m,t.type,t.stateNode):$y(m,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Pn(n,t),Un(t),l&512&&(Mt||a===null||jr(a,a.return)),a!==null&&l&4&&vh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Pn(n,t),Un(t),l&512&&(Mt||a===null||jr(a,a.return)),t.flags&32){m=t.stateNode;try{Wn(m,"")}catch(te){Et(t,t.return,te)}}l&4&&t.stateNode!=null&&(m=t.memoizedProps,vh(t,m,a!==null?a.memoizedProps:m)),l&1024&&(Eh=!0);break;case 6:if(Pn(n,t),Un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(te){Et(t,t.return,te)}}break;case 3:if(Ku=null,m=yr,yr=Qu(n.containerInfo),Pn(n,t),yr=m,Un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(te){Et(t,t.return,te)}Eh&&(Eh=!1,Kg(t));break;case 4:l=yr,yr=Qu(t.stateNode.containerInfo),Pn(n,t),Un(t),yr=l;break;case 12:Pn(n,t),Un(t);break;case 13:Pn(n,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ch=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 22:m=t.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,J=pi,ae=Mt;if(pi=J||m,Mt=ae||q,Pn(n,t),Mt=ae,pi=J,Un(t),l&8192)e:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||q||pi||Mt||Ga(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){q=a=n;try{if(w=q.stateNode,m)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Et(q,q.return,te)}}}else if(n.tag===6){if(a===null){q=n;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(te){Et(q,q.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Th(t,a))));break;case 19:Pn(n,t),Un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 30:break;case 21:break;default:Pn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if($g(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,w=_h(t);Vu(t,w,m);break;case 5:var N=a.stateNode;a.flags&32&&(Wn(N,""),a.flags&=-33);var P=_h(t);Vu(t,P,N);break;case 3:case 4:var q=a.stateNode.containerInfo,J=_h(t);bh(t,J,q);break;default:throw Error(s(161))}}catch(ae){Et(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(t,n.alternate,n),n=n.sibling}function Ga(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),Ga(n);break;case 1:jr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ug(n,n.return,a),Ga(n);break;case 27:nl(n.stateNode);case 26:case 5:jr(n,n.return),Ga(n);break;case 22:n.memoizedState===null&&Ga(n);break;case 30:Ga(n);break;default:Ga(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,m=t,w=n,N=w.flags;switch(w.tag){case 0:case 11:case 15:Bi(m,w,a),Go(4,w);break;case 1:if(Bi(m,w,a),l=w,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Et(l,l.return,J)}if(l=w,m=l.updateQueue,m!==null){var P=l.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)Sp(q[m],P)}catch(J){Et(l,l.return,J)}}a&&N&64&&Pg(w),Qo(w,w.return);break;case 27:Bg(w);case 26:case 5:Bi(m,w,a),a&&l===null&&N&4&&zg(w),Qo(w,w.return);break;case 12:Bi(m,w,a);break;case 13:Bi(m,w,a),a&&N&4&&Qg(m,w);break;case 22:w.memoizedState===null&&Bi(m,w,a),Qo(w,w.return);break;case 30:break;default:Bi(m,w,a)}n=n.sibling}}function wh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Mo(a))}function Sh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mo(t))}function Pr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,a,l),n=n.sibling}function Xg(t,n,a,l){var m=n.flags;switch(n.tag){case 0:case 11:case 15:Pr(t,n,a,l),m&2048&&Go(9,n);break;case 1:Pr(t,n,a,l);break;case 3:Pr(t,n,a,l),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mo(t)));break;case 12:if(m&2048){Pr(t,n,a,l),t=n.stateNode;try{var w=n.memoizedProps,N=w.id,P=w.onPostCommit;typeof P=="function"&&P(N,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Et(n,n.return,q)}}else Pr(t,n,a,l);break;case 13:Pr(t,n,a,l);break;case 23:break;case 22:w=n.stateNode,N=n.alternate,n.memoizedState!==null?w._visibility&2?Pr(t,n,a,l):Yo(t,n):w._visibility&2?Pr(t,n,a,l):(w._visibility|=2,Ns(t,n,a,l,(n.subtreeFlags&10256)!==0)),m&2048&&wh(N,n);break;case 24:Pr(t,n,a,l),m&2048&&Sh(n.alternate,n);break;default:Pr(t,n,a,l)}}function Ns(t,n,a,l,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var w=t,N=n,P=a,q=l,J=N.flags;switch(N.tag){case 0:case 11:case 15:Ns(w,N,P,q,m),Go(8,N);break;case 23:break;case 22:var ae=N.stateNode;N.memoizedState!==null?ae._visibility&2?Ns(w,N,P,q,m):Yo(w,N):(ae._visibility|=2,Ns(w,N,P,q,m)),m&&J&2048&&wh(N.alternate,N);break;case 24:Ns(w,N,P,q,m),m&&J&2048&&Sh(N.alternate,N);break;default:Ns(w,N,P,q,m)}n=n.sibling}}function Yo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,m=l.flags;switch(l.tag){case 22:Yo(a,l),m&2048&&wh(l.alternate,l);break;case 24:Yo(a,l),m&2048&&Sh(l.alternate,l);break;default:Yo(a,l)}n=n.sibling}}var Ko=8192;function Vs(t){if(t.subtreeFlags&Ko)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:Vs(t),t.flags&Ko&&t.memoizedState!==null&&gT(yr,t.memoizedState,t.memoizedProps);break;case 5:Vs(t);break;case 3:case 4:var n=yr;yr=Qu(t.stateNode.containerInfo),Vs(t),yr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ko,Ko=16777216,Vs(t),Ko=n):Vs(t));break;default:Vs(t)}}function Jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Xo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,ey(l,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&zi(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ku(t)):Xo(t);break;default:Xo(t)}}function ku(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,ey(l,t)}Jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zi(8,n,n.return),ku(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ku(n));break;default:ku(n)}t=t.sibling}}function ey(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Mo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var m=l.sibling,w=l.return;if(Fg(l),l===a){Jt=null;break e}if(m!==null){m.return=w,Jt=m;break e}Jt=w}}}var ME={getCacheForType:function(t){var n=mn(Ht),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},NE=typeof WeakMap=="function"?WeakMap:Map,dt=0,wt=null,Xe=null,rt=0,mt=0,zn=null,qi=!1,ks=!1,Ah=!1,yi=0,Ot=0,Hi=0,Qa=0,Rh=0,lr=0,Ls=0,Zo=null,Dn=null,xh=!1,Ch=0,Lu=1/0,ju=null,Fi=null,sn=0,Gi=null,js=null,Ps=0,Dh=0,Oh=null,ty=null,Jo=0,Ih=null;function $n(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=As;return t!==0?t:Ph()}return H()}function ny(){lr===0&&(lr=(rt&536870912)===0||ut?Zr():536870912);var t=or.current;return t!==null&&(t.flags|=32),lr}function Bn(t,n,a){(t===wt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(Us(t,0),Qi(t,rt,lr,!1)),mr(t,a),((dt&2)===0||t!==wt)&&(t===wt&&((dt&2)===0&&(Qa|=a),Ot===4&&Qi(t,rt,lr,!1)),Ur(t))}function ry(t,n,a){if((dt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Kn(t,n),m=l?LE(t,n):Vh(t,n,!0),w=l;do{if(m===0){ks&&!l&&Qi(t,n,0,!1);break}else{if(a=t.current.alternate,w&&!VE(a)){m=Vh(t,n,!1),w=!1;continue}if(m===2){if(w=n,t.errorRecoveryDisabledLanes&w)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var P=t;m=Zo;var q=P.current.memoizedState.isDehydrated;if(q&&(Us(P,N).flags|=256),N=Vh(P,N,!1),N!==2){if(Ah&&!q){P.errorRecoveryDisabledLanes|=w,Qa|=w,m=4;break e}w=Dn,Dn=m,w!==null&&(Dn===null?Dn=w:Dn.push.apply(Dn,w))}m=N}if(w=!1,m!==2)continue}}if(m===1){Us(t,0),Qi(t,n,0,!0);break}e:{switch(l=t,w=m,w){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qi(l,n,lr,!qi);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Ch+300-bn(),10<m)){if(Qi(l,n,lr,!qi),Xr(l,0,!0)!==0)break e;l.timeoutHandle=My(iy.bind(null,l,a,Dn,ju,xh,n,lr,Qa,Ls,qi,w,2,-0,0),m);break e}iy(l,a,Dn,ju,xh,n,lr,Qa,Ls,qi,w,0,-0,0)}}break}while(!0);Ur(t)}function iy(t,n,a,l,m,w,N,P,q,J,ae,ue,ee,te){if(t.timeoutHandle=-1,ue=n.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:pT},Zg(n),ue=yT(),ue!==null)){t.cancelPendingCommit=ue(fy.bind(null,t,n,w,a,l,m,N,P,q,ae,1,ee,te)),Qi(t,w,N,!J);return}fy(t,n,w,a,l,m,N,P,q)}function VE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var m=a[l],w=m.getSnapshot;m=m.value;try{if(!Ln(w(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(t,n,a,l){n&=~Rh,n&=~Qa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var m=n;0<m;){var w=31-kt(m),N=1<<w;l[w]=-1,m&=~N}a!==0&&En(t,a,n)}function Pu(){return(dt&6)===0?(Wo(0),!1):!0}function Mh(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,ui=$a=null,Kf(t),Is=null,qo=0,t=Xe;for(;t!==null;)jg(t.alternate,t),t=t.return;Xe=null}}function Us(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Mh(),wt=t,Xe=a=si(t.current,null),rt=n,mt=0,zn=null,qi=!1,ks=Kn(t,n),Ah=!1,Ls=lr=Rh=Qa=Hi=Ot=0,Dn=Zo=null,xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var m=31-kt(l),w=1<<m;n|=t[m],l&=~w}return yi=n,su(),a}function ay(t,n){Fe=null,G.H=Au,n===Vo||n===pu?(n=Tp(),mt=3):n===_p?(n=Tp(),mt=4):mt=n===wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Xe===null&&(Ot=1,Ou(t,rr(n,t.current)))}function sy(){var t=G.H;return G.H=Au,t===null?Au:t}function oy(){var t=G.A;return G.A=ME,t}function Nh(){Ot=4,qi||(rt&4194048)!==rt&&or.current!==null||(ks=!0),(Hi&134217727)===0&&(Qa&134217727)===0||wt===null||Qi(wt,rt,lr,!1)}function Vh(t,n,a){var l=dt;dt|=2;var m=sy(),w=oy();(wt!==t||rt!==n)&&(ju=null,Us(t,n)),n=!1;var N=Ot;e:do try{if(mt!==0&&Xe!==null){var P=Xe,q=zn;switch(mt){case 8:Mh(),N=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(n=!0);var J=mt;if(mt=0,zn=null,zs(t,P,q,J),a&&ks){N=0;break e}break;default:J=mt,mt=0,zn=null,zs(t,P,q,J)}}kE(),N=Ot;break}catch(ae){ay(t,ae)}while(!0);return n&&t.shellSuspendCounter++,ui=$a=null,dt=l,G.H=m,G.A=w,Xe===null&&(wt=null,rt=0,su()),N}function kE(){for(;Xe!==null;)ly(Xe)}function LE(t,n){var a=dt;dt|=2;var l=sy(),m=oy();wt!==t||rt!==n?(ju=null,Lu=bn()+500,Us(t,n)):ks=Kn(t,n);e:do try{if(mt!==0&&Xe!==null){n=Xe;var w=zn;t:switch(mt){case 1:mt=0,zn=null,zs(t,n,w,1);break;case 2:case 9:if(bp(w)){mt=0,zn=null,uy(n);break}n=function(){mt!==2&&mt!==9||wt!==t||(mt=7),Ur(t)},w.then(n,n);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:bp(w)?(mt=0,zn=null,uy(n)):(mt=0,zn=null,zs(t,n,w,7));break;case 5:var N=null;switch(Xe.tag){case 26:N=Xe.memoizedState;case 5:case 27:var P=Xe;if(!N||Hy(N)){mt=0,zn=null;var q=P.sibling;if(q!==null)Xe=q;else{var J=P.return;J!==null?(Xe=J,Uu(J)):Xe=null}break t}}mt=0,zn=null,zs(t,n,w,5);break;case 6:mt=0,zn=null,zs(t,n,w,6);break;case 8:Mh(),Ot=6;break e;default:throw Error(s(462))}}jE();break}catch(ae){ay(t,ae)}while(!0);return ui=$a=null,G.H=l,G.A=m,dt=a,Xe!==null?0:(wt=null,rt=0,su(),Ot)}function jE(){for(;Xe!==null&&!ba();)ly(Xe)}function ly(t){var n=kg(t.alternate,t,yi);t.memoizedProps=t.pendingProps,n===null?Uu(t):Xe=n}function uy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Dg(a,n,n.pendingProps,n.type,void 0,rt);break;case 11:n=Dg(a,n,n.pendingProps,n.type.render,n.ref,rt);break;case 5:Kf(n);default:jg(a,n),n=Xe=cp(n,yi),n=kg(a,n,yi)}t.memoizedProps=t.pendingProps,n===null?Uu(t):Xe=n}function zs(t,n,a,l){ui=$a=null,Kf(n),Is=null,qo=0;var m=n.return;try{if(RE(t,m,n,a,rt)){Ot=1,Ou(t,rr(a,t.current)),Xe=null;return}}catch(w){if(m!==null)throw Xe=m,w;Ot=1,Ou(t,rr(a,t.current)),Xe=null;return}n.flags&32768?(ut||l===1?t=!0:ks||(rt&536870912)!==0?t=!1:(qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=or.current,l!==null&&l.tag===13&&(l.flags|=16384))),cy(n,t)):Uu(n)}function Uu(t){var n=t;do{if((n.flags&32768)!==0){cy(n,qi);return}t=n.return;var a=CE(n.alternate,n,yi);if(a!==null){Xe=a;return}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=t}while(n!==null);Ot===0&&(Ot=5)}function cy(t,n){do{var a=DE(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);Ot=6,Xe=null}function fy(t,n,a,l,m,w,N,P,q){t.cancelPendingCommit=null;do zu();while(sn!==0);if((dt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(w=n.lanes|n.childLanes,w|=Sf,Ci(t,a,w,N,P,q),t===wt&&(Xe=wt=null,rt=0),js=n,Gi=t,Ps=a,Dh=w,Oh=m,ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$E(Kr,function(){return gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,m=se.p,se.p=2,N=dt,dt|=4;try{OE(t,n,a)}finally{dt=N,se.p=m,G.T=l}}sn=1,hy(),dy(),my()}}function hy(){if(sn===1){sn=0;var t=Gi,n=js,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{Yg(n,t);var w=Gh,N=ep(t.containerInfo),P=w.focusedElem,q=w.selectionRange;if(N!==P&&P&&P.ownerDocument&&Wm(P.ownerDocument.documentElement,P)){if(q!==null&&_f(P)){var J=q.start,ae=q.end;if(ae===void 0&&(ae=J),"selectionStart"in P)P.selectionStart=J,P.selectionEnd=Math.min(ae,P.value.length);else{var ue=P.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ue=P.textContent.length,Ve=Math.min(q.start,Ue),_t=q.end===void 0?Ve:Math.min(q.end,Ue);!te.extend&&Ve>_t&&(N=_t,_t=Ve,Ve=N);var Q=Jm(P,Ve),F=Jm(P,_t);if(Q&&F&&(te.rangeCount!==1||te.anchorNode!==Q.node||te.anchorOffset!==Q.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var X=ue.createRange();X.setStart(Q.node,Q.offset),te.removeAllRanges(),Ve>_t?(te.addRange(X),te.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),te.addRange(X))}}}}for(ue=[],te=P;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var oe=ue[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ju=!!Fh,Gh=Fh=null}finally{dt=m,se.p=l,G.T=a}}t.current=n,sn=2}}function dy(){if(sn===2){sn=0;var t=Gi,n=js,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{Hg(t,n.alternate,n)}finally{dt=m,se.p=l,G.T=a}}sn=3}}function my(){if(sn===4||sn===3){sn=0,ss();var t=Gi,n=js,a=Ps,l=ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,js=Gi=null,py(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Fi=null),Di(a),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,m=se.p,se.p=2,G.T=null;try{for(var w=t.onRecoverableError,N=0;N<l.length;N++){var P=l[N];w(P.value,{componentStack:P.stack})}}finally{G.T=n,se.p=m}}(Ps&3)!==0&&zu(),Ur(t),m=t.pendingLanes,(a&4194090)!==0&&(m&42)!==0?t===Ih?Jo++:(Jo=0,Ih=t):Jo=0,Wo(0)}}function py(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Mo(n)))}function zu(t){return hy(),dy(),my(),gy()}function gy(){if(sn!==5)return!1;var t=Gi,n=Dh;Dh=0;var a=Di(Ps),l=G.T,m=se.p;try{se.p=32>a?32:a,G.T=null,a=Oh,Oh=null;var w=Gi,N=Ps;if(sn=0,js=Gi=null,Ps=0,(dt&6)!==0)throw Error(s(331));var P=dt;if(dt|=4,Wg(w.current),Xg(w,w.current,N,a),dt=P,Wo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,w)}catch{}return!0}finally{se.p=m,G.T=l,py(t,n)}}function yy(t,n,a){n=rr(a,n),n=uh(t.stateNode,n,2),t=Li(t,n,2),t!==null&&(mr(t,2),Ur(t))}function Et(t,n,a){if(t.tag===3)yy(t,t,a);else for(;n!==null;){if(n.tag===3){yy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fi===null||!Fi.has(l))){t=rr(a,t),a=Eg(2),l=Li(n,a,2),l!==null&&(Tg(a,l,n,t),mr(l,2),Ur(l));break}}n=n.return}}function kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new NE;var m=new Set;l.set(n,m)}else m=l.get(n),m===void 0&&(m=new Set,l.set(n,m));m.has(a)||(Ah=!0,m.add(a),t=PE.bind(null,t,n,a),n.then(t,t))}function PE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,wt===t&&(rt&a)===a&&(Ot===4||Ot===3&&(rt&62914560)===rt&&300>bn()-Ch?(dt&2)===0&&Us(t,0):Rh|=a,Ls===rt&&(Ls=0)),Ur(t)}function vy(t,n){n===0&&(n=Ta()),t=Es(t,n),t!==null&&(mr(t,n),Ur(t))}function UE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),vy(t,a)}function zE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),vy(t,a)}function $E(t,n){return Yr(t,n)}var $u=null,$s=null,Lh=!1,Bu=!1,jh=!1,Ya=0;function Ur(t){t!==$s&&t.next===null&&($s===null?$u=$s=t:$s=$s.next=t),Bu=!0,Lh||(Lh=!0,qE())}function Wo(t,n){if(!jh&&Bu){jh=!0;do for(var a=!1,l=$u;l!==null;){if(t!==0){var m=l.pendingLanes;if(m===0)var w=0;else{var N=l.suspendedLanes,P=l.pingedLanes;w=(1<<31-kt(42|t)+1)-1,w&=m&~(N&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(a=!0,Ty(l,w))}else w=rt,w=Xr(l,l===wt?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(w&3)===0||Kn(l,w)||(a=!0,Ty(l,w));l=l.next}while(a);jh=!1}}function BE(){_y()}function _y(){Bu=Lh=!1;var t=0;Ya!==0&&(ZE()&&(t=Ya),Ya=0);for(var n=bn(),a=null,l=$u;l!==null;){var m=l.next,w=by(l,n);w===0?(l.next=null,a===null?$u=m:a.next=m,m===null&&($s=a)):(a=l,(t!==0||(w&3)!==0)&&(Bu=!0)),l=m}Wo(t)}function by(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,m=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var N=31-kt(w),P=1<<N,q=m[N];q===-1?((P&a)===0||(P&l)!==0)&&(m[N]=xi(P,n)):q<=n&&(t.expiredLanes|=P),w&=~P}if(n=wt,a=rt,a=Xr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&_n(l),Di(a)){case 2:case 8:a=Si;break;case 32:a=Kr;break;case 268435456:a=Qn;break;default:a=Kr}return l=Ey.bind(null,t),a=Yr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function Ey(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zu()&&t.callbackNode!==a)return null;var l=rt;return l=Xr(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ry(t,l,n),by(t,bn()),t.callbackNode!=null&&t.callbackNode===a?Ey.bind(null,t):null)}function Ty(t,n){if(zu())return null;ry(t,n,!0)}function qE(){WE(function(){(dt&6)!==0?Yr(Ea,BE):_y()})}function Ph(){return Ya===0&&(Ya=Zr()),Ya}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:us(""+t)}function Sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function HE(t,n,a,l,m){if(n==="submit"&&a&&a.stateNode===m){var w=wy((m[ge]||null).action),N=l.submitter;N&&(n=(n=N[ge]||null)?wy(n.formAction):N.getAttribute("formAction"),n!==null&&(w=n,N=null));var P=new cs("action","action",null,l,m);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ya!==0){var q=N?Sy(m,N):new FormData(m);ih(a,{pending:!0,data:q,method:m.method,action:w},null,q)}}else typeof w=="function"&&(P.preventDefault(),q=N?Sy(m,N):new FormData(m),ih(a,{pending:!0,data:q,method:m.method,action:w},w,q))},currentTarget:m}]})}}for(var Uh=0;Uh<wf.length;Uh++){var zh=wf[Uh],FE=zh.toLowerCase(),GE=zh[0].toUpperCase()+zh.slice(1);gr(FE,"on"+GE)}gr(rp,"onAnimationEnd"),gr(ip,"onAnimationIteration"),gr(ap,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(uE,"onTransitionRun"),gr(cE,"onTransitionStart"),gr(fE,"onTransitionCancel"),gr(sp,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Ay(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],m=l.event;l=l.listeners;e:{var w=void 0;if(n)for(var N=l.length-1;0<=N;N--){var P=l[N],q=P.instance,J=P.currentTarget;if(P=P.listener,q!==w&&m.isPropagationStopped())break e;w=P,m.currentTarget=J;try{w(m)}catch(ae){Du(ae)}m.currentTarget=null,w=q}else for(N=0;N<l.length;N++){if(P=l[N],q=P.instance,J=P.currentTarget,P=P.listener,q!==w&&m.isPropagationStopped())break e;w=P,m.currentTarget=J;try{w(m)}catch(ae){Du(ae)}m.currentTarget=null,w=q}}}}function Ze(t,n){var a=n[Ie];a===void 0&&(a=n[Ie]=new Set);var l=t+"__bubble";a.has(l)||(Ry(n,t,2,!1),a.add(l))}function $h(t,n,a){var l=0;n&&(l|=4),Ry(a,t,l,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[qu]){t[qu]=!0,Qe.forEach(function(a){a!=="selectionchange"&&(QE.has(a)||$h(a,!1,t),$h(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qu]||(n[qu]=!0,$h("selectionchange",!1,n))}}function Ry(t,n,a,l){switch(Xy(n)){case 2:var m=bT;break;case 8:m=ET;break;default:m=nd}a=m.bind(null,n,a,t),m=void 0,!tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),l?m!==void 0?t.addEventListener(n,a,{capture:!0,passive:m}):t.addEventListener(n,a,!0):m!==void 0?t.addEventListener(n,a,{passive:m}):t.addEventListener(n,a,!1)}function qh(t,n,a,l,m){var w=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var P=l.stateNode.containerInfo;if(P===m)break;if(N===4)for(N=l.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;P!==null;){if(N=ke(P),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){l=w=N;continue e}P=P.parentNode}}l=l.return}Fl(function(){var J=w,ae=er(a),ue=[];e:{var ee=op.get(t);if(ee!==void 0){var te=cs,Ue=t;switch(t){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":te=gs;break;case"focusin":Ue="focus",te=ds;break;case"focusout":Ue="blur",te=ds;break;case"beforeblur":case"afterblur":te=ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Wl;break;case rp:case ip:case ap:te=ms;break;case sp:te=tu;break;case"scroll":case"scrollend":te=Gl;break;case"wheel":te=ys;break;case"copy":case"cut":case"paste":te=ps;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=So;break;case"toggle":case"beforetoggle":te=ru}var Ve=(n&4)!==0,_t=!Ve&&(t==="scroll"||t==="scrollend"),Q=Ve?ee!==null?ee+"Capture":null:ee;Ve=[];for(var F=J,X;F!==null;){var oe=F;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Q===null||(oe=xa(F,Q),oe!=null&&Ve.push(tl(F,oe,X))),_t)break;F=F.return}0<Ve.length&&(ee=new te(ee,Ue,null,a,ae),ue.push({event:ee,listeners:Ve}))}}if((n&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",ee&&a!==ei&&(Ue=a.relatedTarget||a.fromElement)&&(ke(Ue)||Ue[Ee]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ue=a.relatedTarget||a.toElement,te=J,Ue=Ue?ke(Ue):null,Ue!==null&&(_t=u(Ue),Ve=Ue.tag,Ue!==_t||Ve!==5&&Ve!==27&&Ve!==6)&&(Ue=null)):(te=null,Ue=J),te!==Ue)){if(Ve=nr,oe="onMouseLeave",Q="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=So,oe="onPointerLeave",Q="onPointerEnter",F="pointer"),_t=te==null?ee:ct(te),X=Ue==null?ee:ct(Ue),ee=new Ve(oe,F+"leave",te,a,ae),ee.target=_t,ee.relatedTarget=X,oe=null,ke(ae)===J&&(Ve=new Ve(Q,F+"enter",Ue,a,ae),Ve.target=X,Ve.relatedTarget=_t,oe=Ve),_t=oe,te&&Ue)t:{for(Ve=te,Q=Ue,F=0,X=Ve;X;X=Bs(X))F++;for(X=0,oe=Q;oe;oe=Bs(oe))X++;for(;0<F-X;)Ve=Bs(Ve),F--;for(;0<X-F;)Q=Bs(Q),X--;for(;F--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=Bs(Ve),Q=Bs(Q)}Ve=null}else Ve=null;te!==null&&xy(ue,ee,te,Ve,!1),Ue!==null&&_t!==null&&xy(ue,_t,Ue,Ve,!0)}}e:{if(ee=J?ct(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var we=Gm;else if(qt(ee))if(Qm)we=sE;else{we=iE;var Ye=rE}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&yo(J.elementType)&&(we=Gm):we=aE;if(we&&(we=we(t,J))){ai(ue,we,a,ae);break e}Ye&&Ye(t,ee,J),t==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Ii(ee,"number",ee.value)}switch(Ye=J?ct(J):window,t){case"focusin":(qt(Ye)||Ye.contentEditable==="true")&&(vs=Ye,bf=J,xo=null);break;case"focusout":xo=bf=vs=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,tp(ue,a,ae);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":tp(ue,a,ae)}var De;if(Nr)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else tt?ie(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(M&&a.locale!=="ko"&&(tt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&tt&&(De=_o()):(Dr=ae,Mi="value"in Dr?Dr.value:Dr.textContent,tt=!0)),Ye=Hu(J,Le),0<Ye.length&&(Le=new To(Le,t,null,a,ae),ue.push({event:Le,listeners:Ye}),De?Le.data=De:(De=ve(a),De!==null&&(Le.data=De)))),(De=C?Bt(t,a):nt(t,a))&&(Le=Hu(J,"onBeforeInput"),0<Le.length&&(Ye=new To("onBeforeInput","beforeinput",null,a,ae),ue.push({event:Ye,listeners:Le}),Ye.data=De)),HE(ue,t,J,a,ae)}Ay(ue,n)})}function tl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Hu(t,n){for(var a=n+"Capture",l=[];t!==null;){var m=t,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=xa(t,a),m!=null&&l.unshift(tl(t,m,w)),m=xa(t,n),m!=null&&l.push(tl(t,m,w))),t.tag===3)return l;t=t.return}return[]}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xy(t,n,a,l,m){for(var w=n._reactName,N=[];a!==null&&a!==l;){var P=a,q=P.alternate,J=P.stateNode;if(P=P.tag,q!==null&&q===l)break;P!==5&&P!==26&&P!==27||J===null||(q=J,m?(J=xa(a,w),J!=null&&N.unshift(tl(a,J,q))):m||(J=xa(a,w),J!=null&&N.push(tl(a,J,q)))),a=a.return}N.length!==0&&t.push({event:n,listeners:N})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(KE,"")}function Dy(t,n){return n=Cy(n),Cy(t)===n}function Fu(){}function vt(t,n,a,l,m,w){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Wn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":go(t,l,w);break;case"data":if(n!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=us(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(a==="formAction"?(n!=="input"&&vt(t,n,"name",m.name,m,null),vt(t,n,"formEncType",m.formEncType,m,null),vt(t,n,"formMethod",m.formMethod,m,null),vt(t,n,"formTarget",m.formTarget,m,null)):(vt(t,n,"encType",m.encType,m,null),vt(t,n,"method",m.method,m,null),vt(t,n,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=us(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fu);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),dn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=df.get(a)||a,dn(t,a,l))}}function Hh(t,n,a,l,m,w){switch(a){case"style":go(t,l,w);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),w=t[ge]||null,w=w!=null?w[a]:null,typeof w=="function"&&t.removeEventListener(n,w,m),typeof l=="function")){typeof w!="function"&&w!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,m);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dn(t,a,l)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,m=!1,w;for(w in a)if(a.hasOwnProperty(w)){var N=a[w];if(N!=null)switch(w){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,w,N,a,null)}}m&&vt(t,n,"srcSet",a.srcSet,a,null),l&&vt(t,n,"src",a.src,a,null);return;case"input":Ze("invalid",t);var P=w=N=m=null,q=null,J=null;for(l in a)if(a.hasOwnProperty(l)){var ae=a[l];if(ae!=null)switch(l){case"name":m=ae;break;case"type":N=ae;break;case"checked":q=ae;break;case"defaultChecked":J=ae;break;case"value":w=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,n));break;default:vt(t,n,l,ae,a,null)}}Sa(t,w,P,q,J,N,m,!1),ls(t);return;case"select":Ze("invalid",t),l=N=w=null;for(m in a)if(a.hasOwnProperty(m)&&(P=a[m],P!=null))switch(m){case"value":w=P;break;case"defaultValue":N=P;break;case"multiple":l=P;default:vt(t,n,m,P,a,null)}n=w,a=N,t.multiple=!!l,n!=null?Wr(t,!!l,n,!1):a!=null&&Wr(t,!!l,a,!0);return;case"textarea":Ze("invalid",t),w=m=l=null;for(N in a)if(a.hasOwnProperty(N)&&(P=a[N],P!=null))switch(N){case"value":l=P;break;case"defaultValue":m=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:vt(t,n,N,P,a,null)}Aa(t,l,m,w),ls(t);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,n,q,l,a,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<el.length;l++)Ze(el[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(l=a[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,J,l,a,null)}return;default:if(yo(n)){for(ae in a)a.hasOwnProperty(ae)&&(l=a[ae],l!==void 0&&Hh(t,n,ae,l,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null&&vt(t,n,P,l,a,null))}function XE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,N=null,P=null,q=null,J=null,ae=null;for(te in a){var ue=a[te];if(a.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":q=ue;default:l.hasOwnProperty(te)||vt(t,n,te,null,l,ue)}}for(var ee in l){var te=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":w=te;break;case"name":m=te;break;case"checked":J=te;break;case"defaultChecked":ae=te;break;case"value":N=te;break;case"defaultValue":P=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:te!==ue&&vt(t,n,ee,te,l,ue)}}kn(t,N,P,q,J,ae,w,m);return;case"select":te=N=P=ee=null;for(w in a)if(q=a[w],a.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":te=q;default:l.hasOwnProperty(w)||vt(t,n,w,null,l,q)}for(m in l)if(w=l[m],q=a[m],l.hasOwnProperty(m)&&(w!=null||q!=null))switch(m){case"value":ee=w;break;case"defaultValue":P=w;break;case"multiple":N=w;default:w!==q&&vt(t,n,m,w,l,q)}n=P,a=N,l=te,ee!=null?Wr(t,!!a,ee,!1):!!l!=!!a&&(n!=null?Wr(t,!!a,n,!0):Wr(t,!!a,a?[]:"",!1));return;case"textarea":te=ee=null;for(P in a)if(m=a[P],a.hasOwnProperty(P)&&m!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:vt(t,n,P,null,l,m)}for(N in l)if(m=l[N],w=a[N],l.hasOwnProperty(N)&&(m!=null||w!=null))switch(N){case"value":ee=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==w&&vt(t,n,N,m,l,w)}gt(t,ee,te);return;case"option":for(var Ue in a)if(ee=a[Ue],a.hasOwnProperty(Ue)&&ee!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:vt(t,n,Ue,null,l,ee)}for(q in l)if(ee=l[q],te=a[q],l.hasOwnProperty(q)&&ee!==te&&(ee!=null||te!=null))switch(q){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(t,n,q,ee,l,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)ee=a[Ve],a.hasOwnProperty(Ve)&&ee!=null&&!l.hasOwnProperty(Ve)&&vt(t,n,Ve,null,l,ee);for(J in l)if(ee=l[J],te=a[J],l.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:vt(t,n,J,ee,l,te)}return;default:if(yo(n)){for(var _t in a)ee=a[_t],a.hasOwnProperty(_t)&&ee!==void 0&&!l.hasOwnProperty(_t)&&Hh(t,n,_t,void 0,l,ee);for(ae in l)ee=l[ae],te=a[ae],!l.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||Hh(t,n,ae,ee,l,te);return}}for(var Q in a)ee=a[Q],a.hasOwnProperty(Q)&&ee!=null&&!l.hasOwnProperty(Q)&&vt(t,n,Q,null,l,ee);for(ue in l)ee=l[ue],te=a[ue],!l.hasOwnProperty(ue)||ee===te||ee==null&&te==null||vt(t,n,ue,ee,l,te)}var Fh=null,Gh=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function Oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===Yh?!1:(Yh=t,!0):(Yh=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(eT)}:My;function eT(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function Vy(t,n){var a=n,l=0,m=0;do{var w=a.nextSibling;if(t.removeChild(a),w&&w.nodeType===8)if(a=w.data,a==="/$"){if(0<l&&8>l){a=l;var N=t.ownerDocument;if(a&1&&nl(N.documentElement),a&2&&nl(N.body),a&4)for(a=N.head,nl(a),N=a.firstChild;N;){var P=N.nextSibling,q=N.nodeName;N[Ne]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=P}}if(m===0){t.removeChild(w),cl(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:l=a.charCodeAt(0)-48;else l=0;a=w}while(a);cl(n)}function Kh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kh(a),Ae(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ne])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=vr(t.nextSibling),t===null)break}return null}function nT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=vr(t.nextSibling),t===null))return null;return t}function Xh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function rT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function vr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Zh=null;function ky(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Ly(t,n,a){switch(n=Gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ae(t)}var ur=new Map,jy=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vi=se.d;se.d={f:iT,r:aT,D:sT,C:oT,L:lT,m:uT,X:fT,S:cT,M:hT};function iT(){var t=vi.f(),n=Pu();return t||n}function aT(t){var n=Ke(t);n!==null&&n.tag===5&&n.type==="form"?rg(n):vi.r(t)}var qs=typeof document>"u"?null:document;function Py(t,n,a){var l=qs;if(l&&typeof n=="string"&&n){var m=jt(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),jy.has(m)||(jy.add(m),t={rel:t,crossOrigin:a,href:n},l.querySelector(m)===null&&(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function sT(t){vi.D(t),Py("dns-prefetch",t,null)}function oT(t,n){vi.C(t,n),Py("preconnect",t,n)}function lT(t,n,a){vi.L(t,n,a);var l=qs;if(l&&t&&n){var m='link[rel="preload"][as="'+jt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+jt(a.imageSizes)+'"]')):m+='[href="'+jt(t)+'"]';var w=m;switch(n){case"style":w=Hs(t);break;case"script":w=Fs(t)}ur.has(w)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ur.set(w,t),l.querySelector(m)!==null||n==="style"&&l.querySelector(rl(w))||n==="script"&&l.querySelector(il(w))||(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function uT(t,n){vi.m(t,n);var a=qs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(t)+'"]',w=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Fs(t)}if(!ur.has(w)&&(t=E({rel:"modulepreload",href:t},n),ur.set(w,t),a.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(w)))return}l=a.createElement("link"),on(l,"link",t),et(l),a.head.appendChild(l)}}}function cT(t,n,a){vi.S(t,n,a);var l=qs;if(l&&t){var m=st(l).hoistableStyles,w=Hs(t);n=n||"default";var N=m.get(w);if(!N){var P={loading:0,preload:null};if(N=l.querySelector(rl(w)))P.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ur.get(w))&&Jh(t,a);var q=N=l.createElement("link");et(q),on(q,"link",t),q._p=new Promise(function(J,ae){q.onload=J,q.onerror=ae}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Yu(N,n,l)}N={type:"stylesheet",instance:N,count:1,state:P},m.set(w,N)}}}function fT(t,n){vi.X(t,n);var a=qs;if(a&&t){var l=st(a).hoistableScripts,m=Fs(t),w=l.get(m);w||(w=a.querySelector(il(m)),w||(t=E({src:t,async:!0},n),(n=ur.get(m))&&Wh(t,n),w=a.createElement("script"),et(w),on(w,"link",t),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(m,w))}}function hT(t,n){vi.M(t,n);var a=qs;if(a&&t){var l=st(a).hoistableScripts,m=Fs(t),w=l.get(m);w||(w=a.querySelector(il(m)),w||(t=E({src:t,async:!0,type:"module"},n),(n=ur.get(m))&&Wh(t,n),w=a.createElement("script"),et(w),on(w,"link",t),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(m,w))}}function Uy(t,n,a,l){var m=(m=xe.current)?Qu(m):null;if(!m)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Hs(a.href),a=st(m).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Hs(a.href);var w=st(m).hoistableStyles,N=w.get(t);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,N),(w=m.querySelector(rl(t)))&&!w._p&&(N.instance=w,N.state.loading=5),ur.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ur.set(t,a),w||dT(m,t,a,N.state))),n&&l===null)throw Error(s(528,""));return N}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(a),a=st(m).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Hs(t){return'href="'+jt(t)+'"'}function rl(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",a),et(n),t.head.appendChild(n))}function Fs(t){return'[src="'+jt(t)+'"]'}function il(t){return"script[async]"+t}function $y(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+jt(a.href)+'"]');if(l)return n.instance=l,et(l),l;var m=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),on(l,"style",m),Yu(l,a.precedence,t),n.instance=l;case"stylesheet":m=Hs(a.href);var w=t.querySelector(rl(m));if(w)return n.state.loading|=4,n.instance=w,et(w),w;l=zy(a),(m=ur.get(m))&&Jh(l,m),w=(t.ownerDocument||t).createElement("link"),et(w);var N=w;return N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(w,"link",l),n.state.loading|=4,Yu(w,a.precedence,t),n.instance=w;case"script":return w=Fs(a.src),(m=t.querySelector(il(w)))?(n.instance=m,et(m),m):(l=a,(m=ur.get(w))&&(l=E({},a),Wh(l,m)),t=t.ownerDocument||t,m=t.createElement("script"),et(m),on(m,"link",l),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Yu(l,a.precedence,t));return n.instance}function Yu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,w=m,N=0;N<l.length;N++){var P=l[N];if(P.dataset.precedence===n)w=P;else if(w!==m)break}w?w.parentNode.insertBefore(t,w.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ku=null;function By(t,n,a){if(Ku===null){var l=new Map,m=Ku=new Map;m.set(a,l)}else m=Ku,l=m.get(a),l||(l=new Map,m.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var w=a[m];if(!(w[Ne]||w[le]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(n)||"";N=t+N;var P=l.get(N);P?P.push(w):l.set(N,[w])}}return l}function qy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var al=null;function pT(){}function gT(t,n,a){if(al===null)throw Error(s(475));var l=al;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Hs(a.href),w=t.querySelector(rl(m));if(w){t=w._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=w,et(w);return}w=t.ownerDocument||t,a=zy(a),(m=ur.get(m))&&Jh(a,m),w=w.createElement("link"),et(w);var N=w;N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(w,"link",a),n.instance=w}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function yT(){if(al===null)throw Error(s(475));var t=al;return t.stylesheets&&t.count===0&&ed(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function ed(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,n.forEach(vT,t),Zu=null,Xu.call(t))}function vT(t,n){if(!(n.state.loading&4)){var a=Zu.get(t);if(a)var l=a.get(null);else{a=new Map,Zu.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var N=m[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),l=N)}l&&a.set(null,l)}m=n.instance,N=m.getAttribute("data-precedence"),w=a.get(N)||l,w===l&&a.set(null,m),a.set(N,m),this.count++,l=Xu.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),w?w.parentNode.insertBefore(m,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var sl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function _T(t,n,a,l,m,w,N,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Fy(t,n,a,l,m,w,N,P,q,J,ae,ue){return t=new _T(t,n,a,N,P,q,J,ue),n=1,w===!0&&(n|=24),w=jn(3,null,null,n),t.current=w,w.stateNode=t,n=kf(),n.refCount++,t.pooledCache=n,n.refCount++,w.memoizedState={element:l,isDehydrated:a,cache:n},Uf(w),t}function Gy(t){return t?(t=Ts,t):Ts}function Qy(t,n,a,l,m,w){m=Gy(m),l.context===null?l.context=m:l.pendingContext=m,l=ki(n),l.payload={element:a},w=w===void 0?null:w,w!==null&&(l.callback=w),a=Li(t,l,n),a!==null&&(Bn(a,t,n),Lo(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function td(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13){var n=Es(t,67108864);n!==null&&Bn(n,t,67108864),td(t,67108864)}}var Ju=!0;function bT(t,n,a,l){var m=G.T;G.T=null;var w=se.p;try{se.p=2,nd(t,n,a,l)}finally{se.p=w,G.T=m}}function ET(t,n,a,l){var m=G.T;G.T=null;var w=se.p;try{se.p=8,nd(t,n,a,l)}finally{se.p=w,G.T=m}}function nd(t,n,a,l){if(Ju){var m=rd(l);if(m===null)qh(t,n,l,Wu,a),Zy(t,l);else if(wT(m,t,n,a,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<TT.indexOf(t)){for(;m!==null;){var w=Ke(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=Mn(w.pendingLanes);if(N!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var q=1<<31-kt(N);P.entanglements[1]|=q,N&=~q}Ur(w),(dt&6)===0&&(Lu=bn()+500,Wo(0))}}break;case 13:P=Es(w,2),P!==null&&Bn(P,w,2),Pu(),td(w,2)}if(w=rd(l),w===null&&qh(t,n,l,Wu,a),w===m)break;m=w}m!==null&&l.stopPropagation()}else qh(t,n,l,null,a)}}function rd(t){return t=er(t),id(t)}var Wu=null;function id(t){if(Wu=null,t=ke(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wu=t,null}function Xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ho()){case Ea:return 2;case Si:return 8;case Kr:case dr:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var ad=!1,Ki=null,Xi=null,Zi=null,ol=new Map,ll=new Map,Ji=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(t,n,a,l,m,w){return t===null||t.nativeEvent!==w?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:w,targetContainers:[m]},n!==null&&(n=Ke(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function wT(t,n,a,l,m){switch(n){case"focusin":return Ki=ul(Ki,t,n,a,l,m),!0;case"dragenter":return Xi=ul(Xi,t,n,a,l,m),!0;case"mouseover":return Zi=ul(Zi,t,n,a,l,m),!0;case"pointerover":var w=m.pointerId;return ol.set(w,ul(ol.get(w)||null,t,n,a,l,m)),!0;case"gotpointercapture":return w=m.pointerId,ll.set(w,ul(ll.get(w)||null,t,n,a,l,m)),!0}return!1}function Jy(t){var n=ke(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Y(t.priority,function(){if(a.tag===13){var l=$n();l=Ar(l);var m=Es(a,l);m!==null&&Bn(m,a,l),td(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ei=l,a.target.dispatchEvent(l),ei=null}else return n=Ke(a),n!==null&&Ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Wy(t,n,a){ec(t)&&a.delete(n)}function ST(){ad=!1,Ki!==null&&ec(Ki)&&(Ki=null),Xi!==null&&ec(Xi)&&(Xi=null),Zi!==null&&ec(Zi)&&(Zi=null),ol.forEach(Wy),ll.forEach(Wy)}function tc(t,n){t.blockedOn===n&&(t.blockedOn=null,ad||(ad=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ST)))}var nc=null;function ev(t){nc!==t&&(nc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],m=t[n+2];if(typeof l!="function"){if(id(l||a)===null)continue;break}var w=Ke(a);w!==null&&(t.splice(n,3),n-=3,ih(w,{pending:!0,data:m,method:a.method,action:l},l,m))}}))}function cl(t){function n(q){return tc(q,t)}Ki!==null&&tc(Ki,t),Xi!==null&&tc(Xi,t),Zi!==null&&tc(Zi,t),ol.forEach(n),ll.forEach(n);for(var a=0;a<Ji.length;a++){var l=Ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&Ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var m=a[l],w=a[l+1],N=m[ge]||null;if(typeof w=="function")N||ev(a);else if(N){var P=null;if(w&&w.hasAttribute("formAction")){if(m=w,N=w[ge]||null)P=N.formAction;else if(id(m)!==null)continue}else P=N.action;typeof P=="function"?a[l+1]=P:(a.splice(l,3),l-=3),ev(a)}}}function sd(t){this._internalRoot=t}rc.prototype.render=sd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=$n();Qy(a,l,t,n,null,null)},rc.prototype.unmount=sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),Pu(),n[Ee]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=H();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ji.length&&n!==0&&n<Ji[a].priority;a++);Ji.splice(a,0,t),a===0&&Jy(t)}};var tv=e.version;if(tv!=="19.1.0")throw Error(s(527,tv,"19.1.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var AT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{lt=ic.inject(AT),He=ic}catch{}}return hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",m=yg,w=vg,N=_g,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=Fy(t,1,!1,null,null,a,l,m,w,N,P,null),t[Ee]=n.current,Bh(t),new sd(n)},hl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,m="",w=yg,N=vg,P=_g,q=null,J=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks),a.formState!==void 0&&(J=a.formState)),n=Fy(t,1,!0,n,a??null,l,m,w,N,P,q,J),n.context=Gy(null),a=n.current,l=$n(),l=Ar(l),m=ki(l),m.callback=null,Li(a,m,l),a=l,n.current.lanes=a,mr(n,a),Ur(n),t[Ee]=n.current,Bh(t),new rc(n)},hl.version="19.1.0",hl}var hv;function kT(){if(hv)return ud.exports;hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ud.exports=VT(),ud.exports}var LT=kT(),dl={},dv;function jT(){if(dv)return dl;dv=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=f,dl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function f(g,_){const v=new u,b=g.length;if(b<2)return v;const R=(_==null?void 0:_.decode)||E;let T=0;do{const A=g.indexOf("=",T);if(A===-1)break;const D=g.indexOf(";",T),V=D===-1?b:D;if(A>V){T=g.lastIndexOf(";",A-1)+1;continue}const L=c(g,T,A),k=p(g,A,L),I=g.slice(L,k);if(v[I]===void 0){let S=c(g,A+1,V),x=p(g,V,S);const O=R(g.slice(S,x));v[I]=O}T=V+1}while(T<b);return v}function c(g,_,v){do{const b=g.charCodeAt(_);if(b!==32&&b!==9)return _}while(++_<v);return v}function p(g,_,v){for(;_>v;){const b=g.charCodeAt(--_);if(b!==32&&b!==9)return _+1}return v}function y(g,_,v){const b=(v==null?void 0:v.encode)||encodeURIComponent;if(!i.test(g))throw new TypeError(`argument name is invalid: ${g}`);const R=b(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let T=g+"="+R;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!s.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function E(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function d(g){return o.call(g)==="[object Date]"}return dl}jT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y_=i=>{throw TypeError(i)},PT=(i,e,r)=>e.has(i)||Y_("Cannot "+r),dd=(i,e,r)=>(PT(i,e,"read from private field"),r?r.call(i):e.get(i)),UT=(i,e,r)=>e.has(i)?Y_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,r),mv="popstate";function zT(i={}){function e(o,u){let{pathname:f="/",search:c="",hash:p=""}=Ti(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Rl("",{pathname:f,search:c,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");c=y===-1?p:p.slice(0,y)}return c+"#"+(typeof u=="string"?u:ua(u))}function s(o,u){Vt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return BT(e,r,s,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $T(){return Math.random().toString(36).substring(2,10)}function pv(i,e){return{usr:i.state,key:i.key,idx:e}}function Rl(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ti(e):e,state:r,key:e&&e.key||s||$T()}}function ua({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ti(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function BT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,c="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function d(){c="POP";let R=E(),T=R==null?null:R-y;y=R,p&&p({action:c,location:b.location,delta:T})}function g(R,T){c="PUSH";let A=Rl(b.location,R,T);r&&r(A,R),y=E()+1;let D=pv(A,y),V=b.createHref(A);try{f.pushState(D,"",V)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(V)}u&&p&&p({action:c,location:b.location,delta:1})}function _(R,T){c="REPLACE";let A=Rl(b.location,R,T);r&&r(A,R),y=E();let D=pv(A,y),V=b.createHref(A);f.replaceState(D,"",V),u&&p&&p({action:c,location:b.location,delta:0})}function v(R){let T=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof R=="string"?R:ua(R);return A=A.replace(/ $/,"%20"),Je(T,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,T)}let b={get action(){return c},get location(){return i(o,f)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,d),p=R,()=>{o.removeEventListener(mv,d),p=null}},createHref(R){return e(o,R)},createURL:v,encodeLocation(R){let T=v(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:_,go(R){return f.go(R)}};return b}var yl,gv=class{constructor(i){if(UT(this,yl,new Map),i)for(let[e,r]of i)this.set(e,r)}get(i){if(dd(this,yl).has(i))return dd(this,yl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){dd(this,yl).set(i,e)}};yl=new WeakMap;var qT=new Set(["lazy","caseSensitive","path","id","index","children"]);function HT(i){return qT.has(i)}var FT=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function GT(i){return FT.has(i)}function QT(i){return i.index===!0}function Tc(i,e,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],c=typeof o.id=="string"?o.id:f.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!s[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),QT(o)){let p={...o,...e(o),id:c};return s[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return s[c]=p,o.children&&(p.children=Tc(o.children,e,f,s)),p}})}function ta(i,e,r="/"){return dc(i,e,r,!1)}function dc(i,e,r,s){let o=typeof e=="string"?Ti(e):e,u=hr(o.pathname||"/",r);if(u==null)return null;let f=K_(i);KT(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let y=sw(u);c=iw(f[p],y,s)}return c}function YT(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function K_(i,e=[],r=[],s=""){let o=(u,f,c)=>{let p={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=$r([s,p.relativePath]),E=r.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),K_(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:nw(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,f);else for(let p of X_(u.path))o(u,f,p)}),e}function X_(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=X_(s.join("/")),c=[];return c.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&c.push(...f),c.map(p=>i.startsWith("/")&&p===""?"/":p)}function KT(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:rw(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var XT=/^:[\w-]+$/,ZT=3,JT=2,WT=1,ew=10,tw=-2,yv=i=>i==="*";function nw(i,e){let r=i.split("/"),s=r.length;return r.some(yv)&&(s+=tw),e&&(s+=JT),r.filter(o=>!yv(o)).reduce((o,u)=>o+(XT.test(u)?ZT:u===""?WT:ew),s)}function rw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function iw(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let c=0;c<s.length;++c){let p=s[c],y=c===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",d=wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),g=p.route;if(!d&&y&&r&&!s[s.length-1].route.index&&(d=wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!d)return null;Object.assign(o,d.params),f.push({params:o,pathname:$r([u,d.pathname]),pathnameBase:uw($r([u,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(u=$r([u,d.pathnameBase]))}return f}function wc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=aw(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:d},g)=>{if(E==="*"){let v=c[g]||"";f=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const _=c[g];return d&&!_?y[E]=void 0:y[E]=(_||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function aw(i,e=!1,r=!0){Vt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(s.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function ow(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Ti(i):i;return{pathname:r?r.startsWith("/")?r:lw(r,e):e,search:cw(s),hash:fw(o)}}function lw(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function md(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z_(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function em(i){let e=Z_(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function tm(i,e,r,s=!1){let o;typeof i=="string"?o=Ti(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),md("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),md("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),md("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,c;if(f==null)c=r;else{let d=e.length-1;if(!s&&f.startsWith("..")){let g=f.split("/");for(;g[0]==="..";)g.shift(),d-=1;o.pathname=g.join("/")}c=d>=0?e[d]:"/"}let p=ow(o,c),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var $r=i=>i.join("/").replace(/\/\/+/g,"/"),uw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),cw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Sc=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function xl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var J_=["POST","PUT","PATCH","DELETE"],hw=new Set(J_),dw=["GET",...J_],mw=new Set(dw),pw=new Set([301,302,303,307,308]),gw=new Set([307,308]),pd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ml={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),W_="remix-router-transitions",e0=Symbol("ResetLoaderData");function _w(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||vw,u={},f=Tc(i.routes,o,void 0,u),c,p=i.basename||"/",y=i.dataStrategy||Sw,E={unstable_middleware:!1,...i.future},d=null,g=new Set,_=null,v=null,b=null,R=i.hydrationData!=null,T=ta(f,i.history.location,p),A=!1,D=null;if(T==null&&!i.patchRoutesOnNavigation){let H=cr(404,{pathname:i.history.location.pathname}),{matches:Y,route:Z}=Dv(f);T=Y,D={[Z.id]:H}}T&&!i.hydrationData&&En(T,f,i.history.location.pathname).active&&(T=null);let V;if(T)if(T.some(H=>H.route.lazy))V=!1;else if(!T.some(H=>H.route.loader))V=!0;else{let H=i.hydrationData?i.hydrationData.loaderData:null,Y=i.hydrationData?i.hydrationData.errors:null;if(Y){let Z=T.findIndex(le=>Y[le.route.id]!==void 0);V=T.slice(0,Z+1).every(le=>!Cd(le.route,H,Y))}else V=T.every(Z=>!Cd(Z.route,H,Y))}else{V=!1,T=[];let H=En(null,f,i.history.location.pathname);H.active&&H.matches&&(A=!0,T=H.matches)}let L,k={historyAction:i.history.action,location:i.history.location,matches:T,initialized:V,navigation:pd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I="POP",S=!1,x,O=!1,j=new Map,$=null,U=!1,he=!1,pe=new Set,G=new Map,se=0,ye=-1,Re=new Map,B=new Set,ne=new Map,me=new Map,ce=new Set,_e=new Map,je,xe=null;function Tt(){if(d=i.history.listen(({action:H,location:Y,delta:Z})=>{if(je){je(),je=void 0;return}Vt(_e.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=xi({currentLocation:k.location,nextLocation:Y,historyAction:H});if(le&&Z!=null){let ge=new Promise(Ee=>{je=Ee});i.history.go(Z*-1),Kn(le,{state:"blocked",location:Y,proceed(){Kn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ge.then(()=>i.history.go(Z))},reset(){let Ee=new Map(k.blockers);Ee.set(le,ml),St({blockers:Ee})}});return}return _n(H,Y)}),r){kw(e,j);let H=()=>Lw(e,j);e.addEventListener("pagehide",H),$=()=>e.removeEventListener("pagehide",H)}return k.initialized||_n("POP",k.location,{initialHydration:!0}),L}function pt(){d&&d(),$&&$(),g.clear(),x&&x.abort(),k.fetchers.forEach((H,Y)=>kt(Y)),k.blockers.forEach((H,Y)=>Xr(Y))}function Gn(H){return g.add(H),()=>g.delete(H)}function St(H,Y={}){k={...k,...H};let Z=[],le=[];k.fetchers.forEach((ge,Ee)=>{ge.state==="idle"&&(ce.has(Ee)?Z.push(Ee):le.push(Ee))}),ce.forEach(ge=>{!k.fetchers.has(ge)&&!G.has(ge)&&Z.push(ge)}),[...g].forEach(ge=>ge(k,{deletedFetchers:Z,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),Z.forEach(ge=>kt(ge)),le.forEach(ge=>k.fetchers.delete(ge))}function fn(H,Y,{flushSync:Z}={}){var Ce,Ne;let le=k.actionData!=null&&k.navigation.formMethod!=null&&Hn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((Ce=H.state)==null?void 0:Ce._isRedirect)!==!0,ge;Y.actionData?Object.keys(Y.actionData).length>0?ge=Y.actionData:ge=null:le?ge=k.actionData:ge=null;let Ee=Y.loaderData?xv(k.loaderData,Y.loaderData,Y.matches||[],Y.errors):k.loaderData,Ie=k.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Ae,ke)=>Ie.set(ke,ml)));let Te=S===!0||k.navigation.formMethod!=null&&Hn(k.navigation.formMethod)&&((Ne=H.state)==null?void 0:Ne._isRedirect)!==!0;c&&(f=c,c=void 0),U||I==="POP"||(I==="PUSH"?i.history.push(H,H.state):I==="REPLACE"&&i.history.replace(H,H.state));let Se;if(I==="POP"){let Ae=j.get(k.location.pathname);Ae&&Ae.has(H.pathname)?Se={currentLocation:k.location,nextLocation:H}:j.has(H.pathname)&&(Se={currentLocation:H,nextLocation:k.location})}else if(O){let Ae=j.get(k.location.pathname);Ae?Ae.add(H.pathname):(Ae=new Set([H.pathname]),j.set(k.location.pathname,Ae)),Se={currentLocation:k.location,nextLocation:H}}St({...Y,actionData:ge,loaderData:Ee,historyAction:I,location:H,initialized:!0,navigation:pd,revalidation:"idle",restoreScrollPosition:Ci(H,Y.matches||k.matches),preventScrollReset:Te,blockers:Ie},{viewTransitionOpts:Se,flushSync:Z===!0}),I="POP",S=!1,O=!1,U=!1,he=!1,xe==null||xe.resolve(),xe=null}async function br(H,Y){if(typeof H=="number"){i.history.go(H);return}let Z=xd(k.location,k.matches,p,H,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:le,submission:ge,error:Ee}=vv(!1,Z,Y),Ie=k.location,Te=Rl(k.location,le,Y&&Y.state);Te={...Te,...i.history.encodeLocation(Te)};let Se=Y&&Y.replace!=null?Y.replace:void 0,Ce="PUSH";Se===!0?Ce="REPLACE":Se===!1||ge!=null&&Hn(ge.formMethod)&&ge.formAction===k.location.pathname+k.location.search&&(Ce="REPLACE");let Ne=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Ae=(Y&&Y.flushSync)===!0,ke=xi({currentLocation:Ie,nextLocation:Te,historyAction:Ce});if(ke){Kn(ke,{state:"blocked",location:Te,proceed(){Kn(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),br(H,Y)},reset(){let Ke=new Map(k.blockers);Ke.set(ke,ml),St({blockers:Ke})}});return}await _n(Ce,Te,{submission:ge,pendingError:Ee,preventScrollReset:Ne,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Ae})}function Yr(){xe||(xe=jw()),Ri(),St({revalidation:"loading"});let H=xe.promise;return k.navigation.state==="submitting"?H:k.navigation.state==="idle"?(_n(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),H):(_n(I||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:O===!0}),H)}async function _n(H,Y,Z){x&&x.abort(),x=null,I=H,U=(Z&&Z.startUninterruptedRevalidation)===!0,mr(k.location,k.matches),S=(Z&&Z.preventScrollReset)===!0,O=(Z&&Z.enableViewTransition)===!0;let le=c||f,ge=Z&&Z.overrideNavigation,Ee=Z!=null&&Z.initialHydration&&k.matches&&k.matches.length>0&&!A?k.matches:ta(le,Y,p),Ie=(Z&&Z.flushSync)===!0;if(Ee&&k.initialized&&!he&&Ow(k.location,Y)&&!(Z&&Z.submission&&Hn(Z.submission.formMethod))){fn(Y,{matches:Ee},{flushSync:Ie});return}let Te=En(Ee,le,Y.pathname);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){let{error:st,notFoundMatches:et,route:Qe}=Zr(Y.pathname);fn(Y,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:Ie});return}x=new AbortController;let Se=Gs(i.history,Y,x.signal,Z&&Z.submission),Ce=new gv(i.unstable_getContext?await i.unstable_getContext():void 0),Ne;if(Z&&Z.pendingError)Ne=[Za(Ee).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Hn(Z.submission.formMethod)){let st=await ba(Se,Y,Z.submission,Ee,Ce,Te.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Ie});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if(qn(Qe)&&xl(Qe.error)&&Qe.error.status===404){x=null,fn(Y,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}Ee=st.matches||Ee,Ne=st.pendingActionResult,ge=gd(Y,Z.submission),Ie=!1,Te.active=!1,Se=Gs(i.history,Se.url,Se.signal)}let{shortCircuited:Ae,matches:ke,loaderData:Ke,errors:ct}=await ss(Se,Y,Ee,Ce,Te.active,ge,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ie,Ne);Ae||(x=null,fn(Y,{matches:ke||Ee,...Cv(Ne),loaderData:Ke,errors:ct}))}async function ba(H,Y,Z,le,ge,Ee,Ie,Te={}){Ri();let Se=Nw(Y,Z);if(St({navigation:Se},{flushSync:Te.flushSync===!0}),Ee){let Ae=await Sr(le,Y.pathname,H.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let ke=Za(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[ke,{type:"error",error:Ae.error}]}}else if(Ae.matches)le=Ae.matches;else{let{notFoundMatches:ke,error:Ke,route:ct}=Zr(Y.pathname);return{matches:ke,pendingActionResult:[ct.id,{type:"error",error:Ke}]}}}let Ce,Ne=vl(le,Y);if(!Ne.route.action&&!Ne.route.lazy)Ce={type:"error",error:cr(405,{method:H.method,pathname:Y.pathname,routeId:Ne.route.id})};else{let Ae=Zs(o,u,H,le,Ne,Ie?[]:s,ge),ke=await Qn(H,Ae,ge,null);if(Ce=ke[Ne.route.id],!Ce){for(let Ke of le)if(ke[Ke.route.id]){Ce=ke[Ke.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Ja(Ce)){let Ae;return Te&&Te.replace!=null?Ae=Te.replace:Ae=Sv(Ce.response.headers.get("Location"),new URL(H.url),p)===k.location.pathname+k.location.search,await dr(H,Ce,!0,{submission:Z,replace:Ae}),{shortCircuited:!0}}if(qn(Ce)){let Ae=Za(le,Ne.route.id);return(Te&&Te.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Ae.route.id,Ce,Ne.route.id]}}return{matches:le,pendingActionResult:[Ne.route.id,Ce]}}async function ss(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce,Ne,Ae){let ke=Ee||gd(Y,Ie),Ke=Ie||Te||Iv(ke),ct=!U&&!Ce;if(ge){if(ct){let Lt=bn(Ae);St({navigation:ke,...Lt!==void 0?{actionData:Lt}:{}},{flushSync:Ne})}let ze=await Sr(Z,Y.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Lt=Za(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Lt]:ze.error}}}else if(ze.matches)Z=ze.matches;else{let{error:Lt,notFoundMatches:Vn,route:Rn}=Zr(Y.pathname);return{matches:Vn,loaderData:{},errors:{[Rn.id]:Lt}}}}let st=c||f,{dsMatches:et,revalidatingFetchers:Qe}=_v(H,le,o,u,i.history,k,Z,Ke,Y,Ce?[]:s,Ce===!0,he,pe,ce,ne,B,st,p,Ae);if(ye=++se,!i.dataStrategy&&!et.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Tr();return fn(Y,{matches:Z,loaderData:{},errors:Ae&&qn(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...Cv(Ae),...ze?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ct){let ze={};if(!ge){ze.navigation=ke;let Lt=bn(Ae);Lt!==void 0&&(ze.actionData=Lt)}Qe.length>0&&(ze.fetchers=ho(Qe)),St(ze,{flushSync:Ne})}Qe.forEach(ze=>{Yn(ze.key),ze.controller&&G.set(ze.key,ze.controller)});let Zn=()=>Qe.forEach(ze=>Yn(ze.key));x&&x.signal.addEventListener("abort",Zn);let{loaderResults:$t,fetcherResults:Tn}=await Ai(et,Qe,H,le);if(H.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Zn),Qe.forEach(ze=>G.delete(ze.key));let tn=ac($t);if(tn)return await dr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};if(tn=ac(Tn),tn)return B.add(tn.key),await dr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Rr,errors:Nn}=Rv(k,Z,$t,Ae,Qe,Tn);Ce&&k.errors&&(Nn={...k.errors,...Nn});let Oi=Tr(),dn=wr(ye),wn=Oi||dn||Qe.length>0;return{matches:Z,loaderData:Rr,errors:Nn,...wn?{fetchers:new Map(k.fetchers)}:{}}}function bn(H){if(H&&!qn(H[1]))return{[H[0]]:H[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function ho(H){return H.forEach(Y=>{let Z=k.fetchers.get(Y.key),le=pl(void 0,Z?Z.data:void 0);k.fetchers.set(Y.key,le)}),new Map(k.fetchers)}async function Ea(H,Y,Z,le){Yn(H);let ge=(le&&le.flushSync)===!0,Ee=c||f,Ie=xd(k.location,k.matches,p,Z,Y,le==null?void 0:le.relative),Te=ta(Ee,Ie,p),Se=En(Te,Ee,Ie);if(Se.active&&Se.matches&&(Te=Se.matches),!Te){He(H,Y,cr(404,{pathname:Ie}),{flushSync:ge});return}let{path:Ce,submission:Ne,error:Ae}=vv(!0,Ie,le);if(Ae){He(H,Y,Ae,{flushSync:ge});return}let ke=vl(Te,Ce),Ke=new gv(i.unstable_getContext?await i.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Ne&&Hn(Ne.formMethod)){await Si(H,Y,Ce,ke,Te,Ke,Se.active,ge,ct,Ne);return}ne.set(H,{routeId:Y,path:Ce}),await Kr(H,Y,Ce,ke,Te,Ke,Se.active,ge,ct,Ne)}async function Si(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce){Ri(),ne.delete(H);function Ne(bt){if(!bt.route.action&&!bt.route.lazy){let Jn=cr(405,{method:Ce.formMethod,pathname:Z,routeId:Y});return He(H,Y,Jn,{flushSync:Te}),!0}return!1}if(!Ie&&Ne(le))return;let Ae=k.fetchers.get(H);lt(H,Vw(Ce,Ae),{flushSync:Te});let ke=new AbortController,Ke=Gs(i.history,Z,ke.signal,Ce);if(Ie){let bt=await Sr(ge,Z,Ke.signal,H);if(bt.type==="aborted")return;if(bt.type==="error"){He(H,Y,bt.error,{flushSync:Te});return}else if(bt.matches){if(ge=bt.matches,le=vl(ge,Z),Ne(le))return}else{He(H,Y,cr(404,{pathname:Z}),{flushSync:Te});return}}G.set(H,ke);let ct=se,st=Zs(o,u,Ke,ge,le,s,Ee),Qe=(await Qn(Ke,st,Ee,H))[le.route.id];if(Ke.signal.aborted){G.get(H)===ke&&G.delete(H);return}if(ce.has(H)){if(Ja(Qe)||qn(Qe)){lt(H,ea(void 0));return}}else{if(Ja(Qe))if(G.delete(H),ye>ct){lt(H,ea(void 0));return}else return B.add(H),lt(H,pl(Ce)),dr(Ke,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(qn(Qe)){He(H,Y,Qe.error);return}}let Zn=k.navigation.location||k.location,$t=Gs(i.history,Zn,ke.signal),Tn=c||f,tn=k.navigation.state!=="idle"?ta(Tn,k.navigation.location,p):k.matches;Je(tn,"Didn't find any matches after fetcher action");let Rr=++se;Re.set(H,Rr);let Nn=pl(Ce,Qe.data);k.fetchers.set(H,Nn);let{dsMatches:Oi,revalidatingFetchers:dn}=_v($t,Ee,o,u,i.history,k,tn,Ce,Zn,s,!1,he,pe,ce,ne,B,Tn,p,[le.route.id,Qe]);dn.filter(bt=>bt.key!==H).forEach(bt=>{let Jn=bt.key,Jr=k.fetchers.get(Jn),nn=pl(void 0,Jr?Jr.data:void 0);k.fetchers.set(Jn,nn),Yn(Jn),bt.controller&&G.set(Jn,bt.controller)}),St({fetchers:new Map(k.fetchers)});let wn=()=>dn.forEach(bt=>Yn(bt.key));ke.signal.addEventListener("abort",wn);let{loaderResults:ze,fetcherResults:Lt}=await Ai(Oi,dn,$t,Ee);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",wn),Re.delete(H),G.delete(H),dn.forEach(bt=>G.delete(bt.key));let Vn=ac(ze);if(Vn)return dr($t,Vn.result,!1,{preventScrollReset:Se});if(Vn=ac(Lt),Vn)return B.add(Vn.key),dr($t,Vn.result,!1,{preventScrollReset:Se});let{loaderData:Rn,errors:xr}=Rv(k,tn,ze,void 0,dn,Lt);if(k.fetchers.has(H)){let bt=ea(Qe.data);k.fetchers.set(H,bt)}wr(Rr),k.navigation.state==="loading"&&Rr>ye?(Je(I,"Expected pending action"),x&&x.abort(),fn(k.navigation.location,{matches:tn,loaderData:Rn,errors:xr,fetchers:new Map(k.fetchers)})):(St({errors:xr,loaderData:xv(k.loaderData,Rn,tn,xr),fetchers:new Map(k.fetchers)}),he=!1)}async function Kr(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce){let Ne=k.fetchers.get(H);lt(H,pl(Ce,Ne?Ne.data:void 0),{flushSync:Te});let Ae=new AbortController,ke=Gs(i.history,Z,Ae.signal);if(Ie){let Qe=await Sr(ge,Z,ke.signal,H);if(Qe.type==="aborted")return;if(Qe.type==="error"){He(H,Y,Qe.error,{flushSync:Te});return}else if(Qe.matches)ge=Qe.matches,le=vl(ge,Z);else{He(H,Y,cr(404,{pathname:Z}),{flushSync:Te});return}}G.set(H,Ae);let Ke=se,ct=Zs(o,u,ke,ge,le,s,Ee),et=(await Qn(ke,ct,Ee,H))[le.route.id];if(G.get(H)===Ae&&G.delete(H),!ke.signal.aborted){if(ce.has(H)){lt(H,ea(void 0));return}if(Ja(et))if(ye>Ke){lt(H,ea(void 0));return}else{B.add(H),await dr(ke,et,!1,{preventScrollReset:Se});return}if(qn(et)){He(H,Y,et.error);return}lt(H,ea(et.data))}}async function dr(H,Y,Z,{submission:le,fetcherSubmission:ge,preventScrollReset:Ee,replace:Ie}={}){Y.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Te=Y.response.headers.get("Location");Je(Te,"Expected a Location header on the redirect Response"),Te=Sv(Te,new URL(H.url),p);let Se=Rl(k.location,Te,{_isRedirect:!0});if(r){let ct=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(nm.test(Te)){const st=i.history.createURL(Te);ct=st.origin!==e.location.origin||hr(st.pathname,p)==null}if(ct){Ie?e.location.replace(Te):e.location.assign(Te);return}}x=null;let Ce=Ie===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ae,formEncType:ke}=k.navigation;!le&&!ge&&Ne&&Ae&&ke&&(le=Iv(k.navigation));let Ke=le||ge;if(gw.has(Y.response.status)&&Ke&&Hn(Ke.formMethod))await _n(Ce,Se,{submission:{...Ke,formAction:Te},preventScrollReset:Ee||S,enableViewTransition:Z?O:void 0});else{let ct=gd(Se,le);await _n(Ce,Se,{overrideNavigation:ct,fetcherSubmission:ge,preventScrollReset:Ee||S,enableViewTransition:Z?O:void 0})}}async function Qn(H,Y,Z,le){let ge,Ee={};try{ge=await Aw(y,H,Y,le,Z,!1)}catch(Ie){return Y.filter(Te=>Te.shouldLoad).forEach(Te=>{Ee[Te.route.id]={type:"error",error:Ie}}),Ee}for(let[Ie,Te]of Object.entries(ge))if(Iw(Te)){let Se=Te.result;Ee[Ie]={type:"redirect",response:Cw(Se,H,Ie,Y,p)}}else Ee[Ie]=await xw(Te);return Ee}async function Ai(H,Y,Z,le){let ge=Qn(Z,H,le,null),Ee=Promise.all(Y.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ne=(await Qn(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Ne}}else return Promise.resolve({[Se.key]:{type:"error",error:cr(404,{pathname:Se.path})}})})),Ie=await ge,Te=(await Ee).reduce((Se,Ce)=>Object.assign(Se,Ce),{});return{loaderResults:Ie,fetcherResults:Te}}function Ri(){he=!0,ne.forEach((H,Y)=>{G.has(Y)&&pe.add(Y),Yn(Y)})}function lt(H,Y,Z={}){k.fetchers.set(H,Y),St({fetchers:new Map(k.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function He(H,Y,Z,le={}){let ge=Za(k.matches,Y);kt(H),St({errors:{[ge.route.id]:Z},fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function hn(H){return me.set(H,(me.get(H)||0)+1),ce.has(H)&&ce.delete(H),k.fetchers.get(H)||yw}function kt(H){let Y=k.fetchers.get(H);G.has(H)&&!(Y&&Y.state==="loading"&&Re.has(H))&&Yn(H),ne.delete(H),Re.delete(H),B.delete(H),ce.delete(H),pe.delete(H),k.fetchers.delete(H)}function os(H){let Y=(me.get(H)||0)-1;Y<=0?(me.delete(H),ce.add(H)):me.set(H,Y),St({fetchers:new Map(k.fetchers)})}function Yn(H){let Y=G.get(H);Y&&(Y.abort(),G.delete(H))}function Er(H){for(let Y of H){let Z=hn(Y),le=ea(Z.data);k.fetchers.set(Y,le)}}function Tr(){let H=[],Y=!1;for(let Z of B){let le=k.fetchers.get(Z);Je(le,`Expected fetcher: ${Z}`),le.state==="loading"&&(B.delete(Z),H.push(Z),Y=!0)}return Er(H),Y}function wr(H){let Y=[];for(let[Z,le]of Re)if(le<H){let ge=k.fetchers.get(Z);Je(ge,`Expected fetcher: ${Z}`),ge.state==="loading"&&(Yn(Z),Re.delete(Z),Y.push(Z))}return Er(Y),Y.length>0}function Mn(H,Y){let Z=k.blockers.get(H)||ml;return _e.get(H)!==Y&&_e.set(H,Y),Z}function Xr(H){k.blockers.delete(H),_e.delete(H)}function Kn(H,Y){let Z=k.blockers.get(H)||ml;Je(Z.state==="unblocked"&&Y.state==="blocked"||Z.state==="blocked"&&Y.state==="blocked"||Z.state==="blocked"&&Y.state==="proceeding"||Z.state==="blocked"&&Y.state==="unblocked"||Z.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${Y.state}`);let le=new Map(k.blockers);le.set(H,Y),St({blockers:le})}function xi({currentLocation:H,nextLocation:Y,historyAction:Z}){if(_e.size===0)return;_e.size>1&&Vt(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ge,Ee]=le[le.length-1],Ie=k.blockers.get(ge);if(!(Ie&&Ie.state==="proceeding")&&Ee({currentLocation:H,nextLocation:Y,historyAction:Z}))return ge}function Zr(H){let Y=cr(404,{pathname:H}),Z=c||f,{matches:le,route:ge}=Dv(Z);return{notFoundMatches:le,route:ge,error:Y}}function Ta(H,Y,Z){if(_=H,b=Y,v=Z||null,!R&&k.navigation===pd){R=!0;let le=Ci(k.location,k.matches);le!=null&&St({restoreScrollPosition:le})}return()=>{_=null,b=null,v=null}}function Xn(H,Y){return v&&v(H,Y.map(le=>YT(le,k.loaderData)))||H.key}function mr(H,Y){if(_&&b){let Z=Xn(H,Y);_[Z]=b()}}function Ci(H,Y){if(_){let Z=Xn(H,Y),le=_[Z];if(typeof le=="number")return le}return null}function En(H,Y,Z){if(i.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:dc(Y,Z,p,!0)}}else return{active:!0,matches:dc(Y,Z,p,!0)||[]};return{active:!1,matches:null}}async function Sr(H,Y,Z,le){if(!i.patchRoutesOnNavigation)return{type:"success",matches:H};let ge=H;for(;;){let Ee=c==null,Ie=c||f,Te=u;try{await i.patchRoutesOnNavigation({signal:Z,path:Y,matches:ge,fetcherKey:le,patch:(Ne,Ae)=>{Z.aborted||bv(Ne,Ae,Ie,Te,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:ge}}finally{Ee&&!Z.aborted&&(f=[...f])}if(Z.aborted)return{type:"aborted"};let Se=ta(Ie,Y,p);if(Se)return{type:"success",matches:Se};let Ce=dc(Ie,Y,p,!0);if(!Ce||ge.length===Ce.length&&ge.every((Ne,Ae)=>Ne.route.id===Ce[Ae].route.id))return{type:"success",matches:null};ge=Ce}}function Ar(H){u={},c=Tc(H,o,void 0,u)}function Di(H,Y){let Z=c==null;bv(H,Y,c||f,u,o),Z&&(f=[...f],St({}))}return L={get basename(){return p},get future(){return E},get state(){return k},get routes(){return f},get window(){return e},initialize:Tt,subscribe:Gn,enableScrollRestoration:Ta,navigate:br,fetch:Ea,revalidate:Yr,createHref:H=>i.history.createHref(H),encodeLocation:H=>i.history.encodeLocation(H),getFetcher:hn,deleteFetcher:os,dispose:pt,getBlocker:Mn,deleteBlocker:Xr,patchRoutes:Di,_internalFetchControllers:G,_internalSetRoutes:Ar},L}function bw(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function xd(i,e,r,s,o,u){let f,c;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){c=y;break}}else f=e,c=e[e.length-1];let p=tm(s||".",em(f),hr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&c){let y=rm(p.search);if(c.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&y){let E=new URLSearchParams(p.search),d=E.getAll("index");E.delete("index"),d.filter(_=>_).forEach(_=>E.append("index",_));let g=E.toString();p.search=g?`?${g}`:""}}return r!=="/"&&(p.pathname=p.pathname==="/"?r:$r([r,p.pathname])),ua(p)}function vv(i,e,r){if(!r||!bw(r))return{path:e};if(r.formMethod&&!Mw(r.formMethod))return{path:e,error:cr(405,{method:r.formMethod})};let s=()=>({path:e,error:cr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=s0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hn(u))return s();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,[_,v])=>`${g}${_}=${v}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Hn(u))return s();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let c,p;if(r.formData)c=Od(r.formData),p=r.formData;else if(r.body instanceof FormData)c=Od(r.body),p=r.body;else if(r.body instanceof URLSearchParams)c=r.body,p=Av(c);else if(r.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(r.body),p=Av(c)}catch{return s()}let y={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Hn(y.formMethod))return{path:e,submission:y};let E=Ti(e);return i&&E.search&&rm(E.search)&&c.append("index",""),E.search=`?${c}`,{path:ua(E),submission:y}}function _v(i,e,r,s,o,u,f,c,p,y,E,d,g,_,v,b,R,T,A){var $;let D=A?qn(A[1])?A[1].error:A[1].data:void 0,V=o.createURL(u.location),L=o.createURL(p),k;if(E&&u.errors){let U=Object.keys(u.errors)[0];k=f.findIndex(he=>he.route.id===U)}else if(A&&qn(A[1])){let U=A[0];k=f.findIndex(he=>he.route.id===U)-1}let I=A?A[1].statusCode:void 0,S=I&&I>=400,x={currentUrl:V,currentParams:(($=u.matches[0])==null?void 0:$.params)||{},nextUrl:L,nextParams:f[0].params,...c,actionResult:D,actionStatus:I},O=f.map((U,he)=>{let{route:pe}=U,G=null;if(k!=null&&he>k?G=!1:pe.lazy?G=!0:pe.loader==null?G=!1:E?G=Cd(pe,u.loaderData,u.errors):Ew(u.loaderData,u.matches[he],U)&&(G=!0),G!==null)return Dd(r,s,i,U,y,e,G);let se=S?!1:d||V.pathname+V.search===L.pathname+L.search||V.search!==L.search||Tw(u.matches[he],U),ye={...x,defaultShouldRevalidate:se},Re=Ac(U,ye);return Dd(r,s,i,U,y,e,Re,ye)}),j=[];return v.forEach((U,he)=>{if(E||!f.some(ne=>ne.route.id===U.routeId)||_.has(he))return;let pe=ta(R,U.path,T);if(!pe){j.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(b.has(he))return;let G=u.fetchers.get(he),se=vl(pe,U.path),ye=new AbortController,Re=Gs(o,U.path,ye.signal),B=null;if(g.has(he))g.delete(he),B=Zs(r,s,Re,pe,se,y,e);else if(G&&G.state!=="idle"&&G.data===void 0)d&&(B=Zs(r,s,Re,pe,se,y,e));else{let ne={...x,defaultShouldRevalidate:S?!1:d};Ac(se,ne)&&(B=Zs(r,s,Re,pe,se,y,e,ne))}B&&j.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:Re,controller:ye})}),{dsMatches:O,revalidatingFetchers:j}}function Cd(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function Ew(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function Tw(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function Ac(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function bv(i,e,r,s,o){let u;if(i){let p=s[i];Je(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=r;let f=e.filter(p=>!u.some(y=>t0(p,y))),c=Tc(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...c)}function t0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>t0(r,u))}):!1}var Ev=new WeakMap,n0=({key:i,route:e,manifest:r,mapRouteProperties:s})=>{let o=r[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=Ev.get(o);f||(f={},Ev.set(o,f));let c=f[i];if(c)return c;let p=(async()=>{let y=HT(i),d=o[i]!==void 0&&i!=="hasErrorBoundary";if(y)Vt(!y,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(d)Vt(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let g=await u();g!=null&&(Object.assign(o,{[i]:g}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(g=>g===void 0)&&(o.lazy=void 0))})();return f[i]=p,p},Tv=new WeakMap;function ww(i,e,r,s,o){let u=r[i.id];if(Je(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Tv.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let d=(async()=>{Je(typeof i.lazy=="function","No lazy route function found");let g=await i.lazy(),_={};for(let v in g){let b=g[v];if(b===void 0)continue;let R=GT(v),A=u[v]!==void 0&&v!=="hasErrorBoundary";R?Vt(!R,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Vt(!A,`Route "${u.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):_[v]=b}Object.assign(u,_),Object.assign(u,{...s(u),lazy:void 0})})();return Tv.set(u,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let f=Object.keys(i.lazy),c=[],p;for(let E of f){if(o&&o.includes(E))continue;let d=n0({key:E,route:i,manifest:r,mapRouteProperties:s});d&&(c.push(d),E===e&&(p=d))}let y=c.length>0?Promise.all(c).then(()=>{}):void 0;return y==null||y.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:p}}async function wv(i){let e=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{r[e[u].route.id]=o}),r}async function Sw(i){return i.matches.some(e=>e.route.unstable_middleware)?r0(i,!1,()=>wv(i),(e,r)=>({[r]:{type:"error",result:e}})):wv(i)}async function r0(i,e,r,s){let{matches:o,request:u,params:f,context:c}=i,p={handlerResult:void 0};try{let y=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(g=>[d.route.id,g]):[]),E=await i0({request:u,params:f,context:c},y,e,p,r);return e?E:p.handlerResult}catch(y){if(!p.middlewareError)throw y;let E=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function i0(i,e,r,s,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[u];if(!c)return s.handlerResult=await o(),s.handlerResult;let[p,y]=c,E=!1,d,g=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await i0(i,e,r,s,o,u+1)};try{let _=await y({request:i.request,params:i.params,context:i.context},g);return E?_===void 0?d:_:g()}catch(_){throw s.middlewareError?s.middlewareError.error!==_&&(s.middlewareError={routeId:p,error:_}):s.middlewareError={routeId:p,error:_},_}}function a0(i,e,r,s,o){let u=n0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:i}),f=ww(s.route,Hn(r.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Dd(i,e,r,s,o,u,f,c=null){let p=!1,y=a0(i,e,r,s,o);return{...s,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(E){return p=!0,c?typeof E=="boolean"?Ac(s,{...c,defaultShouldRevalidate:E}):Ac(s,c):f},resolve(E){return p||f||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?Rw({request:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Zs(i,e,r,s,o,u,f,c=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:a0(i,e,r,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Dd(i,e,r,p,u,f,!0,c))}async function Aw(i,e,r,s,o,u){r.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let f={request:e,params:r[0].params,context:o,matches:r},p=await i({...f,fetcherKey:s,unstable_runClientMiddleware:y=>{let E=f;return r0(E,!1,()=>y({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,g)=>({[g]:{type:"error",result:d}}))}});try{await Promise.all(r.flatMap(y=>{var E,d;return[(E=y._lazyPromises)==null?void 0:E.handler,(d=y._lazyPromises)==null?void 0:d.route]}))}catch{}return p}async function Rw({request:i,match:e,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let f,c,p=Hn(i.method),y=p?"action":"loader",E=d=>{let g,_=new Promise((R,T)=>g=T);c=()=>g(),i.signal.addEventListener("abort",c);let v=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${e.route.id}]`)):d({request:i,params:e.params,context:u},...R!==void 0?[R]:[]),b=(async()=>{try{return{type:"data",result:await(o?o(T=>v(T)):v())}}catch(R){return{type:"error",result:R}}})();return Promise.race([b,_])};try{let d=p?e.route.action:e.route.loader;if(r||s)if(d){let g,[_]=await Promise.all([E(d).catch(v=>{g=v}),r,s]);if(g!==void 0)throw g;f=_}else{await r;let g=p?e.route.action:e.route.loader;if(g)[f]=await Promise.all([E(g),s]);else if(y==="action"){let _=new URL(i.url),v=_.pathname+_.search;throw cr(405,{method:i.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)f=await E(d);else{let g=new URL(i.url),_=g.pathname+g.search;throw cr(404,{pathname:_})}}catch(d){return{type:"error",result:d}}finally{c&&i.signal.removeEventListener("abort",c)}return f}async function xw(i){var s,o,u,f,c,p;let{result:e,type:r}=i;if(o0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new Sc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return r==="error"?Ov(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Sc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:xl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xl(e)?e.status:void 0}:Ov(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Cw(i,e,r,s,o){let u=i.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!nm.test(u)){let f=s.slice(0,s.findIndex(c=>c.route.id===r)+1);u=xd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function Sv(i,e,r){if(nm.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=hr(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Gs(i,e,r,s){let o=i.createURL(s0(e)).toString(),u={signal:r};if(s&&Hn(s.formMethod)){let{formMethod:f,formEncType:c}=s;u.method=f.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(s.json)):c==="text/plain"?u.body=s.text:c==="application/x-www-form-urlencoded"&&s.formData?u.body=Od(s.formData):u.body=s.formData}return new Request(o,u)}function Od(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function Av(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function Dw(i,e,r,s=!1,o=!1){let u={},f=null,c,p=!1,y={},E=r&&qn(r[1])?r[1].error:void 0;return i.forEach(d=>{if(!(d.route.id in e))return;let g=d.route.id,_=e[g];if(Je(!Ja(_),"Cannot handle redirect results in processLoaderData"),qn(_)){let v=_.error;if(E!==void 0&&(v=E,E=void 0),f=f||{},o)f[g]=v;else{let b=Za(i,g);f[b.route.id]==null&&(f[b.route.id]=v)}s||(u[g]=e0),p||(p=!0,c=xl(_.error)?_.error.status:500),_.headers&&(y[g]=_.headers)}else u[g]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(c=_.statusCode),_.headers&&(y[g]=_.headers)}),E!==void 0&&r&&(f={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:f,statusCode:c||200,loaderHeaders:y}}function Rv(i,e,r,s,o,u){let{loaderData:f,errors:c}=Dw(e,r,s);return o.filter(p=>!p.matches||p.matches.some(y=>y.shouldLoad)).forEach(p=>{let{key:y,match:E,controller:d}=p,g=u[y];if(Je(g,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(qn(g)){let _=Za(i.matches,E==null?void 0:E.route.id);c&&c[_.route.id]||(c={...c,[_.route.id]:g.error}),i.fetchers.delete(y)}else if(Ja(g))Je(!1,"Unhandled fetcher revalidation redirect");else{let _=ea(g.data);i.fetchers.set(y,_)}}),{loaderData:f,errors:c}}function xv(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==e0).reduce((u,[f,c])=>(u[f]=c,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function Cv(i){return i?qn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Za(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Dv(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?c=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):i===403?(f="Forbidden",c=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",c=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?c=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(c=`Invalid request method "${s.toUpperCase()}"`)),new Sc(i||500,f,new Error(c),!0)}function ac(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Ja(o))return{key:s,result:o}}}function s0(i){let e=typeof i=="string"?Ti(i):i;return ua({...e,hash:""})}function Ow(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function Iw(i){return o0(i.result)&&pw.has(i.result.status)}function qn(i){return i.type==="error"}function Ja(i){return(i&&i.type)==="redirect"}function Ov(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function o0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function Mw(i){return mw.has(i.toUpperCase())}function Hn(i){return hw.has(i.toUpperCase())}function rm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function vl(i,e){let r=typeof e=="string"?Ti(e).search:e.search;if(i[i.length-1].route.index&&rm(r||""))return i[i.length-1];let s=Z_(i);return s[s.length-1]}function Iv(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function gd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nw(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Vw(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ea(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function kw(i,e){try{let r=i.sessionStorage.getItem(W_);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Lw(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(W_,JSON.stringify(r))}catch(s){Vt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function jw(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var rs=re.createContext(null);rs.displayName="DataRouter";var Ll=re.createContext(null);Ll.displayName="DataRouterState";var im=re.createContext({isTransitioning:!1});im.displayName="ViewTransition";var l0=re.createContext(new Map);l0.displayName="Fetchers";var Pw=re.createContext(null);Pw.displayName="Await";var Gr=re.createContext(null);Gr.displayName="Navigation";var Bc=re.createContext(null);Bc.displayName="Location";var Qr=re.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var am=re.createContext(null);am.displayName="RouteError";function Uw(i,{relative:e}={}){Je(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=re.useContext(Gr),{hash:o,pathname:u,search:f}=Pl(i,{relative:e}),c=u;return r!=="/"&&(c=u==="/"?r:$r([r,u])),s.createHref({pathname:c,search:f,hash:o})}function jl(){return re.useContext(Bc)!=null}function wi(){return Je(jl(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(Bc).location}var u0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c0(i){re.useContext(Gr).static||re.useLayoutEffect(i)}function sm(){let{isDataRoute:i}=re.useContext(Qr);return i?eS():zw()}function zw(){Je(jl(),"useNavigate() may be used only in the context of a <Router> component.");let i=re.useContext(rs),{basename:e,navigator:r}=re.useContext(Gr),{matches:s}=re.useContext(Qr),{pathname:o}=wi(),u=JSON.stringify(em(s)),f=re.useRef(!1);return c0(()=>{f.current=!0}),re.useCallback((p,y={})=>{if(Vt(f.current,u0),!f.current)return;if(typeof p=="number"){r.go(p);return}let E=tm(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$r([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,u,o,i])}var $w=re.createContext(null);function Bw(i){let e=re.useContext(Qr).outlet;return e&&re.createElement($w.Provider,{value:i},e)}function Pl(i,{relative:e}={}){let{matches:r}=re.useContext(Qr),{pathname:s}=wi(),o=JSON.stringify(em(r));return re.useMemo(()=>tm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function qw(i,e,r,s){Je(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=re.useContext(Gr),{matches:f}=re.useContext(Qr),c=f[f.length-1],p=c?c.params:{},y=c?c.pathname:"/",E=c?c.pathnameBase:"/",d=c&&c.route;{let A=d&&d.path||"";f0(y,!d||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=wi(),_;_=g;let v=_.pathname||"/",b=v;if(E!=="/"){let A=E.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=!u&&r&&r.matches&&r.matches.length>0?r.matches:ta(i,{pathname:b});return Vt(d||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Vt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Yw(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:$r([E,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?E:$r([E,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),f,r,s)}function Hw(){let i=Ww(),e=xl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:u},"ErrorBoundary")," or"," ",re.createElement("code",{style:u},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),r?re.createElement("pre",{style:o},r):null,f)}var Fw=re.createElement(Hw,null),Gw=class extends re.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?re.createElement(Qr.Provider,{value:this.props.routeContext},re.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qw({routeContext:i,match:e,children:r}){let s=re.useContext(rs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(Qr.Provider,{value:i},r)}function Yw(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(r)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(c=p),y.route.id){let{loaderData:E,errors:d}=r,g=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!d||d[y.route.id]===void 0);if(y.route.lazy||g){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let d,g=!1,_=null,v=null;r&&(d=u&&y.route.id?u[y.route.id]:void 0,_=y.route.errorElement||Fw,f&&(c<0&&E===0?(f0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===E&&(g=!0,v=y.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,E+1)),R=()=>{let T;return d?T=_:g?T=v:y.route.Component?T=re.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=p,re.createElement(Qw,{match:y,routeContext:{outlet:p,matches:b,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?re.createElement(Gw,{location:r.location,revalidation:r.revalidation,component:_,error:d,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function om(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(i){let e=re.useContext(rs);return Je(e,om(i)),e}function Xw(i){let e=re.useContext(Ll);return Je(e,om(i)),e}function Zw(i){let e=re.useContext(Qr);return Je(e,om(i)),e}function lm(i){let e=Zw(i),r=e.matches[e.matches.length-1];return Je(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Jw(){return lm("useRouteId")}function Ww(){var s;let i=re.useContext(am),e=Xw("useRouteError"),r=lm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function eS(){let{router:i}=Kw("useNavigate"),e=lm("useNavigate"),r=re.useRef(!1);return c0(()=>{r.current=!0}),re.useCallback(async(o,u={})=>{Vt(r.current,u0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Mv={};function f0(i,e,r){!e&&!Mv[i]&&(Mv[i]=!0,Vt(!1,r))}var Nv={};function Vv(i,e){!i&&!Nv[e]&&(Nv[e]=!0,console.warn(e))}function tS(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:re.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:re.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:re.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var nS=["HydrateFallback","hydrateFallbackElement"],rS=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function iS({router:i,flushSync:e}){let[r,s]=re.useState(i.state),[o,u]=re.useState(),[f,c]=re.useState({isTransitioning:!1}),[p,y]=re.useState(),[E,d]=re.useState(),[g,_]=re.useState(),v=re.useRef(new Map),b=re.useCallback((D,{deletedFetchers:V,flushSync:L,viewTransitionOpts:k})=>{D.fetchers.forEach((S,x)=>{S.data!==void 0&&v.current.set(x,S.data)}),V.forEach(S=>v.current.delete(S)),Vv(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Vv(k==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!I){e&&L?e(()=>s(D)):re.startTransition(()=>s(D));return}if(e&&L){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let S=i.window.document.startViewTransition(()=>{e(()=>s(D))});S.finished.finally(()=>{e(()=>{y(void 0),d(void 0),u(void 0),c({isTransitioning:!1})})}),e(()=>d(S));return}E?(p&&p.resolve(),E.skipTransition(),_({state:D,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(u(D),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[i.window,e,E,p]);re.useLayoutEffect(()=>i.subscribe(b),[i,b]),re.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new rS)},[f]),re.useEffect(()=>{if(p&&o&&i.window){let D=o,V=p.promise,L=i.window.document.startViewTransition(async()=>{re.startTransition(()=>s(D)),await V});L.finished.finally(()=>{y(void 0),d(void 0),u(void 0),c({isTransitioning:!1})}),d(L)}},[o,p,i.window]),re.useEffect(()=>{p&&o&&r.location.key===o.location.key&&p.resolve()},[p,E,r.location,o]),re.useEffect(()=>{!f.isTransitioning&&g&&(u(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),_(void 0))},[f.isTransitioning,g]);let R=re.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:D=>i.navigate(D),push:(D,V,L)=>i.navigate(D,{state:V,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(D,V,L)=>i.navigate(D,{replace:!0,state:V,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[i]),T=i.basename||"/",A=re.useMemo(()=>({router:i,navigator:R,static:!1,basename:T}),[i,R,T]);return re.createElement(re.Fragment,null,re.createElement(rs.Provider,{value:A},re.createElement(Ll.Provider,{value:r},re.createElement(l0.Provider,{value:v.current},re.createElement(im.Provider,{value:f},re.createElement(lS,{basename:T,location:r.location,navigationType:r.historyAction,navigator:R},re.createElement(aS,{routes:i.routes,future:i.future,state:r})))))),null)}var aS=re.memo(sS);function sS({routes:i,future:e,state:r}){return qw(i,void 0,r,e)}function oS(i){return Bw(i.context)}function lS({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Je(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),c=re.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=Ti(r));let{pathname:p="/",search:y="",hash:E="",state:d=null,key:g="default"}=r,_=re.useMemo(()=>{let v=hr(p,f);return v==null?null:{location:{pathname:v,search:y,hash:E,state:d,key:g},navigationType:s}},[f,p,y,E,d,g,s]);return Vt(_!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:re.createElement(Gr.Provider,{value:c},re.createElement(Bc.Provider,{children:e,value:_}))}var mc="get",pc="application/x-www-form-urlencoded";function qc(i){return i!=null&&typeof i.tagName=="string"}function uS(i){return qc(i)&&i.tagName.toLowerCase()==="button"}function cS(i){return qc(i)&&i.tagName.toLowerCase()==="form"}function fS(i){return qc(i)&&i.tagName.toLowerCase()==="input"}function hS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dS(i,e){return i.button===0&&(!e||e==="_self")&&!hS(i)}var sc=null;function mS(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var pS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(i){return i!=null&&!pS.has(i)?(Vt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):i}function gS(i,e){let r,s,o,u,f;if(cS(i)){let c=i.getAttribute("action");s=c?hr(c,e):null,r=i.getAttribute("method")||mc,o=yd(i.getAttribute("enctype"))||pc,u=new FormData(i)}else if(uS(i)||fS(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||c.getAttribute("action");if(s=p?hr(p,e):null,r=i.getAttribute("formmethod")||c.getAttribute("method")||mc,o=yd(i.getAttribute("formenctype"))||yd(c.getAttribute("enctype"))||pc,u=new FormData(c,i),!mS()){let{name:y,type:E,value:d}=i;if(E==="image"){let g=y?`${y}.`:"";u.append(`${g}x`,"0"),u.append(`${g}y`,"0")}else y&&u.append(y,d)}}else{if(qc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=mc,s=null,o=pc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function um(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function yS(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _S(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await yS(u,r);return f.links?f.links():[]}return[]}));return wS(s.flat(1).filter(vS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(i,e,r,s,o,u){let f=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,c=(p,y)=>{var E;return r[y].pathname!==p.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||c(p,y)):u==="data"?e.filter((p,y)=>{var d;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||c(p,y))return!0;if(p.route.shouldRevalidate){let g=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function bS(i,e,{includeHydrateFallback:r}={}){return ES(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ES(i){return[...new Set(i)]}function TS(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function wS(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(TS(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}var SS=new Set([100,101,204,205]);function AS(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&hr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function h0(){let i=re.useContext(rs);return um(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RS(){let i=re.useContext(Ll);return um(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cm=re.createContext(void 0);cm.displayName="FrameworkContext";function d0(){let i=re.useContext(cm);return um(i,"You must render this element inside a <HydratedRouter> element"),i}function xS(i,e){let r=re.useContext(cm),[s,o]=re.useState(!1),[u,f]=re.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:d}=e,g=re.useRef(null);re.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let b=T=>{T.forEach(A=>{f(A.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return g.current&&R.observe(g.current),()=>{R.disconnect()}}},[i]),re.useEffect(()=>{if(s){let b=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(b)}}},[s]);let _=()=>{o(!0)},v=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,g,{}]:[u,g,{onFocus:gl(c,_),onBlur:gl(p,v),onMouseEnter:gl(y,_),onMouseLeave:gl(E,v),onTouchStart:gl(d,_)}]:[!1,g,{}]}function gl(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function CS({page:i,...e}){let{router:r}=h0(),s=re.useMemo(()=>ta(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?re.createElement(OS,{page:i,matches:s,...e}):null}function DS(i){let{manifest:e,routeModules:r}=d0(),[s,o]=re.useState([]);return re.useEffect(()=>{let u=!1;return _S(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),s}function OS({page:i,matches:e,...r}){let s=wi(),{manifest:o,routeModules:u}=d0(),{basename:f}=h0(),{loaderData:c,matches:p}=RS(),y=re.useMemo(()=>kv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=re.useMemo(()=>kv(i,e,p,o,s,"assets"),[i,e,p,o,s]),d=re.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let v=new Set,b=!1;if(e.forEach(T=>{var D;let A=o.routes[T.route.id];!A||!A.hasLoader||(!y.some(V=>V.route.id===T.route.id)&&T.route.id in c&&((D=u[T.route.id])!=null&&D.shouldRevalidate)||A.hasClientLoader?b=!0:v.add(T.route.id))}),v.size===0)return[];let R=AS(i,f);return b&&v.size>0&&R.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[f,c,s,o,y,e,i,u]),g=re.useMemo(()=>bS(E,o),[E,o]),_=DS(E);return re.createElement(re.Fragment,null,d.map(v=>re.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>re.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),_.map(({key:v,link:b})=>re.createElement("link",{key:v,...b})))}function IS(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m0&&(window.__reactRouterVersion="7.5.3")}catch{}function MS(i,e){return _w({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:zT({window:e==null?void 0:e.window}),hydrationData:NS(),routes:i,mapRouteProperties:tS,hydrationRouteProperties:nS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function NS(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:VS(i.errors)}),i}function VS(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new Sc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g0=re.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:c,target:p,to:y,preventScrollReset:E,viewTransition:d,...g},_){let{basename:v}=re.useContext(Gr),b=typeof y=="string"&&p0.test(y),R,T=!1;if(typeof y=="string"&&b&&(R=y,m0))try{let x=new URL(window.location.href),O=y.startsWith("//")?new URL(x.protocol+y):new URL(y),j=hr(O.pathname,v);O.origin===x.origin&&j!=null?y=j+O.search+O.hash:T=!0}catch{Vt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Uw(y,{relative:o}),[D,V,L]=xS(s,g),k=jS(y,{replace:f,state:c,target:p,preventScrollReset:E,relative:o,viewTransition:d});function I(x){e&&e(x),x.defaultPrevented||k(x)}let S=re.createElement("a",{...g,...L,href:R||A,onClick:T||u?e:I,ref:IS(_,V),target:p,"data-discover":!b&&r==="render"?"true":void 0});return D&&!b?re.createElement(re.Fragment,null,S,re.createElement(CS,{page:A})):S});g0.displayName="Link";var na=re.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:c,children:p,...y},E){let d=Pl(f,{relative:y.relative}),g=wi(),_=re.useContext(Ll),{navigator:v,basename:b}=re.useContext(Gr),R=_!=null&&BS(d)&&c===!0,T=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,A=g.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(A=A.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&b&&(D=hr(D,b)||D);const V=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let L=A===T||!o&&A.startsWith(T)&&A.charAt(V)==="/",k=D!=null&&(D===T||!o&&D.startsWith(T)&&D.charAt(T.length)==="/"),I={isActive:L,isPending:k,isTransitioning:R},S=L?e:void 0,x;typeof s=="function"?x=s(I):x=[s,L?"active":null,k?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return re.createElement(g0,{...y,"aria-current":S,className:x,ref:E,style:O,to:f,viewTransition:c},typeof p=="function"?p(I):p)});na.displayName="NavLink";var kS=re.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:f=mc,action:c,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:d,...g},_)=>{let v=zS(),b=$S(c,{relative:y}),R=f.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&p0.test(c),A=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,L=(V==null?void 0:V.getAttribute("formmethod"))||f;v(V||D.currentTarget,{fetcherKey:e,method:L,navigate:r,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:d})};return re.createElement("form",{ref:_,method:R,action:b,onSubmit:s?p:A,...g,"data-discover":!T&&i==="render"?"true":void 0})});kS.displayName="Form";function LS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y0(i){let e=re.useContext(rs);return Je(e,LS(i)),e}function jS(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let c=sm(),p=wi(),y=Pl(i,{relative:u});return re.useCallback(E=>{if(dS(E,e)){E.preventDefault();let d=r!==void 0?r:ua(p)===ua(y);c(i,{replace:d,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,c,y,r,s,e,i,o,u,f])}var PS=0,US=()=>`__${String(++PS)}__`;function zS(){let{router:i}=y0("useSubmit"),{basename:e}=re.useContext(Gr),r=Jw();return re.useCallback(async(s,o={})=>{let{action:u,method:f,encType:c,formData:p,body:y}=gS(s,e);if(o.navigate===!1){let E=o.fetcherKey||US();await i.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function $S(i,{relative:e}={}){let{basename:r}=re.useContext(Gr),s=re.useContext(Qr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pl(i||".",{relative:e})},f=wi();if(i==null){u.search=f.search;let c=new URLSearchParams(u.search),p=c.getAll("index");if(p.some(E=>E==="")){c.delete("index"),p.filter(d=>d).forEach(d=>c.append("index",d));let E=c.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:$r([r,u.pathname])),ua(u)}function BS(i,e={}){let r=re.useContext(im);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y0("useViewTransitionState"),o=Pl(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=hr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=hr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return wc(o.pathname,f)!=null||wc(o.pathname,u)!=null}new TextEncoder;[...SS];const qS="data:image/svg+xml,%3csvg%20width='34'%20height='34'%20viewBox='0%200%2034%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24.0833%2025.5C24.8348%2025.5%2025.5554%2025.7985%2026.0868%2026.3299C26.6181%2026.8612%2026.9167%2027.5819%2026.9167%2028.3333C26.9167%2029.0848%2026.6181%2029.8055%2026.0868%2030.3368C25.5554%2030.8682%2024.8348%2031.1667%2024.0833%2031.1667C23.3319%2031.1667%2022.6112%2030.8682%2022.0799%2030.3368C21.5485%2029.8055%2021.25%2029.0848%2021.25%2028.3333C21.25%2026.7608%2022.5108%2025.5%2024.0833%2025.5ZM1.41666%202.83333H6.04916L7.38082%205.66667H28.3333C28.709%205.66667%2029.0694%205.81592%2029.3351%206.0816C29.6007%206.34728%2029.75%206.70761%2029.75%207.08333C29.75%207.32417%2029.6792%207.565%2029.58%207.79167L24.5083%2016.9575C24.0267%2017.8217%2023.0917%2018.4167%2022.0292%2018.4167H11.475L10.2%2020.7258L10.1575%2020.8958C10.1575%2020.9898%2010.1948%2021.0798%2010.2612%2021.1463C10.3276%2021.2127%2010.4177%2021.25%2010.5117%2021.25H26.9167V24.0833H9.91666C9.16521%2024.0833%208.44454%2023.7848%207.91319%2023.2535C7.38183%2022.7221%207.08332%2022.0014%207.08332%2021.25C7.08332%2020.7542%207.21082%2020.2867%207.42332%2019.89L9.34999%2016.4192L4.24999%205.66667H1.41666V2.83333ZM9.91666%2025.5C10.6681%2025.5%2011.3888%2025.7985%2011.9201%2026.3299C12.4515%2026.8612%2012.75%2027.5819%2012.75%2028.3333C12.75%2029.0848%2012.4515%2029.8055%2011.9201%2030.3368C11.3888%2030.8682%2010.6681%2031.1667%209.91666%2031.1667C9.16521%2031.1667%208.44454%2030.8682%207.91319%2030.3368C7.38183%2029.8055%207.08332%2029.0848%207.08332%2028.3333C7.08332%2026.7608%208.34416%2025.5%209.91666%2025.5ZM22.6667%2015.5833L26.605%208.5H8.69832L12.0417%2015.5833H22.6667Z'%20fill='black'/%3e%3c/svg%3e",HS=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},FS=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],c=i[r++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,c=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,d=(u&3)<<4|c>>4;let g=(c&15)<<2|y>>6,_=y&63;p||(_=64,f||(g=64)),s.push(r[E],r[d],r[g],r[_])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(v0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):FS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],c=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const d=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||c==null||y==null||d==null)throw new GS;const g=u<<2|c>>4;if(s.push(g),y!==64){const _=c<<4&240|y>>2;if(s.push(_),d!==64){const v=y<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QS=function(i){const e=v0(i);return _0.encodeByteArray(e,!0)},Rc=function(i){return QS(i).replace(/\./g,"")},YS=function(i){try{return _0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=()=>KS().__FIREBASE_DEFAULTS__,ZS=()=>{if(typeof process>"u"||typeof Lv>"u")return;const i=Lv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},JS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&YS(i[1]);return e&&JSON.parse(e)},fm=()=>{try{return HS()||XS()||ZS()||JS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},WS=i=>{var e,r;return(r=(e=fm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},eA=i=>{const e=WS(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},b0=()=>{var i;return(i=fm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rc(JSON.stringify(r)),Rc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){var i;const e=(i=fm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="FirebaseError";class oo extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=lA,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E0.prototype.create)}}class E0{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?uA(u,s):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new oo(o,c,s)}}function uA(i,e){return i.replace(cA,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cA=/\{\$([^}]+)}/g;function xc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(jv(u)&&jv(f)){if(!xc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(i){return i&&i._delegate?i._delegate:i}class Cl{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new tA;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dA(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);s===c&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(i){return i===Xa?void 0:i}function dA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new fA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const pA={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},gA=at.INFO,yA={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},vA=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=yA[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T0{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const _A=(i,e)=>e.some(r=>i instanceof r);let Pv,Uv;function bA(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Id=new WeakMap,S0=new WeakMap,vd=new WeakMap,hm=new WeakMap;function TA(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ia(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&w0.set(r,i)}).catch(()=>{}),hm.set(e,i),e}function wA(i){if(Id.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Id.set(i,e)}let Md={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Id.get(i);if(e==="objectStoreNames")return i.objectStoreNames||S0.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function SA(i){Md=i(Md)}function AA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(_d(this),e,...r);return S0.set(s,e.sort?e.sort():[e]),ia(s)}:EA().includes(i)?function(...e){return i.apply(_d(this),e),ia(w0.get(this))}:function(...e){return ia(i.apply(_d(this),e))}}function RA(i){return typeof i=="function"?AA(i):(i instanceof IDBTransaction&&wA(i),_A(i,bA())?new Proxy(i,Md):i)}function ia(i){if(i instanceof IDBRequest)return TA(i);if(vd.has(i))return vd.get(i);const e=RA(i);return e!==i&&(vd.set(i,e),hm.set(e,i)),e}const _d=i=>hm.get(i);function xA(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),c=ia(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ia(f.result),p.oldVersion,p.newVersion,ia(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),c.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),c}const CA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],bd=new Map;function zv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=DA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CA.includes(r)))return;const u=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(c.shift())),(await Promise.all([y[r](...c),o&&p.done]))[0]};return bd.set(e,u),u}SA(i=>({...i,get:(e,r,s)=>zv(e,r)||i.get(e,r,s),has:(e,r)=>!!zv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(IA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function IA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nd="@firebase/app",$v="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new T0("@firebase/app"),MA="@firebase/app-compat",NA="@firebase/analytics-compat",VA="@firebase/analytics",kA="@firebase/app-check-compat",LA="@firebase/app-check",jA="@firebase/auth",PA="@firebase/auth-compat",UA="@firebase/database",zA="@firebase/data-connect",$A="@firebase/database-compat",BA="@firebase/functions",qA="@firebase/functions-compat",HA="@firebase/installations",FA="@firebase/installations-compat",GA="@firebase/messaging",QA="@firebase/messaging-compat",YA="@firebase/performance",KA="@firebase/performance-compat",XA="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",WA="@firebase/storage-compat",e1="@firebase/firestore",t1="@firebase/vertexai",n1="@firebase/firestore-compat",r1="firebase",i1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",a1={[Nd]:"fire-core",[MA]:"fire-core-compat",[VA]:"fire-analytics",[NA]:"fire-analytics-compat",[LA]:"fire-app-check",[kA]:"fire-app-check-compat",[jA]:"fire-auth",[PA]:"fire-auth-compat",[UA]:"fire-rtdb",[zA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[BA]:"fire-fn",[qA]:"fire-fn-compat",[HA]:"fire-iid",[FA]:"fire-iid-compat",[GA]:"fire-fcm",[QA]:"fire-fcm-compat",[YA]:"fire-perf",[KA]:"fire-perf-compat",[XA]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[WA]:"fire-gcs-compat",[e1]:"fire-fst",[n1]:"fire-fst-compat",[t1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,s1=new Map,kd=new Map;function Bv(i,e){try{i.container.addComponent(e)}catch(r){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Dc(i){const e=i.name;if(kd.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,i);for(const r of Cc.values())Bv(r,i);for(const r of s1.values())Bv(r,i);return!0}function o1(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function l1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new E0("app","Firebase",u1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=i1;function A0(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(r||(r=b0()),!r)throw aa.create("no-options");const u=Cc.get(o);if(u){if(xc(r,u.options)&&xc(s,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const f=new mA(o);for(const p of kd.values())f.addComponent(p);const c=new c1(r,s,f);return Cc.set(o,c),c}function h1(i=Vd){const e=Cc.get(i);if(!e&&i===Vd&&b0())return A0();if(!e)throw aa.create("no-app",{appName:i});return e}function Js(i,e,r){var s;let o=(s=a1[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(c.join(" "));return}Dc(new Cl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebase-heartbeat-database",m1=1,Dl="firebase-heartbeat-store";let Ed=null;function R0(){return Ed||(Ed=xA(d1,m1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Dl)}catch(r){console.warn(r)}}}}).catch(i=>{throw aa.create("idb-open",{originalErrorMessage:i.message})})),Ed}async function p1(i){try{const r=(await R0()).transaction(Dl),s=await r.objectStore(Dl).get(x0(i));return await r.done,s}catch(e){if(e instanceof oo)_i.warn(e.message);else{const r=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(r.message)}}}async function qv(i,e){try{const s=(await R0()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(e,x0(i)),await s.done}catch(r){if(r instanceof oo)_i.warn(r.message);else{const s=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(s.message)}}}function x0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,y1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new b1(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>y1){const f=E1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Hv(),{heartbeatsToSend:s,unsentEntries:o}=_1(this._heartbeatsCache.heartbeats),u=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return _i.warn(r),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function _1(i,e=g1){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Fv(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Fv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class b1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await p1(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fv(i){return Rc(JSON.stringify({version:2,heartbeats:i})).length}function E1(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(i){Dc(new Cl("platform-logger",e=>new OA(e),"PRIVATE")),Dc(new Cl("heartbeat",e=>new v1(e),"PRIVATE")),Js(Nd,$v,i),Js(Nd,$v,"esm2017"),Js("fire-js","")}T1("");var w1="firebase",S1="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(w1,S1,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,C0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function x(){}x.prototype=S.prototype,I.D=S.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(O,j,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return S.prototype[j].apply(O,U)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,x){x||(x=0);var O=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)O[j]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(j=0;16>j;++j)O[j]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=I.g[0],x=I.g[1],j=I.g[2];var $=I.g[3],U=S+($^x&(j^$))+O[0]+3614090360&4294967295;S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[1]+3905402710&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[2]+606105819&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[3]+3250441966&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+($^x&(j^$))+O[4]+4118548399&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[5]+1200080426&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[6]+2821735955&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[7]+4249261313&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+($^x&(j^$))+O[8]+1770035416&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[9]+2336552879&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[10]+4294925233&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[11]+2304563134&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+($^x&(j^$))+O[12]+1804603682&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[13]+4254626195&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[14]+2792965006&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[15]+1236535329&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+(j^$&(x^j))+O[1]+4129170786&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[6]+3225465664&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[11]+643717713&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[0]+3921069994&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(j^$&(x^j))+O[5]+3593408605&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[10]+38016083&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[15]+3634488961&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[4]+3889429448&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(j^$&(x^j))+O[9]+568446438&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[14]+3275163606&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[3]+4107603335&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[8]+1163531501&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(j^$&(x^j))+O[13]+2850285829&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[2]+4243563512&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[7]+1735328473&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[12]+2368359562&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(x^j^$)+O[5]+4294588738&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[8]+2272392833&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[11]+1839030562&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[14]+4259657740&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(x^j^$)+O[1]+2763975236&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[4]+1272893353&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[7]+4139469664&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[10]+3200236656&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(x^j^$)+O[13]+681279174&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[0]+3936430074&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[3]+3572445317&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[6]+76029189&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(x^j^$)+O[9]+3654602809&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[12]+3873151461&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[15]+530742520&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[2]+3299628645&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(j^(x|~$))+O[0]+4096336452&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[7]+1126891415&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[14]+2878612391&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[5]+4237533241&4294967295,x=j+(U<<21&4294967295|U>>>11),U=S+(j^(x|~$))+O[12]+1700485571&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[3]+2399980690&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[10]+4293915773&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[1]+2240044497&4294967295,x=j+(U<<21&4294967295|U>>>11),U=S+(j^(x|~$))+O[8]+1873313359&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[15]+4264355552&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[6]+2734768916&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[13]+1309151649&4294967295,x=j+(U<<21&4294967295|U>>>11),U=S+(j^(x|~$))+O[4]+4149444226&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[11]+3174756917&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[2]+718787259&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+$&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var x=S-this.blockSize,O=this.B,j=this.h,$=0;$<S;){if(j==0)for(;$<=x;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<S;)if(O[j++]=I.charCodeAt($++),j==this.blockSize){o(this,O),j=0;break}}else for(;$<S;)if(O[j++]=I[$++],j==this.blockSize){o(this,O),j=0;break}}this.h=j,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var x=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=x&255,x/=256;for(this.u(I),I=Array(16),S=x=0;4>S;++S)for(var O=0;32>O;O+=8)I[x++]=this.g[S]>>>O&255;return I};function u(I,S){var x=c;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=S(I)}function f(I,S){this.h=S;for(var x=[],O=!0,j=I.length-1;0<=j;j--){var $=I[j]|0;O&&$==S||(x[j]=$,O=!1)}this.g=x}var c={};function p(I){return-128<=I&&128>I?u(I,function(S){return new f([S|0],0>S?-1:0)}):new f([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return R(y(-I));for(var S=[],x=1,O=0;I>=x;O++)S[O]=I/x|0,x*=4294967296;return new f(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return R(E(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),O=d,j=0;j<I.length;j+=8){var $=Math.min(8,I.length-j),U=parseInt(I.substring(j,j+$),S);8>$?($=y(Math.pow(S,$)),O=O.j($).add(y(U))):(O=O.j(x),O=O.add(y(U)))}return O}var d=p(0),g=p(1),_=p(16777216);i=f.prototype,i.m=function(){if(b(this))return-R(this).m();for(var I=0,S=1,x=0;x<this.g.length;x++){var O=this.i(x);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+R(this).toString(I);for(var S=y(Math.pow(I,6)),x=this,O="";;){var j=V(x,S).g;x=T(x,j.j(S));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=j,v(x))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function b(I){return I.h==-1}i.l=function(I){return I=T(this,I),b(I)?-1:v(I)?0:1};function R(I){for(var S=I.g.length,x=[],O=0;O<S;O++)x[O]=~I.g[O];return new f(x,~I.h).add(g)}i.abs=function(){return b(this)?R(this):this},i.add=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0,j=0;j<=S;j++){var $=O+(this.i(j)&65535)+(I.i(j)&65535),U=($>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);O=U>>>16,$&=65535,U&=65535,x[j]=U<<16|$}return new f(x,x[x.length-1]&-2147483648?-1:0)};function T(I,S){return I.add(R(S))}i.j=function(I){if(v(this)||v(I))return d;if(b(this))return b(I)?R(this).j(R(I)):R(R(this).j(I));if(b(I))return R(this.j(R(I)));if(0>this.l(_)&&0>I.l(_))return y(this.m()*I.m());for(var S=this.g.length+I.g.length,x=[],O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<I.g.length;j++){var $=this.i(O)>>>16,U=this.i(O)&65535,he=I.i(j)>>>16,pe=I.i(j)&65535;x[2*O+2*j]+=U*pe,A(x,2*O+2*j),x[2*O+2*j+1]+=$*pe,A(x,2*O+2*j+1),x[2*O+2*j+1]+=U*he,A(x,2*O+2*j+1),x[2*O+2*j+2]+=$*he,A(x,2*O+2*j+2)}for(O=0;O<S;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=S;O<2*S;O++)x[O]=0;return new f(x,0)};function A(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function D(I,S){this.g=I,this.h=S}function V(I,S){if(v(S))throw Error("division by zero");if(v(I))return new D(d,d);if(b(I))return S=V(R(I),S),new D(R(S.g),R(S.h));if(b(S))return S=V(I,R(S)),new D(R(S.g),S.h);if(30<I.g.length){if(b(I)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var x=g,O=S;0>=O.l(I);)x=L(x),O=L(O);var j=k(x,1),$=k(O,1);for(O=k(O,2),x=k(x,2);!v(O);){var U=$.add(O);0>=U.l(I)&&(j=j.add(x),$=U),O=k(O,1),x=k(x,1)}return S=T(I,j.j(S)),new D(j,S)}for(j=d;0<=I.l(S);){for(x=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=y(x),U=$.j(S);b(U)||0<U.l(I);)x-=O,$=y(x),U=$.j(S);v($)&&($=g),j=j.add($),I=T(I,U)}return new D(j,I)}i.A=function(I){return V(this,I).h},i.and=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)&I.i(O);return new f(x,this.h&I.h)},i.or=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)|I.i(O);return new f(x,this.h|I.h)},i.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)^I.i(O);return new f(x,this.h^I.h)};function L(I){for(var S=I.g.length+1,x=[],O=0;O<S;O++)x[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(x,I.h)}function k(I,S){var x=S>>5;S%=32;for(var O=I.g.length-x,j=[],$=0;$<O;$++)j[$]=0<S?I.i($+x)>>>S|I.i($+x+1)<<32-S:I.i($+x);return new f(j,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,C0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,sa=f}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,_l,O0,gc,Ld,I0,M0,N0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,M){return h==Array.prototype||h==Object.prototype||(h[C]=M.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var C=0;C<h.length;++C){var M=h[C];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var s=r(this);function o(h,C){if(C)e:{var M=s;h=h.split(".");for(var z=0;z<h.length-1;z++){var K=h[z];if(!(K in M))break e;M=M[K]}h=h[h.length-1],z=M[h],C=C(z),C!=z&&C!=null&&e(M,h,{configurable:!0,writable:!0,value:C})}}function u(h,C){h instanceof String&&(h+="");var M=0,z=!1,K={next:function(){if(!z&&M<h.length){var ie=M++;return{value:C(ie,h[ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(h){return h||function(){return u(this,function(C,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function y(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function E(h,C,M){return h.call.apply(h.bind,arguments)}function d(h,C,M){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,z),h.apply(C,K)}}return function(){return h.apply(C,arguments)}}function g(h,C,M){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:d,g.apply(null,arguments)}function _(h,C){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,C){function M(){}M.prototype=C.prototype,h.aa=C.prototype,h.prototype=new M,h.prototype.constructor=h,h.Qb=function(z,K,ie){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return C.prototype[K].apply(z,ve)}}function b(h){const C=h.length;if(0<C){const M=Array(C);for(let z=0;z<C;z++)M[z]=h[z];return M}return[]}function R(h,C){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(p(z)){const K=h.length||0,ie=z.length||0;h.length=K+ie;for(let ve=0;ve<ie;ve++)h[K+ve]=z[ve]}else h.push(z)}}class T{constructor(C,M){this.i=C,this.j=M,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var L=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function k(h,C,M){for(const z in h)C.call(M,h[z],z,h)}function I(h,C){for(const M in h)C.call(void 0,h[M],M,h)}function S(h){const C={};for(const M in h)C[M]=h[M];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,C){let M,z;for(let K=1;K<arguments.length;K++){z=arguments[K];for(M in z)h[M]=z[M];for(let ie=0;ie<x.length;ie++)M=x[ie],Object.prototype.hasOwnProperty.call(z,M)&&(h[M]=z[M])}}function j(h){var C=1;h=h.split(":");const M=[];for(;0<C&&h.length;)M.push(h.shift()),C--;return h.length&&M.push(h.join(":")),M}function $(h){c.setTimeout(()=>{throw h},0)}function U(){var h=Re;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class he{constructor(){this.h=this.g=null}add(C,M){const z=pe.get();z.set(C,M),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new T(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(C,M){this.h=C,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ye=!1,Re=new he,B=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(ne)}};var ne=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(M){$(M)}var C=pe;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}ye=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const M=()=>{};c.addEventListener("test",M,C),c.removeEventListener("test",M,C)}catch{}return h}();function je(h,C){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var M=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(L){e:{try{V(C.nodeName);var K=!0;break e}catch{}K=!1}K||(C=null)}}else M=="mouseover"?C=h.fromElement:M=="mouseout"&&(C=h.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}v(je,ce);var xe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Gn(h,C,M,z,K){this.listener=h,this.proxy=null,this.src=C,this.type=M,this.capture=!!z,this.ha=K,this.key=++pt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fn(h){this.src=h,this.g={},this.h=0}fn.prototype.add=function(h,C,M,z,K){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=Yr(h,C,z,K);return-1<ve?(C=h[ve],M||(C.fa=!1)):(C=new Gn(C,this.src,ie,!!z,K),C.fa=M,h.push(C)),C};function br(h,C){var M=C.type;if(M in h.g){var z=h.g[M],K=Array.prototype.indexOf.call(z,C,void 0),ie;(ie=0<=K)&&Array.prototype.splice.call(z,K,1),ie&&(St(C),h.g[M].length==0&&(delete h.g[M],h.h--))}}function Yr(h,C,M,z){for(var K=0;K<h.length;++K){var ie=h[K];if(!ie.da&&ie.listener==C&&ie.capture==!!M&&ie.ha==z)return K}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),ba={};function ss(h,C,M,z,K){if(Array.isArray(C)){for(var ie=0;ie<C.length;ie++)ss(h,C[ie],M,z,K);return null}return M=Ri(M),h&&h[Tt]?h.K(C,M,y(z)?!!z.capture:!1,K):bn(h,C,M,!1,z,K)}function bn(h,C,M,z,K,ie){if(!C)throw Error("Invalid event type");var ve=y(K)?!!K.capture:!!K,tt=Qn(h);if(tt||(h[_n]=tt=new fn(h)),M=tt.add(C,M,z,ve,ie),M.proxy)return M;if(z=ho(),M.proxy=z,z.src=h,z.listener=M,h.addEventListener)_e||(K=ve),K===void 0&&(K=!1),h.addEventListener(C.toString(),z,K);else if(h.attachEvent)h.attachEvent(Kr(C.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function ho(){function h(M){return C.call(h.src,h.listener,M)}const C=dr;return h}function Ea(h,C,M,z,K){if(Array.isArray(C))for(var ie=0;ie<C.length;ie++)Ea(h,C[ie],M,z,K);else z=y(z)?!!z.capture:!!z,M=Ri(M),h&&h[Tt]?(h=h.i,C=String(C).toString(),C in h.g&&(ie=h.g[C],M=Yr(ie,M,z,K),-1<M&&(St(ie[M]),Array.prototype.splice.call(ie,M,1),ie.length==0&&(delete h.g[C],h.h--)))):h&&(h=Qn(h))&&(C=h.g[C.toString()],h=-1,C&&(h=Yr(C,M,z,K)),(M=-1<h?C[h]:null)&&Si(M))}function Si(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[Tt])br(C.i,h);else{var M=h.type,z=h.proxy;C.removeEventListener?C.removeEventListener(M,z,h.capture):C.detachEvent?C.detachEvent(Kr(M),z):C.addListener&&C.removeListener&&C.removeListener(z),(M=Qn(C))?(br(M,h),M.h==0&&(M.src=null,C[_n]=null)):St(h)}}}function Kr(h){return h in ba?ba[h]:ba[h]="on"+h}function dr(h,C){if(h.da)h=!0;else{C=new je(C,this);var M=h.listener,z=h.ha||h.src;h.fa&&Si(h),h=M.call(z,C)}return h}function Qn(h){return h=h[_n],h instanceof fn?h:null}var Ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(h){return typeof h=="function"?h:(h[Ai]||(h[Ai]=function(C){return h.handleEvent(C)}),h[Ai])}function lt(){me.call(this),this.i=new fn(this),this.M=this,this.F=null}v(lt,me),lt.prototype[Tt]=!0,lt.prototype.removeEventListener=function(h,C,M,z){Ea(this,h,C,M,z)};function He(h,C){var M,z=h.F;if(z)for(M=[];z;z=z.F)M.push(z);if(h=h.M,z=C.type||C,typeof C=="string")C=new ce(C,h);else if(C instanceof ce)C.target=C.target||h;else{var K=C;C=new ce(z,h),O(C,K)}if(K=!0,M)for(var ie=M.length-1;0<=ie;ie--){var ve=C.g=M[ie];K=hn(ve,z,!0,C)&&K}if(ve=C.g=h,K=hn(ve,z,!0,C)&&K,K=hn(ve,z,!1,C)&&K,M)for(ie=0;ie<M.length;ie++)ve=C.g=M[ie],K=hn(ve,z,!1,C)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var M=h.g[C],z=0;z<M.length;z++)St(M[z]);delete h.g[C],h.h--}}this.F=null},lt.prototype.K=function(h,C,M,z){return this.i.add(String(h),C,!1,M,z)},lt.prototype.L=function(h,C,M,z){return this.i.add(String(h),C,!0,M,z)};function hn(h,C,M,z){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var K=!0,ie=0;ie<C.length;++ie){var ve=C[ie];if(ve&&!ve.da&&ve.capture==M){var tt=ve.listener,Bt=ve.ha||ve.src;ve.fa&&br(h.i,ve),K=tt.call(Bt,z)!==!1&&K}}return K&&!z.defaultPrevented}function kt(h,C,M){if(typeof h=="function")M&&(h=g(h,M));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(h,C||0)}function os(h){h.g=kt(()=>{h.g=null,h.i&&(h.i=!1,os(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class Yn extends me{constructor(C,M){super(),this.m=C,this.l=M,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:os(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){me.call(this),this.h=h,this.g={}}v(Er,me);var Tr=[];function wr(h){k(h.g,function(C,M){this.g.hasOwnProperty(M)&&Si(C)},h),h.g={}}Er.prototype.N=function(){Er.aa.N.call(this),wr(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=c.JSON.stringify,Xr=c.JSON.parse,Kn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function xi(){}xi.prototype.h=null;function Zr(h){return h.h||(h.h=h.i())}function Ta(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ce.call(this,"d")}v(mr,ce);function Ci(){ce.call(this,"c")}v(Ci,ce);var En={},Sr=null;function Ar(){return Sr=Sr||new lt}En.La="serverreachability";function Di(h){ce.call(this,En.La,h)}v(Di,ce);function H(h){const C=Ar();He(C,new Di(C))}En.STAT_EVENT="statevent";function Y(h,C){ce.call(this,En.STAT_EVENT,h),this.stat=C}v(Y,ce);function Z(h){const C=Ar();He(C,new Y(C,h))}En.Ma="timingevent";function le(h,C){ce.call(this,En.Ma,h),this.size=C}v(le,ce);function ge(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},C)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(h,C,M,z,K,ie){h.info(function(){if(h.g)if(ie)for(var ve="",tt=ie.split("&"),Bt=0;Bt<tt.length;Bt++){var nt=tt[Bt].split("=");if(1<nt.length){var Xt=nt[0];nt=nt[1];var qt=Xt.split("_");ve=2<=qt.length&&qt[1]=="type"?ve+(Xt+"="+nt+"&"):ve+(Xt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+z+") [attempt "+K+"]: "+C+`
`+M+`
`+ve})}function Te(h,C,M,z,K,ie,ve){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+K+"]: "+C+`
`+M+`
`+ie+" "+ve})}function Se(h,C,M,z){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ne(h,M)+(z?" "+z:"")})}function Ce(h,C){h.info(function(){return"TIMEOUT: "+C})}Ee.prototype.info=function(){};function Ne(h,C){if(!h.g)return C;if(!C)return null;try{var M=JSON.parse(C);if(M){for(h=0;h<M.length;h++)if(Array.isArray(M[h])){var z=M[h];if(!(2>z.length)){var K=z[1];if(Array.isArray(K)&&!(1>K.length)){var ie=K[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<K.length;ve++)K[ve]=""}}}}return Mn(M)}catch{return C}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function ct(){}v(ct,xi),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Ke=new ct;function st(h,C,M,z){this.j=h,this.i=C,this.l=M,this.R=z||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},Zn={};function $t(h,C,M){h.L=1,h.v=Aa(kn(C)),h.m=M,h.P=!0,Tn(h,null)}function Tn(h,C){h.F=Date.now(),Nn(h),h.A=kn(h.v);var M=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),vo(M.i,"t",z),h.C=0,M=h.j.J,h.h=new et,h.g=tu(h.j,M?C:null,!h.m),0<h.O&&(h.M=new Yn(g(h.Y,h,h.g),h.O)),C=h.U,M=h.g,z=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Tr[0]=K.toString()),K=Tr);for(var ie=0;ie<K.length;ie++){var ve=ss(M,K[ie],z||C.handleEvent,!1,C.h||C);if(!ve)break;C.g[ve.key]=ve}C=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),H(),Ie(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const C=this.M;C&&nr(h)==3?C.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const qt=nr(this.g);var C=this.g.Ba();const ai=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||qt!=4||C==7||(C==8||0>=ai?H(3):H(2)),dn(this);var M=this.g.Z();this.X=M;t:if(tn(this)){var z=Ql(this.g);h="";var K=z.length,ie=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),wn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(C=0;C<K;C++)this.h.h=!0,h+=this.h.i.decode(z[C],{stream:!(ie&&C==K-1)});z.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=M==200,Te(this.i,this.u,this.A,this.l,this.R,qt,M),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Bt=this.g;if((tt=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(tt)){var nt=tt;break t}}nt=null}if(M=nt)Se(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lt(this,M);else{this.o=!1,this.s=3,Z(12),ze(this),wn(this);break e}}if(this.P){M=!0;let rn;for(;!this.J&&this.C<ve.length;)if(rn=Rr(this,ve),rn==Zn){qt==4&&(this.s=4,Z(14),M=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qe){this.s=4,Z(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),M=!1;break}else Se(this.i,this.l,rn,null),Lt(this,rn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ve.length!=0||this.h.h||(this.s=1,Z(16),M=!1),this.o=this.o&&M,!M)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),wn(this);else if(0<ve.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Na(Xt),Xt.M=!0,Z(11))}}else Se(this.i,this.l,ve,null),Lt(this,ve);qt==4&&ze(this),this.o&&!this.J&&(qt==4?Jl(this.j,this):(this.o=!1,Nn(this)))}else pf(this.g),M==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),ze(this),wn(this)}}}catch{}finally{}};function tn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Rr(h,C){var M=h.C,z=C.indexOf(`
`,M);return z==-1?Zn:(M=Number(C.substring(M,z)),isNaN(M)?Qe:(z+=1,z+M>C.length?Zn:(C=C.slice(z,z+M),h.C=z+M,C)))}st.prototype.cancel=function(){this.J=!0,ze(this)};function Nn(h){h.S=Date.now()+h.I,Oi(h,h.I)}function Oi(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(g(h.ba,h),C)}function dn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&(H(),Z(17)),ze(this),this.s=2,wn(this)):Oi(this,this.S-h)};function wn(h){h.j.G==0||h.J||Jl(h.j,h)}function ze(h){dn(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,wr(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function Lt(h,C){try{var M=h.j;if(M.G!=0&&(M.g==h||Jn(M.h,h))){if(!h.K&&Jn(M.h,h)&&M.G==3){try{var z=M.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var K=z;if(K[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<h.F)gs(M),ms(M);else break e;wo(M),Z(18)}}else M.za=K[1],0<M.za-M.T&&37500>K[2]&&M.F&&M.v==0&&!M.C&&(M.C=ge(g(M.Za,M),6e3));if(1>=bt(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ii(M,11)}else if((h.K||M.g==h)&&gs(M),!A(C))for(K=M.Da.g.parse(C),C=0;C<K.length;C++){let nt=K[C];if(M.T=nt[0],nt=nt[1],M.G==2)if(nt[0]=="c"){M.K=nt[1],M.ia=nt[2];const Xt=nt[3];Xt!=null&&(M.la=Xt,M.j.info("VER="+M.la));const qt=nt[4];qt!=null&&(M.Aa=qt,M.j.info("SVER="+M.Aa));const ai=nt[5];ai!=null&&typeof ai=="number"&&0<ai&&(z=1.5*ai,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const rn=h.g;if(rn){const Vr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var ie=z.h;ie.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Jr(ie,ie.h),ie.h=null))}if(z.D){const Ao=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(z.ya=Ao,gt(z.I,z.D,Ao))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-h.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var ve=h;if(z.qa=eu(z,z.J?z.ia:null,z.W),ve.K){nn(z.h,ve);var tt=ve,Bt=z.L;Bt&&(tt.I=Bt),tt.B&&(dn(tt),Nn(tt)),z.g=ve}else Xl(z);0<M.i.length&&ps(M)}else nt[0]!="stop"&&nt[0]!="close"||ii(M,7);else M.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ii(M,7):Eo(M):nt[0]!="noop"&&M.l&&M.l.ta(nt),M.v=0)}}H(4)}catch{}}var Vn=class{constructor(h,C){this.g=h,this.map=C}};function Rn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bt(h){return h.h?1:h.g?h.g.size:0}function Jn(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function Jr(h,C){h.g?h.g.add(C):h.h=C}function nn(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}Rn.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function mo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const M of h.g.values())C=C.concat(M.D);return C}return b(h.i)}function ff(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var C=[],M=h.length,z=0;z<M;z++)C.push(h[z]);return C}C=[],M=0;for(z in h)C[M++]=h[z];return C}function ls(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var C=[];h=h.length;for(var M=0;M<h;M++)C.push(M);return C}C=[],M=0;for(const z in h)C[M++]=z;return C}}}function po(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var M=ls(h),z=ff(h),K=z.length,ie=0;ie<K;ie++)C.call(void 0,z[ie],M&&M[ie],h)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(h,C){if(h){h=h.split("&");for(var M=0;M<h.length;M++){var z=h[M].indexOf("="),K=null;if(0<=z){var ie=h[M].substring(0,z);K=h[M].substring(z+1)}else ie=h[M];C(ie,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function jt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof jt){this.h=h.h,Sa(this,h.j),this.o=h.o,this.g=h.g,Ii(this,h.s),this.l=h.l;var C=h.i,M=new ei;M.i=C.i,C.g&&(M.g=new Map(C.g),M.h=C.h),Wr(this,M),this.m=h.m}else h&&(C=String(h).match(wa))?(this.h=!1,Sa(this,C[1]||"",!0),this.o=Wn(C[2]||""),this.g=Wn(C[3]||"",!0),Ii(this,C[4]),this.l=Wn(C[5]||"",!0),Wr(this,C[6]||"",!0),this.m=Wn(C[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}jt.prototype.toString=function(){var h=[],C=this.j;C&&h.push(Ra(C,go,!0),":");var M=this.g;return(M||C=="file")&&(h.push("//"),(C=this.o)&&h.push(Ra(C,go,!0),"@"),h.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&h.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&h.push("/"),h.push(Ra(M,M.charAt(0)=="/"?df:yo,!0))),(M=this.i.toString())&&h.push("?",M),(M=this.m)&&h.push("#",Ra(M,us)),h.join("")};function kn(h){return new jt(h)}function Sa(h,C,M){h.j=M?Wn(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function Ii(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function Wr(h,C,M){C instanceof ei?(h.i=C,Fl(h.i,h.h)):(M||(C=Ra(C,mf)),h.i=new ei(C,h.h))}function gt(h,C,M){h.i.set(C,M)}function Aa(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wn(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ra(h,C,M){return typeof h=="string"?(h=encodeURI(h).replace(C,Hl),M&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var go=/[#\/\?@]/g,yo=/[#\?:]/g,df=/[#\?]/g,mf=/[#\?@]/g,us=/#/g;function ei(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function er(h){h.g||(h.g=new Map,h.h=0,h.i&&hf(h.i,function(C,M){h.add(decodeURIComponent(C.replace(/\+/g," ")),M)}))}i=ei.prototype,i.add=function(h,C){er(this),this.i=null,h=Cr(this,h);var M=this.g.get(h);return M||this.g.set(h,M=[]),M.push(C),this.h+=1,this};function ti(h,C){er(h),C=Cr(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function ni(h,C){return er(h),C=Cr(h,C),h.g.has(C)}i.forEach=function(h,C){er(this),this.g.forEach(function(M,z){M.forEach(function(K){h.call(C,K,z,this)},this)},this)},i.na=function(){er(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),M=[];for(let z=0;z<C.length;z++){const K=h[z];for(let ie=0;ie<K.length;ie++)M.push(C[z])}return M},i.V=function(h){er(this);let C=[];if(typeof h=="string")ni(this,h)&&(C=C.concat(this.g.get(Cr(this,h))));else{h=Array.from(this.g.values());for(let M=0;M<h.length;M++)C=C.concat(h[M])}return C},i.set=function(h,C){return er(this),this.i=null,h=Cr(this,h),ni(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},i.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function vo(h,C,M){ti(h,C),0<M.length&&(h.i=null,h.g.set(Cr(h,C),b(M)),h.h+=M.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var M=0;M<C.length;M++){var z=C[M];const ie=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var K=ie;ve[z]!==""&&(K+="="+encodeURIComponent(String(ve[z]))),h.push(K)}}return this.i=h.join("&")};function Cr(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function Fl(h,C){C&&!h.j&&(er(h),h.i=null,h.g.forEach(function(M,z){var K=z.toLowerCase();z!=K&&(ti(this,z),vo(this,K,M))},h)),h.j=C}function xa(h,C){const M=new Ee;if(c.Image){const z=new Image;z.onload=_(tr,M,"TestLoadImage: loaded",!0,C,z),z.onerror=_(tr,M,"TestLoadImage: error",!1,C,z),z.onabort=_(tr,M,"TestLoadImage: abort",!1,C,z),z.ontimeout=_(tr,M,"TestLoadImage: timeout",!1,C,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else C(!1)}function pr(h,C){const M=new Ee,z=new AbortController,K=setTimeout(()=>{z.abort(),tr(M,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:z.signal}).then(ie=>{clearTimeout(K),ie.ok?tr(M,"TestPingServer: ok",!0,C):tr(M,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(K),tr(M,"TestPingServer: error",!1,C)})}function tr(h,C,M,z,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),z(M)}catch{}}function Ca(){this.g=new Kn}function Dr(h,C,M){const z=M||"";try{po(h,function(K,ie){let ve=K;y(K)&&(ve=Mn(K)),C.push(z+ie+"="+encodeURIComponent(ve))})}catch(K){throw C.push(z+"type="+encodeURIComponent("_badmap")),K}}function Mi(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Mi,xi),Mi.prototype.g=function(){return new ri(this.l,this.j)},Mi.prototype.i=function(h){return function(){return h}}({});function ri(h,C){lt.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ri,lt),i=ri.prototype,i.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,Ir(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?Or(this):Ir(this),this.readyState==3&&_o(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,Or(this))},i.Qa=function(h){this.g&&(this.response=h,Or(this))},i.ga=function(){this.g&&Or(this)};function Or(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ir(h)}i.setRequestHeader=function(h,C){this.u.append(h,C)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var M=C.next();!M.done;)M=M.value,h.push(M[0]+": "+M[1]),M=C.next();return h.join(`\r
`)};function Ir(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function bo(h){let C="";return k(h,function(M,z){C+=z,C+=":",C+=M,C+=`\r
`}),C}function Kt(h,C,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=bo(M),typeof h=="string"?M!=null&&encodeURIComponent(String(M)):gt(h,C,M))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var cs=/^https?$/i,Da=["POST","PUT"];i=ft.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,C,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Zr(this.o):Zr(Ke),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(ie){Gl(this,ie);return}if(h=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var K in z)M.set(K,z[K]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ie of z.keys())M.set(ie,z.get(ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Da,C,void 0))||z||K||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of M)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Gl(this,ie)}};function Gl(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,fs(h),Mr(h)}function fs(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,He(this,"complete"),He(this,"abort"),Mr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?hs(this):this.bb())},i.bb=function(){hs(this)};function hs(h){if(h.h&&typeof f<"u"&&(!h.v[1]||nr(h)!=4||h.Z()!=2)){if(h.u&&nr(h)==4)kt(h.Ea,0,h);else if(He(h,"readystatechange"),nr(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var M;if(!(M=C)){var z;if(z=ve===0){var K=String(h.D).match(wa)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),z=!cs.test(K?K.toLowerCase():"")}M=z}if(M)He(h,"complete"),He(h,"success");else{h.m=6;try{var ie=2<nr(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",fs(h)}}finally{Mr(h)}}}}function Mr(h,C){if(h.g){Oa(h);const M=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||He(h,"ready");try{M.onreadystatechange=z}catch{}}}function Oa(h){h.I&&(c.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),Xr(C)}};function Ql(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(h){const C={};h=(h.g&&2<=nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(A(h[z]))continue;var M=j(h[z]);const K=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ie=C[K]||[];C[K]=ie,ie.push(M)}I(C,function(z){return z.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(h,C,M){return M&&M.internalChannelParams&&M.internalChannelParams[h]||C}function ds(h){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,h),this.cb=Ia("retryDelaySeedMs",1e4,h),this.Wa=Ia("forwardChannelMaxRetries",2,h),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(h&&h.concurrentRequestLimit),this.Da=new Ca,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ds.prototype,i.la=8,i.G=1,i.connect=function(h,C,M,z){Z(0),this.W=h,this.H=C||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=eu(this,null,this.W),ps(this)};function Eo(h){if(Yl(h),h.G==3){var C=h.U++,M=kn(h.I);if(gt(M,"SID",h.K),gt(M,"RID",C),gt(M,"TYPE","terminate"),Ma(h,M),C=new st(h,h.j,C),C.L=2,C.v=Aa(kn(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=C.v,M=!0),M||(C.g=tu(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Nn(C)}Wl(h)}function ms(h){h.g&&(Na(h),h.g.cancel(),h.g=null)}function Yl(h){ms(h),h.u&&(c.clearTimeout(h.u),h.u=null),gs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ps(h){if(!xr(h.h)&&!h.s){h.s=!0;var C=h.Ga;se||B(),ye||(se(),ye=!0),Re.add(C,h),h.B=0}}function gf(h,C){return bt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(g(h.Ga,h,C),So(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new st(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=S(ie),O(ie,this.S)):ie=this.S),this.m!==null||this.O||(K.H=ie,ie=null),this.P)e:{for(var C=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=M;break e}if(C===4096||M===this.i.length-1){C=M+1;break e}}C=1e3}else C=1e3;C=Kl(this,K,C),M=kn(this.I),gt(M,"RID",h),gt(M,"CVER",22),this.D&&gt(M,"X-HTTP-Session-Id",this.D),Ma(this,M),ie&&(this.O?C="headers="+encodeURIComponent(String(bo(ie)))+"&"+C:this.m&&Kt(M,this.m,ie)),Jr(this.h,K),this.Ua&&gt(M,"TYPE","init"),this.P?(gt(M,"$req",C),gt(M,"SID","null"),K.T=!0,$t(K,M,null)):$t(K,M,C),this.G=2}}else this.G==3&&(h?To(this,h):this.i.length==0||xr(this.h)||To(this))};function To(h,C){var M;C?M=C.l:M=h.U++;const z=kn(h.I);gt(z,"SID",h.K),gt(z,"RID",M),gt(z,"AID",h.T),Ma(h,z),h.m&&h.o&&Kt(z,h.m,h.o),M=new st(h,h.j,M,h.B+1),h.m===null&&(M.H=h.o),C&&(h.i=C.D.concat(h.i)),C=Kl(h,M,1e3),M.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jr(h.h,M),$t(M,z,C)}function Ma(h,C){h.H&&k(h.H,function(M,z){gt(C,z,M)}),h.l&&po({},function(M,z){gt(C,z,M)})}function Kl(h,C,M){M=Math.min(h.i.length,M);var z=h.l?g(h.l.Na,h.l,h):null;e:{var K=h.i;let ie=-1;for(;;){const ve=["count="+M];ie==-1?0<M?(ie=K[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let tt=!0;for(let Bt=0;Bt<M;Bt++){let nt=K[Bt].g;const Xt=K[Bt].map;if(nt-=ie,0>nt)ie=Math.max(0,K[Bt].g-100),tt=!1;else try{Dr(Xt,ve,"req"+nt+"_")}catch{z&&z(Xt)}}if(tt){z=ve.join("&");break e}}}return h=h.i.splice(0,M),C.D=h,z}function Xl(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;se||B(),ye||(se(),ye=!0),Re.add(C,h),h.v=0}}function wo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(g(h.Fa,h),So(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(g(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),ms(this),Zl(this))};function Na(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Zl(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=kn(h.qa);gt(C,"RID","rpc"),gt(C,"SID",h.K),gt(C,"AID",h.T),gt(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(C,"TO",h.ja),gt(C,"TYPE","xmlhttp"),Ma(h,C),h.m&&h.o&&Kt(C,h.m,h.o),h.L&&(h.g.I=h.L);var M=h.g;h=h.ia,M.L=1,M.v=Aa(kn(C)),M.m=null,M.P=!0,Tn(M,h)}i.Za=function(){this.C!=null&&(this.C=null,ms(this),wo(this),Z(19))};function gs(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Jl(h,C){var M=null;if(h.g==C){gs(h),Na(h),h.g=null;var z=2}else if(Jn(h.h,C))M=C.D,nn(h.h,C),z=1;else return;if(h.G!=0){if(C.o)if(z==1){M=C.m?C.m.length:0,C=Date.now()-C.F;var K=h.B;z=Ar(),He(z,new le(z,M)),ps(h)}else Xl(h);else if(K=C.s,K==3||K==0&&0<C.X||!(z==1&&gf(h,C)||z==2&&wo(h)))switch(M&&0<M.length&&(C=h.h,C.i=C.i.concat(M)),K){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function So(h,C){let M=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(M*=2),M*C}function ii(h,C){if(h.j.info("Error code "+C),C==2){var M=g(h.fb,h),z=h.Xa;const K=!z;z=new jt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Sa(z,"https"),Aa(z),K?xa(z.toString(),M):pr(z.toString(),M)}else Z(2);h.G=0,h.l&&h.l.sa(C),Wl(h),Yl(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function Wl(h){if(h.G=0,h.ka=[],h.l){const C=mo(h.h);(C.length!=0||h.i.length!=0)&&(R(h.ka,C),R(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function eu(h,C,M){var z=M instanceof jt?kn(M):new jt(M);if(z.g!="")C&&(z.g=C+"."+z.g),Ii(z,z.s);else{var K=c.location;z=K.protocol,C=C?C+"."+K.hostname:K.hostname,K=+K.port;var ie=new jt(null);z&&Sa(ie,z),C&&(ie.g=C),K&&Ii(ie,K),M&&(ie.l=M),z=ie}return M=h.D,C=h.ya,M&&C&&gt(z,M,C),gt(z,"VER",h.la),Ma(h,z),z}function tu(h,C,M){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new ft(new Mi({eb:M})):new ft(h.pa),C.Ha(h.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}i=nu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ys(){}ys.prototype.g=function(h,C){return new Sn(h,C)};function Sn(h,C){lt.call(this),this.g=new ds(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!A(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!A(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Nr(this)}v(Sn,lt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Eo(this.g)},Sn.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var M={};M.__data__=h,h=M}else this.u&&(M={},M.__data__=Mn(h),h=M);C.i.push(new Vn(C.Ya++,h)),C.G==3&&ps(C)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Sn.aa.N.call(this)};function ru(h){mr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const M in C){h=M;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}v(ru,mr);function iu(){Ci.call(this),this.status=1}v(iu,Ci);function Nr(h){this.g=h}v(Nr,nu),Nr.prototype.ua=function(){He(this.g,"a")},Nr.prototype.ta=function(h){He(this.g,new ru(h))},Nr.prototype.sa=function(h){He(this.g,new iu)},Nr.prototype.ra=function(){He(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,N0=function(){return new ys},M0=function(){return Ar()},I0=En,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,gc=Ae,ke.COMPLETE="complete",O0=ke,Ta.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,_l=Ta,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,D0=ft}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Yv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new T0("@firebase/firestore");function Qs(){return es.logLevel}function be(i,...e){if(es.logLevel<=at.DEBUG){const r=e.map(dm);es.debug(`Firestore (${lo}): ${i}`,...r)}}function bi(i,...e){if(es.logLevel<=at.ERROR){const r=e.map(dm);es.error(`Firestore (${lo}): ${i}`,...r)}}function eo(i,...e){if(es.logLevel<=at.WARN){const r=e.map(dm);es.warn(`Firestore (${lo}): ${i}`,...r)}}function dm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,V0(i,s,r)}function V0(i,e,r){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw bi(s),new Error(s)}function ht(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||V0(e,o,s)}function Be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends oo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class R1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class x1{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let u=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oa,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oa)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht(typeof s.accessToken=="string",31837,{l:s}),new k0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class C1{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D1{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new C1(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O1{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,l1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ht(this.o===void 0,3512);const s=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Kv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=I1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function jd(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=L0(),f=M1(u.encode(Xv(i,r)),u.encode(Xv(e,r)));return f!==0?f:Ge(s,o)}}r+=s>65535?2:1}return Ge(i.length,e.length)}function Xv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function M1(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Ge(i[r],e[r]);return Ge(i.length,e.length)}function to(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Jv=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Jv);return new Qt(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Zv)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Qt(0,0))}static max(){return new $e(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class zr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Pe(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Pe(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=zr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ge(e.length,r.length)}static compareSegments(e,r){const s=zr.isNumericId(e),o=zr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?zr.extractNumericId(e).compare(zr.extractNumericId(r)):jd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class Rt extends zr{construct(e,r,s){return new Rt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Rt(r)}static emptyPath(){return new Rt([])}}const N1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends zr{construct(e,r,s){return new un(e,r,s)}static isValidIdentifier(e){return N1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new un([Wv])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(s+=c,o++):(u(),o++)}if(u(),f)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(r)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Rt.fromString(e))}static fromName(e){return new Me(Rt.fromString(e).popFirst(5))}static empty(){return new Me(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function V1(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new Qt(r+1,0):new Qt(r,s));return new fa(o,Me.empty(),e)}function k1(i){return new fa(i.readTime,i.key,Ol)}class fa{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new fa($e.min(),Me.empty(),Ol)}static max(){return new fa($e.max(),Me.empty(),Ol)}}function L1(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(i.documentKey,e.documentKey),r!==0?r:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==j1)throw i;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,s)=>{r(e)})}static reject(e){return new fe((r,s)=>{s(e)})}static waitFor(e){return new fe((r,s)=>{let o=0,u=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++u,f&&u===o&&r()},p=>s(p))}),f=!0,u===o&&r()})}static or(e){let r=fe.resolve(!1);for(const s of e)r=r.next(o=>o?fe.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}static mapArray(e,r){return new fe((s,o)=>{const u=e.length,f=new Array(u);let c=0;for(let p=0;p<u;p++){const y=p;r(e[y]).next(E=>{f[y]=E,++c,c===u&&s(f)},E=>o(E))}})}static doWhile(e,r){return new fe((s,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):s()};u()})}}function U1(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Fc(i){return i==null}function Oc(i){return i===0&&1/i==-1/0}function z1(i){return typeof i=="number"&&Number.isInteger(i)&&!Oc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="";function $1(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=e_(e)),e=B1(i.get(r),e);return e_(e)}function B1(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case P0:r+="";break;default:r+=u}}return r}function e_(i){return i+P0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ya(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function U0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||ln.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new ln(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new ln(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Yt(this.comparator);return r.data=e,r}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Fn([])}unionWith(e){let r=new Yt(un.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Fn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new z0("Invalid base64 string: "+u):u}}(e);return new cn(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new cn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(i){if(ht(!!i,39018),typeof i=="string"){let e=0;const r=q1.exec(i);if(ht(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function da(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="server_timestamp",B0="__type__",q0="__previous_value__",H0="__local_write_time__";function pm(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[B0])===null||r===void 0?void 0:r.stringValue)===$0}function Gc(i){const e=i.mapValue.fields[q0];return pm(e)?Gc(e):e}function Il(i){const e=ha(i.mapValue.fields[H0].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,r,s,o,u,f,c,p,y){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=y}}const Ic="(default)";class Ml{constructor(e,r){this.projectId=e,this.database=r||Ic}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__type__",F1="__max__",uc={mapValue:{}},G0="__vector__",Mc="value";function ma(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pm(i)?4:Q1(i)?9007199254740991:G1(i)?10:11:Pe(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const r=ma(i);if(r!==ma(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Il(i).isEqual(Il(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ha(o.timestampValue),c=ha(u.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return da(o.bytesValue).isEqual(da(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Nt(o.doubleValue),c=Nt(u.doubleValue);return f===c?Oc(f)===Oc(c):isNaN(f)&&isNaN(c)}return!1}(i,e);case 9:return to(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},c=u.mapValue.fields||{};if(t_(f)!==t_(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!Hr(f[p],c[p])))return!1;return!0}(i,e);default:return Pe(52216,{left:i})}}function Nl(i,e){return(i.values||[]).find(r=>Hr(r,e))!==void 0}function no(i,e){if(i===e)return 0;const r=ma(i),s=ma(e);if(r!==s)return Ge(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,f){const c=Nt(u.integerValue||u.doubleValue),p=Nt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(i,e);case 3:return r_(i.timestampValue,e.timestampValue);case 4:return r_(Il(i),Il(e));case 5:return jd(i.stringValue,e.stringValue);case 6:return function(u,f){const c=da(u),p=da(f);return c.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const c=u.split("/"),p=f.split("/");for(let y=0;y<c.length&&y<p.length;y++){const E=Ge(c[y],p[y]);if(E!==0)return E}return Ge(c.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const c=Ge(Nt(u.latitude),Nt(f.latitude));return c!==0?c:Ge(Nt(u.longitude),Nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return i_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var c,p,y,E;const d=u.fields||{},g=f.fields||{},_=(c=d[Mc])===null||c===void 0?void 0:c.arrayValue,v=(p=g[Mc])===null||p===void 0?void 0:p.arrayValue,b=Ge(((y=_==null?void 0:_.values)===null||y===void 0?void 0:y.length)||0,((E=v==null?void 0:v.values)===null||E===void 0?void 0:E.length)||0);return b!==0?b:i_(_,v)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===uc.mapValue&&f===uc.mapValue)return 0;if(u===uc.mapValue)return 1;if(f===uc.mapValue)return-1;const c=u.fields||{},p=Object.keys(c),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let d=0;d<p.length&&d<E.length;++d){const g=jd(p[d],E[d]);if(g!==0)return g;const _=no(c[p[d]],y[E[d]]);if(_!==0)return _}return Ge(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Pe(23264,{Pe:r})}}function r_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const r=ha(i),s=ha(e),o=Ge(r.seconds,s.seconds);return o!==0?o:Ge(r.nanos,s.nanos)}function i_(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=no(r[o],s[o]);if(u)return u}return Ge(r.length,s.length)}function ro(i){return Pd(i)}function Pd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ha(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return da(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return Me.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Pd(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pd(r.fields[f])}`;return o+"}"}(i.mapValue):Pe(61005,{value:i})}function yc(i){switch(ma(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gc(i);return e?16+yc(e):16;case 5:return 2*i.stringValue.length;case 6:return da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ya(s.fields,(u,f)=>{o+=u.length+yc(f)}),o}(i.mapValue);default:throw Pe(13486,{value:i})}}function Ud(i){return!!i&&"integerValue"in i}function gm(i){return!!i&&"arrayValue"in i}function a_(i){return!!i&&"nullValue"in i}function s_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vc(i){return!!i&&"mapValue"in i}function G1(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||r===void 0?void 0:r.stringValue)===G0}function Tl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ya(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Tl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Q1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===F1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!vc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(r)}setAll(e){let r=un.emptyPath(),s={},o=[];e.forEach((f,c)=>{if(!r.isImmediateParentOf(c)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=c.popLast()}f?s[c.lastSegment()]=Tl(f):o.push(c.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){ya(r,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(Tl(this.value))}}function Q0(i){const e=[];return ya(i.fields,(r,s)=>{const o=new un([r]);if(vc(s)){const u=Q0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,s,o,u,f,c){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=c}static newInvalidDocument(e){return new vn(e,0,$e.min(),$e.min(),$e.min(),In.empty(),0)}static newFoundDocument(e,r,s,o){return new vn(e,1,r,$e.min(),s,o,0)}static newNoDocument(e,r){return new vn(e,2,r,$e.min(),$e.min(),In.empty(),0)}static newUnknownDocument(e,r){return new vn(e,3,r,$e.min(),$e.min(),In.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r){this.position=e,this.inclusive=r}}function o_(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Me.comparator(Me.fromName(f.referenceValue),r.key):s=no(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function l_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Hr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r="asc"){this.field=e,this.dir=r}}function Y1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{}class Gt extends Y0{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new X1(e,r,s):r==="array-contains"?new W1(e,s):r==="in"?new eR(e,s):r==="not-in"?new tR(e,s):r==="array-contains-any"?new nR(e,s):new Gt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new Z1(e,s):new J1(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(no(r,this.value)):r!==null&&ma(this.value)===ma(r)&&this.matchesComparison(no(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends Y0{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Fr(e,r)}matches(e){return K0(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function K0(i){return i.op==="and"}function X0(i){return K1(i)&&K0(i)}function K1(i){for(const e of i.filters)if(e instanceof Fr)return!1;return!0}function zd(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+ro(i.value);if(X0(i))return i.filters.map(e=>zd(e)).join(",");{const e=i.filters.map(r=>zd(r)).join(",");return`${i.op}(${e})`}}function Z0(i,e){return i instanceof Gt?function(s,o){return o instanceof Gt&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)}(i,e):i instanceof Fr?function(s,o){return o instanceof Fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,c)=>u&&Z0(f,o.filters[c]),!0):!1}(i,e):void Pe(19439)}function J0(i){return i instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${ro(r.value)}`}(i):i instanceof Fr?function(r){return r.op.toString()+" {"+r.getFilters().map(J0).join(" ,")+"}"}(i):"Filter"}class X1 extends Gt{constructor(e,r,s){super(e,r,s),this.key=Me.fromName(s.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class Z1 extends Gt{constructor(e,r){super(e,"in",r),this.keys=W0("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class J1 extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=W0("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function W0(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>Me.fromName(s.referenceValue))}class W1 extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return gm(r)&&Nl(r.arrayValue,this.value)}}class eR extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Nl(this.value.arrayValue,r)}}class tR extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Nl(this.value.arrayValue,r)}}class nR extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!gm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Nl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,r=null,s=[],o=[],u=null,f=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=c,this.Ie=null}}function u_(i,e=null,r=[],s=[],o=null,u=null,f=null){return new rR(i,e,r,s,o,u,f)}function ym(i){const e=Be(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>zd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Fc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ro(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ro(s)).join(",")),e.Ie=r}return e.Ie}function vm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Y1(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!Z0(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!l_(i.startAt,e.startAt)&&l_(i.endAt,e.endAt)}function $d(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,r=null,s=[],o=[],u=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function iR(i,e,r,s,o,u,f,c){return new Qc(i,e,r,s,o,u,f,c)}function eb(i){return new Qc(i)}function c_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function aR(i){return i.collectionGroup!==null}function wl(i){const e=Be(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Yt(un.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(c=c.add(y.field))})}),c})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Vc(u,s))}),r.has(un.keyField().canonicalString())||e.Ee.push(new Vc(un.keyField(),s))}return e.Ee}function Br(i){const e=Be(i);return e.de||(e.de=sR(e,wl(i))),e.de}function sR(i,e){if(i.limitType==="F")return u_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vc(o.field,u)});const r=i.endAt?new Nc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Nc(i.startAt.position,i.startAt.inclusive):null;return u_(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function Bd(i,e,r){return new Qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Yc(i,e){return vm(Br(i),Br(e))&&i.limitType===e.limitType}function tb(i){return`${ym(Br(i))}|lt:${i.limitType}`}function Ys(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>J0(o)).join(", ")}]`),Fc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>ro(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(Br(i))}; limitType=${i.limitType})`}function Kc(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,c,p){const y=o_(f,c,p);return f.inclusive?y<=0:y<0}(s.startAt,wl(s),o)||s.endAt&&!function(f,c,p){const y=o_(f,c,p);return f.inclusive?y>=0:y>0}(s.endAt,wl(s),o))}(i,e)}function oR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nb(i){return(e,r)=>{let s=!1;for(const o of wl(i)){const u=lR(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lR(i,e,r){const s=i.field.isKeyField()?Me.comparator(e.key,r.key):function(u,f,c){const p=f.data.field(u),y=c.data.field(u);return p!==null&&y!==null?no(p,y):Pe(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(r,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Ct(Me.comparator);function Ei(){return uR}const rb=new Ct(Me.comparator);function bl(...i){let e=rb;for(const r of i)e=e.insert(r.key,r);return e}function ib(i){let e=rb;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Wa(){return Sl()}function ab(){return Sl()}function Sl(){return new is(i=>i.toString(),(i,e)=>i.isEqual(e))}const cR=new Ct(Me.comparator),fR=new Yt(Me.comparator);function We(...i){let e=fR;for(const r of i)e=e.add(r);return e}const hR=new Yt(Ge);function dR(){return hR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function sb(i){return{integerValue:""+i}}function mR(i,e){return z1(e)?sb(e):_m(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function pR(i,e,r){return i instanceof kc?function(o,u){const f={fields:{[B0]:{stringValue:$0},[H0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pm(u)&&(u=Gc(u)),u&&(f.fields[q0]=u),{mapValue:f}}(r,e):i instanceof Vl?lb(i,e):i instanceof kl?ub(i,e):function(o,u){const f=ob(o,u),c=f_(f)+f_(o.Re);return Ud(f)&&Ud(o.Re)?sb(c):_m(o.serializer,c)}(i,e)}function gR(i,e,r){return i instanceof Vl?lb(i,e):i instanceof kl?ub(i,e):r}function ob(i,e){return i instanceof Lc?function(s){return Ud(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class kc extends Xc{}class Vl extends Xc{constructor(e){super(),this.elements=e}}function lb(i,e){const r=cb(e);for(const s of i.elements)r.some(o=>Hr(o,s))||r.push(s);return{arrayValue:{values:r}}}class kl extends Xc{constructor(e){super(),this.elements=e}}function ub(i,e){let r=cb(e);for(const s of i.elements)r=r.filter(o=>!Hr(o,s));return{arrayValue:{values:r}}}class Lc extends Xc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function f_(i){return Nt(i.integerValue||i.doubleValue)}function cb(i){return gm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function yR(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Vl&&o instanceof Vl||s instanceof kl&&o instanceof kl?to(s.elements,o.elements,Hr):s instanceof Lc&&o instanceof Lc?Hr(s.Re,o.Re):s instanceof kc&&o instanceof kc}(i.transform,e.transform)}class vR{constructor(e,r){this.version=e,this.transformResults=r}}class _r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zc{}function fb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bm(i.key,_r.none()):new Ul(i.key,i.data,_r.none());{const r=i.data,s=In.empty();let o=new Yt(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new va(i.key,s,new Fn(o.toArray()),_r.none())}}function _R(i,e,r){i instanceof Ul?function(o,u,f){const c=o.value.clone(),p=d_(o.fieldTransforms,u,f.transformResults);c.setAll(p),u.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(i,e,r):i instanceof va?function(o,u,f){if(!_c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const c=d_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(hb(o)),p.setAll(c),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,r):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function Al(i,e,r,s){return i instanceof Ul?function(u,f,c,p){if(!_c(u.precondition,f))return c;const y=u.value.clone(),E=m_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,r,s):i instanceof va?function(u,f,c,p){if(!_c(u.precondition,f))return c;const y=m_(u.fieldTransforms,p,f),E=f.data;return E.setAll(hb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(d=>d.field))}(i,e,r,s):function(u,f,c){return _c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(i,e,r)}function bR(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ob(s.transform,o||null);u!=null&&(r===null&&(r=In.empty()),r.set(s.field,u))}return r||null}function h_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>yR(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ul extends Zc{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends Zc{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hb(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function d_(i,e,r){const s=new Map;ht(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],f=u.transform,c=e.data.field(u.field);s.set(u.field,gR(f,c,r[o]))}return s}function m_(i,e,r){const s=new Map;for(const o of i){const u=o.transform,f=r.data.field(o.field);s.set(o.field,pR(u,f,e))}return s}class bm extends Zc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends Zc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_R(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Al(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Al(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ab();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let c=this.applyToLocalView(f,u.mutatedFields);c=r.has(o.key)?null:c;const p=fb(f,c);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),We())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(r,s)=>h_(r,s))&&to(this.baseMutations,e.baseMutations,(r,s)=>h_(r,s))}}class Em{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return cR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Em(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function AR(i){switch(i){case de.OK:return Pe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Pe(15467,{code:i})}}function db(i){if(i===void 0)return bi("GRPC error has no .code"),de.UNKNOWN;switch(i){case zt.OK:return de.OK;case zt.CANCELLED:return de.CANCELLED;case zt.UNKNOWN:return de.UNKNOWN;case zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case zt.INTERNAL:return de.INTERNAL;case zt.UNAVAILABLE:return de.UNAVAILABLE;case zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case zt.NOT_FOUND:return de.NOT_FOUND;case zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case zt.ABORTED:return de.ABORTED;case zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case zt.DATA_LOSS:return de.DATA_LOSS;default:return Pe(39323,{code:i})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new sa([4294967295,4294967295],0);function p_(i){const e=L0().encode(i),r=new C0;return r.update(e),new Uint8Array(r.digest())}function g_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sa([r,s],0),new sa([o,u],0)]}class Tm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new El(`Invalid padding: ${r}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new El(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=sa.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(sa.fromNumber(s)));return o.compare(RR)===1&&(o=new sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=p_(e),[s,o]=g_(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Tm(u,o,r);return s.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const r=p_(e),[s,o]=g_(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Jc($e.min(),o,new Ct(Ge),Ei(),We())}}class zl{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new zl(s,r,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class mb{constructor(e,r){this.targetId=e,this.Ce=r}}class pb{constructor(e,r,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class y_{constructor(){this.Fe=0,this.Me=v_(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),r=We(),s=We();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Pe(38017,{changeType:u})}}),new zl(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=v_()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xR{constructor(e){this.ze=e,this.je=new Map,this.He=Ei(),this.Je=cc(),this.Ye=cc(),this.Ze=new Ct(Ge)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const u=o.target;if($d(u))if(s===0){const f=new Me(u.path);this.tt(r,f,vn.newNoDocument(f,$e.min()))}else ht(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let f,c;try{f=da(s).toUint8Array()}catch(p){if(p instanceof z0)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new Tm(f,o,u)}catch(p){return eo(p instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,f)=>{const c=this._t(f);if(c){if(u.current&&$d(c.target)){const p=new Me(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,vn.newNoDocument(p,e))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let s=We();this.Ye.forEach((u,f)=>{let c=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Jc(e,r,this.Ze,this.He,s);return this.He=Ei(),this.Je=cc(),this.Ye=cc(),this.Ze=new Ct(Ge),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new y_,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Yt(Ge),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Yt(Ge),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new y_),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function cc(){return new Ct(Me.comparator)}function v_(){return new Ct(Me.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class IR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qd(i,e){return i.useProto3Json||Fc(e)?e:{value:e}}function jc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function MR(i,e){return jc(i,e.toTimestamp())}function qr(i){return ht(!!i,49232),$e.fromTimestamp(function(r){const s=ha(r);return new Qt(s.seconds,s.nanos)}(i))}function wm(i,e){return Hd(i,e).canonicalString()}function Hd(i,e){const r=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function yb(i){const e=Rt.fromString(i);return ht(Tb(e),10190,{key:e.toString()}),e}function Fd(i,e){return wm(i.databaseId,e.path)}function Td(i,e){const r=yb(e);if(r.get(1)!==i.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Me(_b(r))}function vb(i,e){return wm(i.databaseId,e)}function NR(i){const e=yb(i);return e.length===4?Rt.emptyPath():_b(e)}function Gd(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _b(i){return ht(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function __(i,e,r){return{name:Fd(i,e),fields:r.value.mapValue.fields}}function VR(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(ht(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(y){const E=y.code===void 0?de.UNKNOWN:db(y.code);return new Oe(E,y.message||"")}(f);r=new pb(s,o,u,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Td(i,s.document.name),u=qr(s.document.updateTime),f=s.document.createTime?qr(s.document.createTime):$e.min(),c=new In({mapValue:{fields:s.document.fields}}),p=vn.newFoundDocument(o,u,f,c),y=s.targetIds||[],E=s.removedTargetIds||[];r=new bc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Td(i,s.document),u=s.readTime?qr(s.readTime):$e.min(),f=vn.newNoDocument(o,u),c=s.removedTargetIds||[];r=new bc([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Td(i,s.document),u=s.removedTargetIds||[];r=new bc([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new SR(o,u),c=s.targetId;r=new mb(c,f)}}return r}function kR(i,e){let r;if(e instanceof Ul)r={update:__(i,e.key,e.value)};else if(e instanceof bm)r={delete:Fd(i,e.key)};else if(e instanceof va)r={update:__(i,e.key,e.data),updateMask:HR(e.fieldMask)};else{if(!(e instanceof ER))return Pe(16599,{ft:e.type});r={verify:Fd(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const c=f.transform;if(c instanceof kc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lc)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw Pe(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:MR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(i,e.precondition)),r}function LR(i,e){return i&&i.length>0?(ht(e!==void 0,14353),i.map(r=>function(o,u){let f=o.updateTime?qr(o.updateTime):qr(u);return f.isEqual($e.min())&&(f=qr(u)),new vR(f,o.transformResults||[])}(r,e))):[]}function jR(i,e){return{documents:[vb(i,e.path)]}}function PR(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=vb(i,o);const u=function(y){if(y.length!==0)return Eb(Fr.create(y,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(g){return{field:Ks(g.field),direction:$R(g.dir)}}(E))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const c=qd(i,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:r,parent:o}}function UR(i){let e=NR(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){ht(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=function(d){const g=bb(d);return g instanceof Fr&&X0(g)?g.getFilters():[g]}(r.where));let f=[];r.orderBy&&(f=function(d){return d.map(g=>function(v){return new Vc(Xs(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(r.orderBy));let c=null;r.limit&&(c=function(d){let g;return g=typeof d=="object"?d.value:d,Fc(g)?null:g}(r.limit));let p=null;r.startAt&&(p=function(d){const g=!!d.before,_=d.values||[];return new Nc(_,g)}(r.startAt));let y=null;return r.endAt&&(y=function(d){const g=!d.before,_=d.values||[];return new Nc(_,g)}(r.endAt)),iR(e,o,f,u,c,"F",p,y)}function zR(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function bb(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Xs(r.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xs(r.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xs(r.unaryFilter.field);return Gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xs(r.unaryFilter.field);return Gt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(i):i.fieldFilter!==void 0?function(r){return Gt.create(Xs(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Fr.create(r.compositeFilter.filters.map(s=>bb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(r.compositeFilter.op))}(i):Pe(30097,{filter:i})}function $R(i){return CR[i]}function BR(i){return DR[i]}function qR(i){return OR[i]}function Ks(i){return{fieldPath:i.canonicalString()}}function Xs(i){return un.fromServerFormat(i.fieldPath)}function Eb(i){return i instanceof Gt?function(r){if(r.op==="=="){if(s_(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NAN"}};if(a_(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(s_(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NOT_NAN"}};if(a_(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(r.field),op:BR(r.op),value:r.value}}}(i):i instanceof Fr?function(r){const s=r.getFilters().map(o=>Eb(o));return s.length===1?s[0]:{compositeFilter:{op:qR(r.op),filters:s}}}(i):Pe(54877,{filter:i})}function HR(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Tb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,r,s,o,u=$e.min(),f=$e.min(),c=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.wt=e}}function GR(i){const e=UR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.yn=new YR}addToCollectionParentIndex(e,r){return this.yn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(fa.min())}updateCollectionGroup(e,r,s){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class YR{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Yt(Rt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wb=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(wb,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new io(0)}static ir(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",KR=1048576;function T_([i,e],[r,s]){const o=Ge(i,r);return o===0?Ge(e,s):o}class XR{constructor(e){this.cr=e,this.buffer=new Yt(T_),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();T_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(E_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){co(r)?be(E_,"Ignoring IndexedDB error during garbage collection: ",r):await uo(r)}await this.Ir(3e5)})}}class JR{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(Hc.le);const s=new XR(r);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.Er.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(b_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let s,o,u,f,c,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,f=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(s=d,c=Date.now(),this.removeTargets(e,s,r))).next(d=>(u=d,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(d=>(y=Date.now(),Qs()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${u} targets in `+(p-c)+`ms
	Removed ${d} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:d})))}}function WR(i,e){return new JR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.changes=new is(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?fe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&Al(s.mutation,o,Fn.empty(),Qt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,r,s=We()){const o=Wa();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(u=>{let f=bl();return u.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const s=Wa();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,We()))}populateOverlays(e,r,s){const o=[];return s.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,c)=>{r.set(f,c)})})}computeViews(e,r,s,o){let u=Ei();const f=Sl(),c=function(){return Sl()}();return r.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof va)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Al(E.mutation,y,E.mutation.getFieldMask(),Qt.now())):f.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var d;return c.set(y,new t2(E,(d=f.get(y))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,r){const s=Sl();let o=new Ct((f,c)=>f-c),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const c of f)c.keys().forEach(p=>{const y=r.get(p);if(y===null)return;let E=s.get(p)||Fn.empty();E=c.applyToLocalView(y,E),s.set(p,E);const d=(o.get(c.batchId)||We()).add(p);o=o.insert(c.batchId,d)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),y=p.key,E=p.value,d=ab();E.forEach(g=>{if(!u.has(g)){const _=fb(r.get(g),s.get(g));_!==null&&d.set(g,_),u=u.add(g)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,d))}return fe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(f){return Me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):aR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):fe.resolve(Wa());let c=Ol,p=u;return f.next(y=>fe.forEach(y,(E,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),u.get(E)?fe.resolve():this.remoteDocumentCache.getEntry(e,E).next(g=>{p=p.insert(E,g)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,We())).next(E=>({batchId:c,changes:ib(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next(s=>{let o=bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let f=bl();return this.indexManager.getCollectionParents(e,u).next(c=>fe.forEach(c,p=>{const y=function(d,g){return new Qc(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((d,g)=>{f=f.insert(d,g)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))});let c=bl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Al(E.mutation,y,Fn.empty(),Qt.now()),Kc(r,y)&&(c=c.insert(p,y))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:GR(o.bundledQuery),readTime:qr(o.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.overlays=new Ct(Me.comparator),this.Or=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Wa();return fe.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,u)=>{this.St(e,r,u)}),fe.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),fe.resolve()}getOverlaysForCollection(e,r,s){const o=Wa(),u=r.length+1,f=new Me(r.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new Ct((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Wa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const c=Wa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>c.set(y,E)),!(c.size()>=o)););return fe.resolve(c)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wR(r,s));let u=this.Or.get(r);u===void 0&&(u=We(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.Nr=new Yt(en.Br),this.Lr=new Yt(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const s=new en(e,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Qr(new en(e,r))}$r(e,r){e.forEach(s=>this.removeReference(s,r))}Ur(e){const r=new Me(new Rt([])),s=new en(r,e),o=new en(r,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Me(new Rt([])),s=new en(r,e),o=new en(r,e+1);let u=We();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const r=new en(e,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Me.comparator(e.key,r.key)||Ge(e.Gr,r.Gr)}static kr(e,r){return Ge(e.Gr,r.Gr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Yt(en.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TR(u,r,s,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new en(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,r){return fe.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Hr(s),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?mm:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new en(r,0),o=new en(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const c=this.jr(f.Gr);u.push(c)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Yt(Ge);return r.forEach(o=>{const u=new en(o,0),f=new en(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],c=>{s=s.add(c.Gr)})}),fe.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Me.isDocumentKey(u)||(u=u.child(""));const f=new en(new Me(u),0);let c=new Yt(Ge);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){ht(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return fe.forEach(r.mutations,o=>{const u=new en(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,r){const s=new en(r,0),o=this.zr.firstAfterOrEqual(s);return fe.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return fe.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(e,r){let s=Ei();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),fe.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Ei();const f=r.path,c=new Me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||L1(k1(E),s)<=0||(o.has(E.key)||Kc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Pe(9500)}Xr(e,r){return fe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new l2(this)}getSize(e){return fe.resolve(this.size)}}class l2 extends e2{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),fe.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.persistence=e,this.ei=new is(r=>ym(r),vm),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sm,this.targetCount=0,this.ri=io.rr()}forEachTarget(e,r){return this.ei.forEach((s,o)=>r(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),fe.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new io(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.ar(r),fe.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=r&&s.get(c.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const s=this.ei.get(r)||null;return fe.resolve(s)}addMatchingKeys(e,r,s){return this.ni.qr(r,s),fe.resolve()}removeMatchingKeys(e,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ni.Wr(r);return fe.resolve(s)}containsKey(e,r){return fe.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,r){this.ii={},this.overlays={},this.si=new Hc(0),this.oi=!1,this.oi=!0,this._i=new a2,this.referenceDelegate=e(this),this.ai=new u2(this),this.indexManager=new QR,this.remoteDocumentCache=function(o){return new o2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new FR(r),this.ci=new r2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new i2,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ii[e.toKey()];return s||(s=new s2(r,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const o=new c2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return fe.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,r)))}}class c2 extends P1{constructor(e){super(),this.currentSequenceNumber=e}}class Am{constructor(e){this.persistence=e,this.Ti=new Sm,this.Ii=null}static Ei(e){return new Am(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),fe.resolve()}removeReference(e,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,s=>{const o=Me.fromPath(s);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,$e.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return fe.or([()=>fe.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Pc{constructor(e,r){this.persistence=e,this.Ri=new is(s=>$1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=WR(this,r)}static Ei(e,r){return new Pc(e,r)}li(){}hi(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}Vr(e){let r=0;return this.Ar(e,s=>{r++}).next(()=>r)}Ar(e,r){return fe.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?fe.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,r).next(c=>{c||(s++,u.removeEntry(f,$e.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=yc(e.data.value)),r}gr(e,r,s){return fe.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return fe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ls=s,this.hs=o}static Ps(e,r){let s=We(),o=We();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return aA()?8:U1(rA())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.Rs(e,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,r,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new f2;return this.fs(e,r,f).next(c=>{if(u.result=c,this.Is)return this.gs(e,r,f,c.size)})}).next(()=>u.result)}gs(e,r,s,o){return s.documentReadCount<this.Es?(Qs()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Ys(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(Qs()<=at.DEBUG&&be("QueryEngine","Query:",Ys(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Qs()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Ys(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(r))):fe.resolve())}Rs(e,r){if(c_(r))return fe.resolve(null);let s=Br(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Bd(r,null,"F"),s=Br(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=We(...u);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(r,c);return this.ys(r,y,f,p.readTime)?this.Rs(e,Bd(r,null,"F")):this.ws(e,y,r,p)}))})))}Vs(e,r,s,o){return c_(r)||o.isEqual($e.min())?fe.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(r,u);return this.ys(r,f,s,o)?fe.resolve(null):(Qs()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ys(r)),this.ws(e,f,r,V1(o,Ol)).next(c=>c))})}ps(e,r){let s=new Yt(nb(e));return r.forEach((o,u)=>{Kc(e,u)&&(s=s.add(u))}),s}ys(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,s){return Qs()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Ys(r)),this.As.getDocumentsMatchingQuery(e,r,fa.min(),s)}ws(e,r,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",d2=3e8;class m2{constructor(e,r,s,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new Ct(Ge),this.Ds=new is(u=>ym(u),vm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function p2(i,e,r,s){return new m2(i,e,r,s)}async function Ab(i,e){const r=Be(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],c=[];let p=We();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){c.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:c}))})})}function g2(i,e){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,y,E){const d=y.batch,g=d.keys();let _=fe.resolve();return g.forEach(v=>{_=_.next(()=>E.getEntry(p,v)).next(b=>{const R=y.docVersions.get(v);ht(R!==null,48541),b.version.compareTo(R)<0&&(d.applyToRemoteDocument(b,y),b.isValidDocument()&&(b.setReadTime(y.commitVersion),E.addEntry(b)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(p,d))}(r,s,e,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let p=We();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(p=p.add(c.batch.mutations[y].key));return p}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function Rb(i){const e=Be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function y2(i,e){const r=Be(i),s=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((E,d)=>{const g=o.get(d);if(!g)return;c.push(r.ai.removeMatchingKeys(u,E.removedDocuments,d).next(()=>r.ai.addMatchingKeys(u,E.addedDocuments,d)));let _=g.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(cn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):E.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(E.resumeToken,s)),o=o.insert(d,_),function(b,R,T){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=d2?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,_,E)&&c.push(r.ai.updateTargetData(u,_))});let p=Ei(),y=We();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),c.push(v2(u,f,e.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!s.isEqual($e.min())){const E=r.ai.getLastRemoteSnapshotVersion(u).next(d=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));c.push(E)}return fe.waitFor(c).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(r.Ss=o,u))}function v2(i,e,r){let s=We(),o=We();return r.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Ei();return r.forEach((c,p)=>{const y=u.get(c);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual($e.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):be(xm,"Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:o}})}function _2(i,e){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=mm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function b2(i,e){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,e).next(u=>u?(o=u,fe.resolve(o)):r.ai.allocateTargetId(s).next(f=>(o=new ra(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(e,s.targetId)),s})}async function Qd(i,e,r){const s=Be(i),o=s.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!co(f))throw f;be(xm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function w_(i,e,r){const s=Be(i);let o=$e.min(),u=We();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const d=Be(p),g=d.Ds.get(E);return g!==void 0?fe.resolve(d.Ss.get(g)):d.ai.getTargetData(y,E)}(s,f,Br(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,r?o:$e.min(),r?u:We())).next(c=>(E2(s,oR(e),c),{documents:c,Ns:u})))}function E2(i,e,r){let s=i.vs.get(e)||$e.min();r.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class S_{constructor(){this.activeTargetIds=dR()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T2{constructor(){this.So=new S_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,s){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new S_,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class R_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(A_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Yd(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,r,s,o,u){const f=Yd(),c=this.$o(e,r.toUriEncodedString());be(wd,`Sending RPC '${e}' ${f}:`,c,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,c,p,s).then(y=>(be(wd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw eo(wd,`RPC '${e}' ${f} failed with error: `,y,"url: ",c,"request:",s),y})}Wo(e,r,s,o,u,f){return this.Qo(e,r,s,o,u)}Uo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const s=S2[e];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class x2 extends A2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,s,o){const u=Yd();return new Promise((f,c)=>{const p=new D0;p.setWithCredentials(!0),p.listenOnce(O0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gc.NO_ERROR:const E=p.getResponseJson();be(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case gc.TIMEOUT:be(gn,`RPC '${e}' ${u} timed out`),c(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const d=p.getStatus();if(be(gn,`RPC '${e}' ${u} failed with status:`,d,"response text:",p.getResponseText()),d>0){let g=p.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const v=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(T)>=0?T:de.UNKNOWN}(_.status);c(new Oe(v,_.message))}else c(new Oe(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{be(gn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);be(gn,`RPC '${e}' ${u} sending request:`,o),p.send(r,"POST",y,s,15)})}a_(e,r,s){const o=Yd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=N0(),c=M0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const E=u.join("");be(gn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const d=f.createWebChannel(E,p);let g=!1,_=!1;const v=new R2({Go:R=>{_?be(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(g||(be(gn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),g=!0),be(gn,`RPC '${e}' stream ${o} sending:`,R),d.send(R))},zo:()=>d.close()}),b=(R,T,A)=>{R.listen(T,D=>{try{A(D)}catch(V){setTimeout(()=>{throw V},0)}})};return b(d,_l.EventType.OPEN,()=>{_||(be(gn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),b(d,_l.EventType.CLOSE,()=>{_||(_=!0,be(gn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),b(d,_l.EventType.ERROR,R=>{_||(_=!0,eo(gn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),v.r_(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),b(d,_l.EventType.MESSAGE,R=>{var T;if(!_){const A=R.data[0];ht(!!A,16349);const D=A,V=(D==null?void 0:D.error)||((T=D[0])===null||T===void 0?void 0:T.error);if(V){be(gn,`RPC '${e}' stream ${o} received error:`,V);const L=V.status;let k=function(x){const O=zt[x];if(O!==void 0)return db(O)}(L),I=V.message;k===void 0&&(k=de.INTERNAL,I="Unknown error status: "+L+" with message "+V.message),_=!0,v.r_(new Oe(k,I)),d.close()}else be(gn,`RPC '${e}' stream ${o} received:`,A),v.i_(A)}}),b(c,I0.STAT_EVENT,R=>{R.stat===Ld.PROXY?be(gn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Ld.NOPROXY&&be(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(i){return new IR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,r,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class Cb{constructor(e,r,s,o,u,f,c,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xb(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(bi(r.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{e(()=>{const o=new Oe(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,r){const s=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(be(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C2 extends Cb{constructor(e,r,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=VR(this.serializer,e),s=function(u){if(!("targetChange"in u))return $e.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?$e.min():f.readTime?qr(f.readTime):$e.min()}(e);return this.listener.Q_(r,s)}U_(e){const r={};r.database=Gd(this.serializer),r.addTarget=function(u,f){let c;const p=f.target;if(c=$d(p)?{documents:jR(u,p)}:{query:PR(u,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=gb(u,f.resumeToken);const y=qd(u,f.expectedCount);y!==null&&(c.expectedCount=y)}else if(f.snapshotVersion.compareTo($e.min())>0){c.readTime=jc(u,f.snapshotVersion.toTimestamp());const y=qd(u,f.expectedCount);y!==null&&(c.expectedCount=y)}return c}(this.serializer,e);const s=zR(this.serializer,e);s&&(r.labels=s),this.F_(r)}K_(e){const r={};r.database=Gd(this.serializer),r.removeTarget=e,this.F_(r)}}class D2 extends Cb{constructor(e,r,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=LR(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.j_(s,r)}H_(){const e={};e.database=Gd(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>kR(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{}class I2 extends O2{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Hd(r,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(de.UNKNOWN,u.toString())})}Wo(e,r,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,Hd(r,s),o,f,c,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Oe(de.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class M2{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(bi(r),this.ea=!1):be("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class N2{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{as(this)&&(be(ts,"Restarting streams for network reachability change."),await async function(p){const y=Be(p);y.aa.add(4),await $l(y),y.la.set("Unknown"),y.aa.delete(4),await ef(y)}(this))})}),this.la=new M2(s,o)}}async function ef(i){if(as(i))for(const e of i.ua)await e(!0)}async function $l(i){for(const e of i.ua)await e(!1)}function Db(i,e){const r=Be(i);r._a.has(e.targetId)||(r._a.set(e.targetId,e),Im(r)?Om(r):fo(r).b_()&&Dm(r,e))}function Cm(i,e){const r=Be(i),s=fo(r);r._a.delete(e),s.b_()&&Ob(r,e),r._a.size===0&&(s.b_()?s.v_():as(r)&&r.la.set("Unknown"))}function Dm(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}fo(i).U_(e)}function Ob(i,e){i.ha.Ke(e),fo(i).K_(e)}function Om(i){i.ha=new xR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),fo(i).start(),i.la.ta()}function Im(i){return as(i)&&!fo(i).w_()&&i._a.size>0}function as(i){return Be(i).aa.size===0}function Ib(i){i.ha=void 0}async function V2(i){i.la.set("Online")}async function k2(i){i._a.forEach((e,r)=>{Dm(i,e)})}async function L2(i,e){Ib(i),Im(i)?(i.la.ia(e),Om(i)):i.la.set("Unknown")}async function j2(i,e,r){if(i.la.set("Online"),e instanceof pb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(i,e)}catch(s){be(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uc(i,s)}else if(e instanceof bc?i.ha.Xe(e):e instanceof mb?i.ha.ot(e):i.ha.nt(e),!r.isEqual($e.min()))try{const s=await Rb(i.localStore);r.compareTo(s)>=0&&await function(u,f){const c=u.ha.It(f);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),Ob(u,p);const d=new ra(E.target,p,y,E.sequenceNumber);Dm(u,d)}),u.remoteSyncer.applyRemoteEvent(c)}(i,r)}catch(s){be(ts,"Failed to raise snapshot:",s),await Uc(i,s)}}async function Uc(i,e,r){if(!co(e))throw e;i.aa.add(1),await $l(i),i.la.set("Offline"),r||(r=()=>Rb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{be(ts,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await ef(i)})}function Mb(i,e){return e().catch(r=>Uc(i,r,e))}async function tf(i){const e=Be(i),r=pa(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:mm;for(;P2(e);)try{const o=await _2(e.localStore,s);if(o===null){e.oa.length===0&&r.v_();break}s=o.batchId,U2(e,o)}catch(o){await Uc(e,o)}Nb(e)&&Vb(e)}function P2(i){return as(i)&&i.oa.length<10}function U2(i,e){i.oa.push(e);const r=pa(i);r.b_()&&r.W_&&r.G_(e.mutations)}function Nb(i){return as(i)&&!pa(i).w_()&&i.oa.length>0}function Vb(i){pa(i).start()}async function z2(i){pa(i).H_()}async function $2(i){const e=pa(i);for(const r of i.oa)e.G_(r.mutations)}async function B2(i,e,r){const s=i.oa.shift(),o=Em.from(s,e,r);await Mb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await tf(i)}async function q2(i,e){e&&pa(i).W_&&await async function(s,o){if(function(f){return AR(f)&&f!==de.ABORTED}(o.code)){const u=s.oa.shift();pa(s).D_(),await Mb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await tf(s)}}(i,e),Nb(i)&&Vb(i)}async function C_(i,e){const r=Be(i);r.asyncQueue.verifyOperationInProgress(),be(ts,"RemoteStore received new credentials");const s=as(r);r.aa.add(3),await $l(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await ef(r)}async function H2(i,e){const r=Be(i);e?(r.aa.delete(2),await ef(r)):e||(r.aa.add(2),await $l(r),r.la.set("Unknown"))}function fo(i){return i.Pa||(i.Pa=function(r,s,o){const u=Be(r);return u.Y_(),new C2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:V2.bind(null,i),Jo:k2.bind(null,i),Zo:L2.bind(null,i),Q_:j2.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Im(i)?Om(i):i.la.set("Unknown")):(await i.Pa.stop(),Ib(i))})),i.Pa}function pa(i){return i.Ta||(i.Ta=function(r,s,o){const u=Be(r);return u.Y_(),new D2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:z2.bind(null,i),Zo:q2.bind(null,i),z_:$2.bind(null,i),j_:B2.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await tf(i)):(await i.Ta.stop(),i.oa.length>0&&(be(ts,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const f=Date.now()+s,c=new Mm(e,r,f,o,u);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(i,e){if(bi("AsyncQueue",`${e}: ${i}`),co(i))return new Oe(de.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{static emptySet(e){return new Ws(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Me.comparator(r.key,s.key):(r,s)=>Me.comparator(r.key,s.key),this.keyedMap=bl(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Ws;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.Ia=new Ct(Me.comparator)}track(e){const r=e.doc.key,s=this.Ia.get(r);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(r):e.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,s)=>{e.push(s)}),e}}class ao{constructor(e,r,s,o,u,f,c,p,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,u){const f=[];return r.forEach(c=>{f.push({type:0,doc:c})}),new ao(e,r,Ws.emptySet(r),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class G2{constructor(){this.queries=O_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=Be(r),u=o.queries;o.queries=O_(),u.forEach((f,c)=>{for(const p of c.Ra)p.onError(s)})})(this,new Oe(de.ABORTED,"Firestore shutting down"))}}function O_(){return new is(i=>tb(i),Yc)}async function Q2(i,e){const r=Be(i);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new F2,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const c=Nm(f,`Initialization of query '${Ys(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&Vm(r)}async function Y2(i,e){const r=Be(i),s=e.query;let o=3;const u=r.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function K2(i,e){const r=Be(i);let s=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const c of f.Ra)c.pa(o)&&(s=!0);f.Aa=o}}s&&Vm(r)}function X2(i,e,r){const s=Be(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);s.queries.delete(e)}function Vm(i){i.fa.forEach(e=>{e.next()})}var Kd,I_;(I_=Kd||(Kd={})).ya="default",I_.Cache="cache";class Z2{constructor(e,r,s){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.key=e}}class Lb{constructor(e){this.key=e}}class J2{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=nb(e),this.Ka=new Ws(this.Ua)}get Wa(){return this.qa}Ga(e,r){const s=r?r.za:new D_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,d)=>{const g=o.get(E),_=Kc(this.query,d)?d:null,v=!!g&&this.mutatedKeys.has(g.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;g&&_?g.data.isEqual(_.data)?v!==b&&(s.track({type:3,doc:_}),R=!0):this.ja(g,_)||(s.track({type:2,doc:_}),R=!0,(p&&this.Ua(_,p)>0||y&&this.Ua(_,y)<0)&&(c=!0)):!g&&_?(s.track({type:0,doc:_}),R=!0):g&&!_&&(s.track({type:1,doc:g}),R=!0,(p||y)&&(c=!0)),R&&(_?(f=f.add(_),u=b?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:c,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,d)=>function(_,v){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:R})}};return b(_)-b(v)}(E.type,d.type)||this.Ua(E.doc,d.doc)),this.Ha(s),o=o!=null&&o;const c=r&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new ao(this.query,e.Ka,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new D_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return e.forEach(s=>{this.$a.has(s)||r.push(new Lb(s))}),this.$a.forEach(s=>{e.has(s)||r.push(new kb(s))}),r}Xa(e){this.qa=e.Ns,this.$a=We();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return ao.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const km="SyncEngine";class W2{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class ex{constructor(e){this.key=e,this.tu=!1}}class tx{constructor(e,r,s,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new is(c=>tb(c),Yc),this.iu=new Map,this.su=new Set,this.ou=new Ct(Me.comparator),this._u=new Map,this.au=new Sm,this.uu={},this.cu=new Map,this.lu=io.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nx(i,e,r=!0){const s=Bb(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await jb(s,e,r,!0),o}async function rx(i,e){const r=Bb(i);await jb(r,e,!0,!1)}async function jb(i,e,r,s){const o=await b2(i.localStore,Br(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let c;return s&&(c=await ix(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&Db(i.remoteStore,o),c}async function ix(i,e,r,s,o){i.Pu=(d,g,_)=>async function(b,R,T,A){let D=R.view.Ga(T);D.ys&&(D=await w_(b.localStore,R.query,!1).then(({documents:I})=>R.view.Ga(I,D)));const V=A&&A.targetChanges.get(R.targetId),L=A&&A.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(D,b.isPrimaryClient,V,L);return N_(b,R.targetId,k.Ya),k.snapshot}(i,d,g,_);const u=await w_(i.localStore,e,!0),f=new J2(e,u.Ns),c=f.Ga(u.documents),p=zl.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),y=f.applyChanges(c,i.isPrimaryClient,p);N_(i,r,y.Ya);const E=new W2(e,r,f);return i.ru.set(e,E),i.iu.has(r)?i.iu.get(r).push(e):i.iu.set(r,[e]),y.snapshot}async function ax(i,e,r){const s=Be(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Yc(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Cm(s.remoteStore,o.targetId),Xd(s,o.targetId)}).catch(uo)):(Xd(s,o.targetId),await Qd(s.localStore,o.targetId,!0))}async function sx(i,e){const r=Be(i),s=r.ru.get(e),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Cm(r.remoteStore,s.targetId))}async function ox(i,e,r){const s=mx(i);try{const o=await function(f,c){const p=Be(f),y=Qt.now(),E=c.reduce((_,v)=>_.add(v.key),We());let d,g;return p.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Ei(),b=We();return p.Cs.getEntries(_,E).next(R=>{v=R,v.forEach((T,A)=>{A.isValidDocument()||(b=b.add(T))})}).next(()=>p.localDocuments.getOverlayedDocuments(_,v)).next(R=>{d=R;const T=[];for(const A of c){const D=bR(A,d.get(A.key).overlayedDocument);D!=null&&T.push(new va(A.key,D,Q0(D.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(_,y,T,c)}).next(R=>{g=R;const T=R.applyToLocalDocumentSet(d,b);return p.documentOverlayCache.saveOverlays(_,R.batchId,T)})}).then(()=>({batchId:g.batchId,changes:ib(d)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let y=f.uu[f.currentUser.toKey()];y||(y=new Ct(Ge)),y=y.insert(c,p),f.uu[f.currentUser.toKey()]=y}(s,o.batchId,r),await Bl(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Nm(o,"Failed to persist write");r.reject(u)}}async function Pb(i,e){const r=Be(i);try{const s=await y2(r.localStore,e);e.targetChanges.forEach((o,u)=>{const f=r._u.get(u);f&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?ht(f.tu,14607):o.removedDocuments.size>0&&(ht(f.tu,42227),f.tu=!1))}),await Bl(r,s,e)}catch(s){await uo(s)}}function M_(i,e,r){const s=Be(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((u,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=Be(f);p.onlineState=c;let y=!1;p.queries.forEach((E,d)=>{for(const g of d.Ra)g.ga(c)&&(y=!0)}),y&&Vm(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lx(i,e,r){const s=Be(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s._u.get(e),u=o&&o.key;if(u){let f=new Ct(Me.comparator);f=f.insert(u,vn.newNoDocument(u,$e.min()));const c=We().add(u),p=new Jc($e.min(),new Map,new Ct(Ge),f,c);await Pb(s,p),s.ou=s.ou.remove(u),s._u.delete(e),Lm(s)}else await Qd(s.localStore,e,!1).then(()=>Xd(s,e,r)).catch(uo)}async function ux(i,e){const r=Be(i),s=e.batch.batchId;try{const o=await g2(r.localStore,e);zb(r,s,null),Ub(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(r,o)}catch(o){await uo(o)}}async function cx(i,e,r){const s=Be(i);try{const o=await function(f,c){const p=Be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,c).next(d=>(ht(d!==null,37113),E=d.keys(),p.mutationQueue.removeMutationBatch(y,d))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);zb(s,e,r),Ub(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Bl(s,o)}catch(o){await uo(o)}}function Ub(i,e){(i.cu.get(e)||[]).forEach(r=>{r.resolve()}),i.cu.delete(e)}function zb(i,e,r){const s=Be(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Xd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||$b(i,s)})}function $b(i,e){i.su.delete(e.path.canonicalString());const r=i.ou.get(e);r!==null&&(Cm(i.remoteStore,r),i.ou=i.ou.remove(e),i._u.delete(r),Lm(i))}function N_(i,e,r){for(const s of r)s instanceof kb?(i.au.addReference(s.key,e),fx(i,s)):s instanceof Lb?(be(km,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||$b(i,s.key)):Pe(19791,{Iu:s})}function fx(i,e){const r=e.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(be(km,"New document in limbo: "+r),i.su.add(s),Lm(i))}function Lm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const r=new Me(Rt.fromString(e)),s=i.lu.next();i._u.set(s,new ex(r)),i.ou=i.ou.insert(r,s),Db(i.remoteStore,new ra(Br(eb(r.path)),s,"TargetPurposeLimboResolution",Hc.le))}}async function Bl(i,e,r){const s=Be(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((c,p)=>{f.push(s.Pu(p,e,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const d=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,d?"current":"not-current")}if(y){o.push(y);const d=Rm.Ps(p.targetId,y);u.push(d)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,y){const E=Be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(y,g=>fe.forEach(g.ls,_=>E.persistence.referenceDelegate.addReference(d,g.targetId,_)).next(()=>fe.forEach(g.hs,_=>E.persistence.referenceDelegate.removeReference(d,g.targetId,_)))))}catch(d){if(!co(d))throw d;be(xm,"Failed to update sequence numbers: "+d)}for(const d of y){const g=d.targetId;if(!d.fromCache){const _=E.Ss.get(g),v=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(v);E.Ss=E.Ss.insert(g,b)}}}(s.localStore,u))}async function hx(i,e){const r=Be(i);if(!r.currentUser.isEqual(e)){be(km,"User change. New user:",e.toKey());const s=await Ab(r.localStore,e);r.currentUser=e,function(u,f){u.cu.forEach(c=>{c.forEach(p=>{p.reject(new Oe(de.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bl(r,s.Ms)}}function dx(i,e){const r=Be(i),s=r._u.get(e);if(s&&s.tu)return We().add(s.key);{let o=We();const u=r.iu.get(e);if(!u)return o;for(const f of u){const c=r.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function Bb(i){const e=Be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lx.bind(null,e),e.nu.Q_=K2.bind(null,e.eventManager),e.nu.Tu=X2.bind(null,e.eventManager),e}function mx(i){const e=Be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ux.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cx.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return p2(this.persistence,new h2,e.initialUser,this.serializer)}Ru(e){return new Sb(Am.Ei,this.serializer)}Au(e){return new T2}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class px extends zc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){ht(this.persistence.referenceDelegate instanceof Pc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZR(s,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Sb(s=>Pc.Ei(s,r),this.serializer)}}class Zd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G2}()}createDatastore(e){const r=Wc(e.databaseInfo.databaseId),s=function(u){return new x2(u)}(e.databaseInfo);return function(u,f,c,p){return new I2(u,f,c,p)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,u,f,c){return new N2(s,o,u,f,c)}(this.localStore,this.datastore,e.asyncQueue,r=>M_(this.syncEngine,r,0),function(){return R_.C()?new R_:new w2}())}createSyncEngine(e,r){return function(o,u,f,c,p,y,E){const d=new tx(o,u,f,c,p,y);return E&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=Be(o);be(ts,"RemoteStore shutting down."),u.aa.add(5),await $l(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class yx{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=j0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{be(ga,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(be(ga,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Nm(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ad(i,e){i.asyncQueue.verifyOperationInProgress(),be(ga,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function V_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await vx(i);be(ga,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>C_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>C_(e.remoteStore,o)),i._onlineComponents=e}async function vx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){be(ga,"Using user provided OfflineComponentProvider");try{await Ad(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;eo("Error using user provided cache. Falling back to memory cache: "+r),await Ad(i,new zc)}}else be(ga,"Using default OfflineComponentProvider"),await Ad(i,new px(void 0));return i._offlineComponents}async function qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(be(ga,"Using user provided OnlineComponentProvider"),await V_(i,i._uninitializedComponentsProvider._online)):(be(ga,"Using default OnlineComponentProvider"),await V_(i,new Zd))),i._onlineComponents}function _x(i){return qb(i).then(e=>e.syncEngine)}async function bx(i){const e=await qb(i),r=e.eventManager;return r.onListen=nx.bind(null,e.syncEngine),r.onUnlisten=ax.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=rx.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=sx.bind(null,e.syncEngine),r}function Ex(i,e,r={}){const s=new oa;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,c,p,y){const E=new gx({next:g=>{E.yu(),f.enqueueAndForget(()=>Y2(u,d)),g.fromCache&&p.source==="server"?y.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(g)},error:g=>y.reject(g)}),d=new Z2(c,E,{includeMetadataChanges:!0,Fa:!0});return Q2(u,d)}(await bx(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i,e,r){if(!r)throw new Oe(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Tx(i,e,r,s){if(e===!0&&s===!0)throw new Oe(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function L_(i){if(!Me.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function j_(i){if(Me.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Pe(12329,{type:typeof i})}function ns(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=jm(i);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firestore.googleapis.com",P_=!0;class U_{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=P_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:P_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KR)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new A1;switch(s.type){case"firstParty":return new D1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=k_.get(r);s&&(be("ComponentProvider","Removing Datastore"),k_.delete(r),s.terminate())}(this),Promise.resolve()}}function wx(i,e,r,s={}){var o;const u=(i=ns(i,nf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),c=`${e}:${r}`;u.host!==Gb&&u.host!==c&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:c,ssl:!1,emulatorOptions:s});if(!xc(p,f)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=yn.MOCK_USER;else{y=nA(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const d=s.mockUserToken.sub||s.mockUserToken.user_id;if(!d)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(d)}i._authCredentials=new R1(new k0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rf(this.firestore,e,this._query)}}class fr{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class la extends rf{constructor(e,r,s){super(e,r,eb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Me(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Qb(i,e,...r){if(i=ca(i),Fb("collection","path",e),i instanceof nf){const s=Rt.fromString(e,...r);return j_(s),new la(i,null,s)}{if(!(i instanceof fr||i instanceof la))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return j_(s),new la(i.firestore,null,s)}}function Pm(i,e,...r){if(i=ca(i),arguments.length===1&&(e=j0.newId()),Fb("doc","path",e),i instanceof nf){const s=Rt.fromString(e,...r);return L_(s),new fr(i,null,new Me(s))}{if(!(i instanceof fr||i instanceof la))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return L_(s),new fr(i.firestore,i instanceof la?i.converter:null,new Me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xb(this,"async_queue_retry"),this.ju=()=>{const s=Sd();s&&be(z_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const r=Sd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=Sd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new oa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!co(e))throw e;be(z_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,bi("INTERNAL UNHANDLED ERROR: ",B_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(e,r,s){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=Mm.createAndSchedule(this,e,r,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Pe(47125,{ec:B_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function B_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ql extends nf{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new $_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function Sx(i,e){const r=typeof i=="object"?i:h1(),s=typeof i=="string"?i:Ic,o=o1(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=eA("firestore");u&&wx(o,...u)}return o}function Yb(i){if(i._terminated)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Ax(i),i._firestoreClient}function Ax(i){var e,r,s;const o=i._freezeSettings(),u=function(c,p,y,E){return new H1(c,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Hb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new yx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(cn.fromBase64String(e))}catch(r){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new so(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=/^__.*__$/;class xx{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ul(e,this.data,r,this.fieldTransforms)}}class Kb{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new va(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:i})}}class Bm{constructor(e,r,s,o,u,f){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $c(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Xb(this.oc)&&Rx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Cx{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Wc(e)}dc(e,r,s,o=!1){return new Bm({oc:e,methodName:r,Ec:s,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zb(i){const e=i._freezeSettings(),r=Wc(i._databaseId);return new Cx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Dx(i,e,r,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,r,o);qm("Data must be an object, but it was:",f,s);const c=Jb(s,f);let p,y;if(u.merge)p=new Fn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const d of u.mergeFields){const g=Jd(e,d,r);if(!f.contains(g))throw new Oe(de.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);eE(E,g)||E.push(g)}p=new Fn(E),y=f.fieldTransforms.filter(d=>p.covers(d.field))}else p=null,y=f.fieldTransforms;return new xx(new In(c),p,y)}class sf extends Um{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function Ox(i,e,r,s){const o=i.dc(1,e,r);qm("Data must be an object, but it was:",o,s);const u=[],f=In.empty();ya(s,(p,y)=>{const E=Hm(e,p,r);y=ca(y);const d=o.hc(E);if(y instanceof sf)u.push(E);else{const g=of(y,d);g!=null&&(u.push(E),f.set(E,g))}});const c=new Fn(u);return new Kb(f,c,o.fieldTransforms)}function Ix(i,e,r,s,o,u){const f=i.dc(1,e,r),c=[Jd(e,s,r)],p=[o];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<u.length;g+=2)c.push(Jd(e,u[g])),p.push(u[g+1]);const y=[],E=In.empty();for(let g=c.length-1;g>=0;--g)if(!eE(y,c[g])){const _=c[g];let v=p[g];v=ca(v);const b=f.hc(_);if(v instanceof sf)y.push(_);else{const R=of(v,b);R!=null&&(y.push(_),E.set(_,R))}}const d=new Fn(y);return new Kb(E,d,f.fieldTransforms)}function of(i,e){if(Wb(i=ca(i)))return qm("Unsupported field value:",e,i),Jb(i,e);if(i instanceof Um)return function(s,o){if(!Xb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const c of s){let p=of(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ca(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:jc(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jc(o.serializer,u)}}if(s instanceof zm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof so)return{bytesValue:gb(o.serializer,s._byteString)};if(s instanceof fr){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $m)return function(f,c){return{mapValue:{fields:{[F0]:{stringValue:G0},[Mc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw c.Tc("VectorValues must only contain numeric values.");return _m(c.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${jm(s)}`)}(i,e)}function Jb(i,e){const r={};return U0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(i,(s,o)=>{const u=of(o,e.uc(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function Wb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qt||i instanceof zm||i instanceof so||i instanceof fr||i instanceof Um||i instanceof $m)}function qm(i,e,r){if(!Wb(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=jm(r);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Jd(i,e,r){if((e=ca(e))instanceof af)return e._internalPath;if(typeof e=="string")return Hm(i,e);throw $c("Field path arguments must be of type string or ",i,!1,void 0,r)}const Mx=new RegExp("[~\\*/\\[\\]]");function Hm(i,e,r){if(e.search(Mx)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new af(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function $c(i,e,r,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Oe(de.INVALID_ARGUMENT,c+i+p)}function eE(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(nE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Nx extends tE{data(){return super.data()}}function nE(i,e){return typeof e=="string"?Hm(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kx{convertValue(e,r="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return ya(e,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertVectorValue(e){var r,s,o;const u=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[Mc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Nt(f.doubleValue));return new $m(u)}convertGeoPoint(e){return new zm(Nt(e.latitude),Nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Gc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const r=ha(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Rt.fromString(e);ht(Tb(s),9688,{name:e});const o=new Ml(s.get(1),s.get(3)),u=new Me(s.popFirst(5));return o.isEqual(r)||bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i,e,r){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jx extends tE{constructor(e,r,s,o,u,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(nE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ec extends jx{data(e={}){return super.data(e)}}class Px{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ec(this._firestore,this._userDataWriter,s.key,s,new hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new Ec(o._firestore,o._userDataWriter,c.doc.key,c.doc,new hc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const p=new Ec(o._firestore,o._userDataWriter,c.doc.key,c.doc,new hc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return c.type!==0&&(y=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),E=f.indexOf(c.doc.key)),{type:Ux(c.type),doc:p,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ux(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:i})}}class zx extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,r)}}function $x(i){i=ns(i,rf);const e=ns(i.firestore,ql),r=Yb(e),s=new zx(e);return Vx(i._query),Ex(r,i._query).then(o=>new Px(e,s,i,o))}function Bx(i,e,r,...s){i=ns(i,fr);const o=ns(i.firestore,ql),u=Zb(o);let f;return f=typeof(e=ca(e))=="string"||e instanceof af?Ix(u,"updateDoc",i._key,e,r,s):Ox(u,"updateDoc",i._key,e),Fm(o,[f.toMutation(i._key,_r.exists(!0))])}function qx(i){return Fm(ns(i.firestore,ql),[new bm(i._key,_r.none())])}function Hx(i,e){const r=ns(i.firestore,ql),s=Pm(i),o=Lx(i.converter,e);return Fm(r,[Dx(Zb(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function Fm(i,e){return function(s,o){const u=new oa;return s.asyncQueue.enqueueAndForget(async()=>ox(await _x(s),o,u)),u.promise}(Yb(i),e)}(function(e,r=!0){(function(o){lo=o})(f1),Dc(new Cl("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),c=new ql(new x1(s.getProvider("auth-internal")),new O1(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:r},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),Js(Qv,Yv,e),Js(Qv,Yv,"esm2017")})();const Fx={apiKey:"AIzaSyA_dFM_GbOGvXnTnufrxX19g8u_cVdCwd4",authDomain:"lekladan-6070d.firebaseapp.com",projectId:"lekladan-6070d",storageBucket:"lekladan-6070d.firebasestorage.app",messagingSenderId:"519712105099",appId:"1:519712105099:web:6b7deefe170c732ac56a8e"},Gx=A0(Fx),lf=Sx(Gx),uf="summerToys";async function cf(i){const e=Qb(lf,uf),o=(await $x(e)).docs.map(u=>({id:u.id,...u.data()})).map(u=>{if(u.discount>0){const f=(100-u.discount)/100,c=Math.round(u.price*f);return{...u,oldPrice:u.price,price:c}}else return u});i(o)}async function Qx(i,e){try{const r=Qb(lf,uf),s=await Hx(r,e);return cf(i),s}catch(r){throw console.error("Fel vid skickande av meddelande: ",r),r}}async function Yx(i,e){const r=Pm(lf,uf,e);await qx(r),cf(i)}async function Kx(i,e,r){const s=Pm(lf,uf,e);try{await Bx(s,r),cf(i)}catch(o){console.error("Fel vid uppdatering av dokument: ",o)}}const q_=i=>{let e;const r=new Set,s=(y,E)=>{const d=typeof y=="function"?y(e):y;if(!Object.is(d,e)){const g=e;e=E??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(_=>_(e,g))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(r.add(y),()=>r.delete(y))},p=e=i(s,o,c);return c},Xx=i=>i?q_(i):q_,Zx=i=>i;function Jx(i,e=Zx){const r=sv.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return sv.useDebugValue(r),r}const H_=i=>{const e=Xx(i),r=s=>Jx(e,s);return Object.assign(r,e),r},Wx=i=>i?H_(i):H_,_a=Wx((i,e)=>({isMenuOpen:!1,storeToysList:[],cartList:[],isLoggedIn:!1,switchIsLoggedIn:()=>i(r=>({isLoggedIn:!r.isLoggedIn})),setSummerToys:r=>{i(()=>({storeToysList:r}))},toggleMenu:()=>i(r=>({isMenuOpen:!r.isMenuOpen})),addToCart:r=>{const{cartList:s}=e();let o=s.find(u=>u.id===r.id);if(!o)i(u=>({cartList:[...u.cartList,{...r,quantity:1}]}));else{const u=s.map(f=>f.id===o.id?{...f,quantity:f.quantity+1}:f);i(()=>({cartList:u}))}},removeFromCart:r=>{const{cartList:s}=e();let o=s.find(f=>f.id===r.id),u=[];o.quantity===1?u=s.filter(f=>f.id!==o.id):u=s.map(f=>f.id===o.id?{...f,quantity:f.quantity-1}:f),i(()=>({cartList:u}))}}));function eC(){const{pathname:i}=wi();return re.useEffect(()=>{window.scrollTo(0,0)},[i]),null}const tC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR4nO2ZSy8EQRDHfwf2YuNxdcYeBXvBF7CREB/G4+59JI74IBaJT0GcBOvGxeNGSSU1stnYZCZmegr9SyqZpKeru/pf3dNbC5G/Tw1YBU6BS+DFTJ+bwAowhmPqwBkgKU0DncIRvcAB8GETfAQOgQVTp89MnxeBI3tHrM8+0FN2EEPAuU3qFVgH+lP003c2gLc2dQYpUYkkle4ttbIyDtyYjwugQgkc2ARugeEf+NG+d+Zrj8DULb81nSZy8DdpafZuz8FIUkr3RF5smk89ooNQazud0mzstAwAT+Z7lACs2WB6xObNsfleJgBNG0y/CXmzZL5PCMC1DTZSYNpeEYBnG6xagO+q+dYxCie5K/1W/1/EQFIiUZGMxNQqY6EqwC7wkOEXX9HWArazXvV3HExcuthWlkBa1mkaP8y0KePvCMyIZJ1XDKRgJCriDImKOEOiIs6QqEgH81bn1RJno4R2yUuRpEab1HxDt0sMpIOGrZqu1lwJ7RI3uzMkKuIMiYo4Q6IizpB/q0jLOmgtyQuzNie9VKZm20FFUbqY/o2dGq2vajCJMh5MldAgvq39fgLrDI6q0s9yGAAAAABJRU5ErkJggg==";function nC(){const{toggleMenu:i,isMenuOpen:e,setSummerToys:r,cartList:s}=_a(),o=wi();re.useEffect(()=>{cf(r)},[]);const u=()=>s.reduce((f,c)=>f+c.quantity,0);return W.jsxs(W.Fragment,{children:[W.jsx(eC,{}),o.pathname!=="/admin"&&W.jsxs("header",{children:[W.jsx(na,{to:"/",className:"logo",children:"Lekldan"}),W.jsxs("div",{className:"menu-flex",children:[W.jsx(na,{to:"/products",children:"Produkter"}),W.jsxs(na,{className:"cart-button-flex",to:"/cart",children:[u()>0&&W.jsx("p",{className:"cart-quantity",children:u()}),W.jsx("img",{className:"cart-button",src:qS,alt:"cart store icon"})]})]})]}),W.jsx(oS,{}),o.pathname!=="/admin"&&W.jsxs("footer",{children:[W.jsxs("section",{children:[W.jsx(na,{to:"/",className:"logo",children:"Lekldan"}),W.jsxs("div",{children:[W.jsx("h2",{children:"Kontakta oss"}),W.jsx("p",{children:"leklada@hotmail.se"}),W.jsx("p",{children:"031 01 23 34"})]})]}),W.jsx("p",{children:" 2025 Lekldan"}),W.jsx(na,{to:"/login",children:W.jsx("img",{src:tC,alt:""})})]})]})}const rC="/lekladan/assets/pexels-photo-6137955-CZpMGykj.jpeg",iC="/lekladan/assets/beach-BXfBnknG.jpg",aC="/lekladan/assets/outside-C4z-GztM.webp",sC="/lekladan/assets/sport-PGlnz-fs.webp",oC="/lekladan/assets/water-Bz51mM7J.webp";function lC(){return W.jsxs("main",{className:"home-page",children:[W.jsx("img",{className:"hero-img",src:rC,alt:""}),W.jsxs("section",{className:"lekladan-presentation",children:[W.jsx("img",{src:"https://media.istockphoto.com/id/1470000848/photo/black-kids-children-and-blowing-bubbles-at-park-having-fun-and-bonding-girls-happy-sisters.jpg?s=612x612&w=0&k=20&c=mj4gWGkh4gryBxxrATYGDe8jTqR_az2dHANVe30R02k=",alt:""}),W.jsxs("div",{children:[W.jsx("h1",{children:" Vlkommen till Lekldan  sommarens roligaste butik!"}),W.jsx("p",{children:"Hos oss hittar du ett handplockat sortiment av sommarleksaker som bjuder in till lek, rrelse och gldje utomhus. Oavsett om du letar efter vattenleksaker, utomhusspel eller klassiska strandfavoriter har vi ngot fr barn i alla ldrar."}),W.jsx("p",{children:"Vi lskar lek  och vi vet att de bsta sommarminnena brjar med rtt leksaker. Lekldan r fylld med bde nyheter och tidlsa favoriter, och vi erbjuder snabba leveranser s att du kan komma igng med leken direkt."}),W.jsx("p",{children:" Gr sommaren magisk  upptck vrt sortiment idag!"}),W.jsx(na,{className:"button",to:"/products",children:"G till produkterna"})]})]}),W.jsxs("section",{className:"categorys",children:[W.jsxs("div",{children:[W.jsx("img",{src:aC}),W.jsx("p",{children:"Uteleksaker"})]}),W.jsxs("div",{children:[W.jsx("img",{src:sC}),W.jsx("p",{children:"Rrelse & Sport"})]}),W.jsxs("div",{children:[W.jsx("img",{src:iC}),W.jsx("p",{children:"Till stranden"})]}),W.jsxs("div",{children:[W.jsx("img",{src:oC}),W.jsx("p",{children:"Vattenleksaker"})]})]})]})}function uC({toy:i}){const{addToCart:e}=_a();return W.jsxs("div",{className:"toy",children:[i.discount>0&&W.jsxs("p",{className:"discount",children:[i.discount,"%"]}),W.jsx("img",{src:i.img,alt:""}),W.jsx("h1",{children:i.name}),W.jsx("p",{children:i.description}),W.jsxs("div",{className:"toy-flex",children:[W.jsx("button",{onClick:()=>e(i),children:"Lgg till"}),W.jsxs("div",{children:[i.oldPrice>0&&W.jsxs("p",{className:"old-price",children:[i.oldPrice,":-"]}),W.jsxs("p",{children:[i.price,":-"]})]})]})]})}function cC(){const{storeToysList:i}=_a(),[e,r]=re.useState(i),[s,o]=re.useState("");re.useEffect(()=>{r(i)},[i]);const u=c=>{let p=[...e];switch(c){case"price-asc":{p.sort((y,E)=>y.price-E.price);break}case"price-desc":{p.sort((y,E)=>E.price-y.price);break}case"name-asc":{p.sort((y,E)=>{let d=y.name,g=E.name;return d<g?-1:d>g?1:0});break}case"name-desc":{p.sort((y,E)=>{let d=y.name,g=E.name;return d<g?1:d>g?-1:0});break}}r(p)},f=e.filter(c=>c.name.toLowerCase().includes(s.toLowerCase()));return W.jsxs("main",{className:"product-page",children:[W.jsxs("section",{className:"search-sort",children:[W.jsx("input",{className:"search",type:"text",placeholder:"Sk...",onChange:c=>o(c.target.value)}),W.jsxs("label",{className:"sort-products",htmlFor:"sort",children:["Sortera efter",W.jsxs("select",{name:"sort",id:"sort",defaultValue:"",onChange:c=>u(c.target.value),children:[W.jsx("option",{value:"",disabled:!0,children:"-- Vlj --"}),W.jsx("option",{value:"price-asc",children:"Pris stigande"}),W.jsx("option",{value:"price-desc",children:"Pris fallande"}),W.jsx("option",{value:"name-asc",children:"A-"}),W.jsx("option",{value:"name-desc",children:"-A"})]})]})]}),f.length<1?W.jsx("p",{className:"no-search-results",children:" Hoppsan! Inga leksaker gmde sig bakom det ordet . Prova att leta igen  vi har massor av kul !"}):W.jsx("div",{className:"products",children:f.map(c=>W.jsx(uC,{toy:c},c.id))})]})}function fC(){const{cartList:i,addToCart:e,removeFromCart:r}=_a(),s=()=>i.reduce((u,f)=>u+f.price*f.quantity,0),o=()=>i.reduce((u,f)=>u+f.quantity,0);return W.jsx("main",{className:"cart-page",children:i.length===0?W.jsxs("div",{className:"empty-cart",children:[W.jsx("p",{children:"Din varukorg r tom. Hitta ngra fantastiska leksaker frst!"}),W.jsx(na,{className:"button",to:"/products",children:"G till produkterna"})]}):W.jsx(W.Fragment,{children:W.jsxs("section",{className:"cart",children:[i.map(u=>W.jsxs("div",{className:"cart-product",children:[W.jsx("img",{src:u.img,alt:"product img"}),W.jsxs("div",{children:[W.jsx("h1",{children:u.name}),W.jsxs("p",{children:[u.price*u.quantity,":-"]})]}),W.jsxs("div",{className:"cart-buttons",children:[W.jsx("button",{onClick:()=>r(u),children:"-"}),W.jsx("p",{children:u.quantity}),W.jsx("button",{onClick:()=>e(u),children:"+"})]})]},u.id)),W.jsxs("section",{className:"total",children:[W.jsxs("div",{children:[W.jsx("p",{children:"Antal:"}),W.jsxs("p",{children:[o(),"st"]})]}),W.jsxs("div",{children:[W.jsx("p",{children:"Frakt:"}),W.jsx("p",{children:"Gratis"})]}),W.jsxs("div",{children:[W.jsx("h3",{children:"Totalt:"}),W.jsxs("h3",{children:[s(),":-"]})]})]})]})})})}function hC(){const[i,e]=re.useState({userName:"",password:""}),[r,s]=re.useState(""),{switchIsLoggedIn:o}=_a(),u=sm(),f=()=>{i.userName==="admin"&&i.password==="password"?(u("/admin"),o()):s("Felaktiga inloggningsuppgifter, frsk igen.")};return W.jsxs("main",{className:"login-page",children:[W.jsx("h1",{children:"Logga in som administratr"}),W.jsxs("form",{onSubmit:c=>{c.preventDefault(),f()},children:[W.jsxs("div",{children:[W.jsx("img",{src:"https://img.icons8.com/?size=100&id=ywULFSPkh4kI&format=png&color=000000",alt:""}),W.jsx("input",{type:"text",placeholder:"Anvndarnman",onChange:c=>e(p=>({...p,userName:c.target.value}))})]}),W.jsxs("div",{children:[W.jsx("img",{src:"https://img.icons8.com/?size=100&id=2862&format=png&color=000000",alt:""}),W.jsx("input",{type:"password",placeholder:"Lsenord",onChange:c=>e(p=>({...p,password:c.target.value}))})]}),W.jsx("p",{children:r}),W.jsx("button",{type:"submit",children:"Logga in"})]})]})}var Rd={exports:{}},F_;function dC(){return F_||(F_=1,function(i,e){(function(r,s){i.exports=s()})(self,()=>{return r={7629:(o,u,f)=>{const c=f(375),p=f(8571),y=f(9474),E=f(1687),d=f(8652),g=f(8160),_=f(3292),v=f(6354),b=f(8901),R=f(9708),T=f(6914),A=f(2294),D=f(6133),V=f(1152),L=f(8863),k=f(2036),I={Base:class{constructor(S){this.type=S,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new A.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...S){return g.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(S){c(S&&typeof S=="object"&&!Array.isArray(S),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const O in S){const j=S[O];c(typeof j=="function","Alteration adjuster for",O,"must be a function"),x.$_terms.alterations.push({target:O,adjuster:j})}return x.$_temp.ruleset=!1,x}artifact(S){return c(S!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",S)}cast(S){return c(S===!1||typeof S=="string","Invalid to value"),c(S===!1||this._definition.cast[S],"Type",this.type,"does not support casting to",S),this.$_setFlag("cast",S===!1?void 0:S)}default(S,x){return this._default("default",S,x)}description(S){return c(S&&typeof S=="string","Description must be a non-empty string"),this.$_setFlag("description",S)}empty(S){const x=this.clone();return S!==void 0&&(S=x.$_compile(S,{override:!1})),x.$_setFlag("empty",S,{clone:!1})}error(S){return c(S,"Missing error"),c(S instanceof Error||typeof S=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",S)}example(S,x={}){return c(S!==void 0,"Missing example"),g.assertOptions(x,["override"]),this._inner("examples",S,{single:!0,override:x.override})}external(S,x){return typeof S=="object"&&(c(!x,"Cannot combine options with description"),x=S.description,S=S.method),c(typeof S=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:S,description:x},{single:!0})}failover(S,x){return this._default("failover",S,x)}forbidden(){return this.presence("forbidden")}id(S){return S?(c(typeof S=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(S),"id cannot contain period character"),this.$_setFlag("id",S)):this.$_setFlag("id",void 0)}invalid(...S){return this._values(S,"_invalids")}label(S){return c(S&&typeof S=="string","Label name must be a non-empty string"),this.$_setFlag("label",S)}meta(S){return c(S!==void 0,"Meta cannot be undefined"),this._inner("metas",S,{single:!0})}note(...S){c(S.length,"Missing notes");for(const x of S)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(S=!0){return c(typeof S=="boolean","Invalid mode:",S),this.$_setFlag("only",S)}optional(){return this.presence("optional")}prefs(S){c(S,"Missing preferences"),c(S.context===void 0,"Cannot override context"),c(S.externals===void 0,"Cannot override externals"),c(S.warnings===void 0,"Cannot override warnings"),c(S.debug===void 0,"Cannot override debug"),g.checkPreferences(S);const x=this.clone();return x._preferences=g.preferences(x._preferences,S),x}presence(S){return c(["optional","required","forbidden"].includes(S),"Unknown presence mode",S),this.$_setFlag("presence",S)}raw(S=!0){return this.$_setFlag("result",S?"raw":void 0)}result(S){return c(["raw","strip"].includes(S),"Unknown result mode",S),this.$_setFlag("result",S)}required(){return this.presence("required")}strict(S){const x=this.clone(),O=S!==void 0&&!S;return x._preferences=g.preferences(x._preferences,{convert:O}),x}strip(S=!0){return this.$_setFlag("result",S?"strip":void 0)}tag(...S){c(S.length,"Missing tags");for(const x of S)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(S){return c(S&&typeof S=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",S)}valid(...S){g.verifyFlat(S,"valid");const x=this.allow(...S);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(S,x){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const j=_.when(O,S,x);if(!["any","link"].includes(O.type)){const $=j.is?[j]:j.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(j),O.$_mutateRebuild()}cache(S){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=S||d.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const S=Object.create(Object.getPrototypeOf(this));return this._assign(S)}concat(S){c(g.isSchema(S),"Invalid schema object"),c(this.type==="any"||S.type==="any"||S.type===this.type,"Cannot merge type",this.type,"with another type:",S.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!S._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&S.type!=="any"){const O=S.clone();for(const j of Object.keys(x))j!=="type"&&(O[j]=x[j]);x=O}x._ids.concat(S._ids),x._refs.register(S,D.toSibling),x._preferences=x._preferences?g.preferences(x._preferences,S._preferences):S._preferences,x._valids=k.merge(x._valids,S._valids,S._invalids),x._invalids=k.merge(x._invalids,S._invalids,S._valids);for(const O of S._singleRules.keys())x._singleRules.has(O)&&(x._rules=x._rules.filter(j=>j.keep||j.name!==O),x._singleRules.delete(O));for(const O of S._rules)S._definition.rules[O.method].multi||x._singleRules.set(O.name,O),x._rules.push(O);if(x._flags.empty&&S._flags.empty){x._flags.empty=x._flags.empty.concat(S._flags.empty);const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else if(S._flags.empty){x._flags.empty=S._flags.empty;const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else E(x._flags,S._flags);for(const O in S.$_terms){const j=S.$_terms[O];j?x.$_terms[O]?x.$_terms[O]=x.$_terms[O].concat(j):x.$_terms[O]=j.slice():x.$_terms[O]||(x.$_terms[O]=j)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,S]),x.$_mutateRebuild()}extend(S){return c(!S.base,"Cannot extend type with another base"),b.type(this,S)}extract(S){return S=Array.isArray(S)?S:S.split("."),this._ids.reach(S)}fork(S,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let j of[].concat(S))j=Array.isArray(j)?j:j.split("."),O=O._ids.fork(j,x,O);return O.$_temp.ruleset=!1,O}rule(S){const x=this._definition;g.assertOptions(S,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const j=this.clone();for(let $=O;$<j._rules.length;++$){const U=j._rules[$],he=p(U);for(const pe in S)x.modifiers[pe](he,S[pe]),c(he.name===U.name,"Cannot change rule name");j._rules[$]=he,j._singleRules.get(he.name)===U&&j._singleRules.set(he.name,he)}return j.$_temp.ruleset=!1,j.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const S=this.clone();return S.$_temp.ruleset=S._rules.length,S}get $(){return this.ruleset}tailor(S){S=[].concat(S),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:O,adjuster:j}of this.$_terms.alterations)S.includes(O)&&(x=j(x),c(g.isSchema(x),"Alteration adjuster for",O,"failed to return a schema object"));return x=x.$_modify({each:O=>O.tailor(S),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return V.location?V.location(this):this}validate(S,x){return L.entry(S,this,x)}validateAsync(S,x){return L.entryAsync(S,this,x)}$_addRule(S){typeof S=="string"&&(S={name:S}),c(S&&typeof S=="object","Invalid options"),c(S.name&&typeof S.name=="string","Invalid rule name");for(const U in S)c(U[0]!=="_","Cannot set private rule properties");const x=Object.assign({},S);x._resolve=[],x.method=x.method||x.name;const O=this._definition.rules[x.method],j=x.args;c(O,"Unknown rule",x.method);const $=this.clone();if(j){c(Object.keys(j).length===1||Object.keys(j).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const U in j){let he=j[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&g.isResolvable(he))x._resolve.push(U),$.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),j[U]=he),pe.assert){const G=g.validateArg(he,U,pe);c(!G,G,"or reference")}}he!==void 0?j[U]=he:delete j[U]}}return O.multi||($._ruleRemove(x.name,{clone:!1}),$._singleRules.set(x.name,x)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(x):$._rules.push(x),$}$_compile(S,x){return _.schema(this.$_root,S,x)}$_createError(S,x,O,j,$,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?T.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(S,x,O,he,pe,j,$)}$_getFlag(S){return this._flags[S]}$_getRule(S){return this._singleRules.get(S)}$_mapLabels(S){return S=Array.isArray(S)?S:S.split("."),this._ids.labels(S)}$_match(S,x,O,j){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,x.snapshot();const $=!L.validate(S,this,x,O,j).errors;return x.restore(),$}$_modify(S){return g.assertOptions(S,["each","once","ref","schema"]),A.schema(this,S)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(S,{source:x,name:O,path:j,key:$})=>{const U=this._definition[x][O]&&this._definition[x][O].register;U!==!1&&this.$_mutateRegister(S,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(S,{family:x,key:O}={}){this._refs.register(S,x),this._ids.register(S,{key:O})}$_property(S){return this._definition.properties[S]}$_reach(S){return this._ids.reach(S)}$_rootReferences(){return this._refs.roots()}$_setFlag(S,x,O={}){c(S[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const j=this._definition.flags[S]||{};if(y(x,j.default)&&(x=void 0),y(x,this._flags[S]))return this;const $=O.clone!==!1?this.clone():this;return x!==void 0?($._flags[S]=x,$.$_mutateRegister(x)):delete $._flags[S],S[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(S,...x){return this[S][g.symbols.parent].call(this,...x)}$_validate(S,x,O){return L.validate(S,this,x,O)}_assign(S){S.type=this.type,S.$_root=this.$_root,S.$_temp=Object.assign({},this.$_temp),S.$_temp.whens={},S._ids=this._ids.clone(),S._preferences=this._preferences,S._valids=this._valids&&this._valids.clone(),S._invalids=this._invalids&&this._invalids.clone(),S._rules=this._rules.slice(),S._singleRules=p(this._singleRules,{shallow:!0}),S._refs=this._refs.clone(),S._flags=Object.assign({},this._flags),S._cache=null,S.$_terms={};for(const x in this.$_terms)S.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;S.$_super={};for(const x in this.$_super)S.$_super[x]=this._super[x].bind(S);return S}_bare(){const S=this.clone();S._reset();const x=S._definition.terms;for(const O in x){const j=x[O];S.$_terms[O]=j.init}return S.$_mutateRebuild()}_default(S,x,O={}){return g.assertOptions(O,"literal"),c(x!==void 0,"Missing",S,"value"),c(typeof x=="function"||!O.literal,"Only function value supports literal option"),typeof x=="function"&&O.literal&&(x={[g.symbols.literal]:!0,literal:x}),this.$_setFlag(S,x)}_generate(S,x,O){if(!this.$_terms.whens)return{schema:this};const j=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const G=this.$_terms.whens[pe];if(G.concat){j.push(G.concat),$.push(`${pe}.concat`);continue}const se=G.ref?G.ref.resolve(S,x,O):S,ye=G.is?[G]:G.switch,Re=$.length;for(let B=0;B<ye.length;++B){const{is:ne,then:me,otherwise:ce}=ye[B],_e=`${pe}${G.switch?"."+B:""}`;if(ne.$_match(se,x.nest(ne,`${_e}.is`),O)){if(me){const je=x.localize([...x.path,`${_e}.then`],x.ancestors,x.schemas),{schema:xe,id:Tt}=me._generate(S,je,O);j.push(xe),$.push(`${_e}.then${Tt?`(${Tt})`:""}`);break}}else if(ce){const je=x.localize([...x.path,`${_e}.otherwise`],x.ancestors,x.schemas),{schema:xe,id:Tt}=ce._generate(S,je,O);j.push(xe),$.push(`${_e}.otherwise${Tt?`(${Tt})`:""}`);break}}if(G.break&&$.length>Re)break}const U=$.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",U),!U)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,S,x,O));for(const pe of j)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...j]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(S,x,O={}){c(!this._inRuleset(),`Cannot set ${S} inside a ruleset`);const j=this.clone();return j.$_terms[S]&&!O.override||(j.$_terms[S]=[]),O.single?j.$_terms[S].push(x):j.$_terms[S].push(...x),j.$_temp.ruleset=!1,j}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(S,x={}){if(!this._singleRules.has(S))return this;const O=x.clone!==!1?this.clone():this;O._singleRules.delete(S);const j=[];for(let $=0;$<O._rules.length;++$){const U=O._rules[$];U.name!==S||U.keep?j.push(U):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=j,O}_values(S,x){g.verifyFlat(S,x.slice(1,-1));const O=this.clone(),j=S[0]===g.symbols.override;if(j&&(S=S.slice(1)),!O[x]&&S.length?O[x]=new k:j&&(O[x]=S.length?new k:null,O.$_mutateRebuild()),!O[x])return O;j&&O[x].override();for(const $ of S){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==g.symbols.override,"Override must be the first value");const U=x==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove($),O[U].length||(c(x==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[x].add($,O._refs)}return O}}};I.Base.prototype[g.symbols.any]={version:g.version,compile:_.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,o.exports=new I.Base},8652:(o,u,f)=>{const c=f(375),p=f(8571),y=f(8160),E={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:d=>new E.Cache(d)},E.Cache=class{constructor(d={}){y.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||E.max,this._map=new Map,this._list=new E.List}get length(){return this._map.size}set(d,g){if(d!==null&&!E.supported.has(typeof d))return;let _=this._map.get(d);if(_)return _.value=g,void this._list.first(_);_=this._list.unshift({key:d,value:g}),this._map.set(d,_),this._compact()}get(d){const g=this._map.get(d);if(g)return this._list.first(g),p(g.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},E.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:g,prev:_}=d;return g.prev=_,_&&(_.next=g),d===this.tail&&(this.tail=g),d.prev=null,d.next=null,d}}},8160:(o,u,f)=>{const c=f(375),p=f(7916),y=f(5934);let E,d;const g={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=y.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(_,v,b="Options"){c(_&&typeof _=="object"&&!Array.isArray(_),"Options must be of type object");const R=Object.keys(_).filter(T=>!v.includes(T));c(R.length===0,`${b} contain unknown keys: ${R}`)},u.checkPreferences=function(_){d=d||f(3378);const v=d.preferences.validate(_);if(v.error)throw new p([v.error.details[0].message])},u.compare=function(_,v,b){switch(b){case"=":return _===v;case">":return _>v;case"<":return _<v;case">=":return _>=v;case"<=":return _<=v}},u.default=function(_,v){return _===void 0?v:_},u.isIsoDate=function(_){return g.isoDate.test(_)},u.isNumber=function(_){return typeof _=="number"&&!isNaN(_)},u.isResolvable=function(_){return!!_&&(_[u.symbols.ref]||_[u.symbols.template])},u.isSchema=function(_,v={}){const b=_&&_[u.symbols.any];return!!b&&(c(v.legacy||b.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(_){return _[u.symbols.values]},u.limit=function(_){return Number.isSafeInteger(_)&&_>=0},u.preferences=function(_,v){E=E||f(6914),_=_||{},v=v||{};const b=Object.assign({},_,v);return v.errors&&_.errors&&(b.errors=Object.assign({},_.errors,v.errors),b.errors.wrap=Object.assign({},_.errors.wrap,v.errors.wrap)),v.messages&&(b.messages=E.compile(v.messages,_.messages)),delete b[u.symbols.prefs],b},u.tryWithPath=function(_,v,b={}){try{return _()}catch(R){throw R.path!==void 0?R.path=v+"."+R.path:R.path=v,b.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(_,v,{assert:b,message:R}){if(u.isSchema(b)){const T=b.validate(_);return T.error?T.error.message:void 0}if(!b(_))return v?`${v} ${R}`:R},u.verifyFlat=function(_,v){for(const b of _)c(!Array.isArray(b),"Method no longer accepts array arguments:",v)}},3292:(o,u,f)=>{const c=f(375),p=f(8160),y=f(6133),E={};u.schema=function(d,g,_={}){p.assertOptions(_,["appendPath","override"]);try{return E.schema(d,g,_)}catch(v){throw _.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},E.schema=function(d,g,_){c(g!==void 0,"Invalid undefined schema"),Array.isArray(g)&&(c(g.length,"Invalid empty array schema"),g.length===1&&(g=g[0]));const v=(b,...R)=>_.override!==!1?b.valid(d.override,...R):b.valid(...R);if(E.simple(g))return v(d,g);if(typeof g=="function")return d.custom(g);if(c(typeof g=="object","Invalid schema content:",typeof g),p.isResolvable(g))return v(d,g);if(p.isSchema(g))return g;if(Array.isArray(g)){for(const b of g)if(!E.simple(b))return d.alternatives().try(...g);return v(d,...g)}return g instanceof RegExp?d.string().regex(g):g instanceof Date?v(d.date(),g):(c(Object.getPrototypeOf(g)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(g))},u.ref=function(d,g){return y.isRef(d)?d:y.create(d,g)},u.compile=function(d,g,_={}){p.assertOptions(_,["legacy"]);const v=g&&g[p.symbols.any];if(v)return c(_.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),g;if(typeof g!="object"||!_.legacy)return u.schema(d,g,{appendPath:!0});const b=E.walk(g);return b?b.compile(b.root,g):u.schema(d,g,{appendPath:!0})},E.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const _ of d){const v=E.walk(_);if(v)return v}return null}const g=d[p.symbols.any];if(g)return{root:d[g.root],compile:g.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const _ in d){const v=E.walk(d[_]);if(v)return v}return null},E.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},u.when=function(d,g,_){if(_===void 0&&(c(g&&typeof g=="object","Missing options"),_=g,g=y.create(".")),Array.isArray(_)&&(_={switch:_}),p.assertOptions(_,["is","not","then","otherwise","switch","break"]),p.isSchema(g))return c(_.is===void 0,'"is" can not be used with a schema condition'),c(_.not===void 0,'"not" can not be used with a schema condition'),c(_.switch===void 0,'"switch" can not be used with a schema condition'),E.condition(d,{is:g,then:_.then,otherwise:_.otherwise,break:_.break});if(c(y.isRef(g)||typeof g=="string","Invalid condition:",g),c(_.not===void 0||_.is===void 0,'Cannot combine "is" with "not"'),_.switch===void 0){let b=_;_.not!==void 0&&(b={is:_.not,then:_.otherwise,otherwise:_.then,break:_.break});let R=b.is!==void 0?d.$_compile(b.is):d.$_root.invalid(null,!1,0,"").required();return c(b.then!==void 0||b.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(b.break===void 0||b.then===void 0||b.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),_.is===void 0||y.isRef(_.is)||p.isSchema(_.is)||(R=R.required()),E.condition(d,{ref:u.ref(g),is:R,then:b.then,otherwise:b.otherwise,break:b.break})}c(Array.isArray(_.switch),'"switch" must be an array'),c(_.is===void 0,'Cannot combine "switch" with "is"'),c(_.not===void 0,'Cannot combine "switch" with "not"'),c(_.then===void 0,'Cannot combine "switch" with "then"');const v={ref:u.ref(g),switch:[],break:_.break};for(let b=0;b<_.switch.length;++b){const R=_.switch[b],T=b===_.switch.length-1;p.assertOptions(R,T?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const A={is:d.$_compile(R.is),then:d.$_compile(R.then)};if(y.isRef(R.is)||p.isSchema(R.is)||(A.is=A.is.required()),T){c(_.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=_.otherwise!==void 0?_.otherwise:R.otherwise;D!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),A.otherwise=d.$_compile(D))}v.switch.push(A)}return v},E.condition=function(d,g){for(const _ of["then","otherwise"])g[_]===void 0?delete g[_]:g[_]=d.$_compile(g[_]);return g}},6354:(o,u,f)=>{const c=f(5688),p=f(8160),y=f(3328);u.Report=class{constructor(E,d,g,_,v,b,R){if(this.code=E,this.flags=_,this.messages=v,this.path=b.path,this.prefs=R,this.state=b,this.value=d,this.message=null,this.template=null,this.local=g||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const T=this.path[this.path.length-1];typeof T!="object"&&(this.local.key=T)}}_setTemplate(E){if(this.template=E,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const E=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${E}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(E,d){return u.template(this.value,E,d||this.code,this.state,this.prefs)}},u.path=function(E){let d="";for(const g of E)typeof g!="object"&&(typeof g=="string"?(d&&(d+="."),d+=g):d+=`[${g}]`);return d},u.template=function(E,d,g,_,v){if(!d)return;if(y.isTemplate(d))return g!=="root"?d:null;let b=v.errors.language;if(p.isResolvable(b)&&(b=b.resolve(E,_,v)),b&&d[b]){if(d[b][g]!==void 0)return d[b][g];if(d[b]["*"]!==void 0)return d[b]["*"]}return d[g]?d[g]:d["*"]},u.label=function(E,d,g,_){if(!g.errors.label)return"";if(E.label)return E.label;let v=d.path;return g.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),u.path(v)||u.template(null,g.messages,"root",d,g)||_&&u.template(null,_,"root",d,g)||"value"},u.process=function(E,d,g){if(!E)return null;const{override:_,message:v,details:b}=u.details(E);if(_)return _;if(g.errors.stack)return new u.ValidationError(v,b,d);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const T=new u.ValidationError(v,b,d);return Error.stackTraceLimit=R,T},u.details=function(E,d={}){let g=[];const _=[];for(const v of E){if(v instanceof Error){if(d.override!==!1)return{override:v};const R=v.toString();g.push(R),_.push({message:R,type:"override",context:{error:v}});continue}const b=v.toString();g.push(b),_.push({message:b,path:v.path.filter(R=>typeof R!="object"),type:v.code,context:v.local})}return g.length>1&&(g=[...new Set(g)]),{message:g.join(". "),details:_}},u.ValidationError=class extends Error{constructor(E,d,g){super(E),this._original=g,this.details=d}static isError(E){return E instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,f)=>{const c=f(375),p=f(8571),y=f(8160),E=f(6914),d={};u.type=function(g,_){const v=Object.getPrototypeOf(g),b=p(v),R=g._assign(Object.create(b)),T=Object.assign({},_);delete T.base,b._definition=T;const A=v._definition||{};T.messages=E.merge(A.messages,T.messages),T.properties=Object.assign({},A.properties,T.properties),R.type=T.type,T.flags=Object.assign({},A.flags,T.flags);const D=Object.assign({},A.terms);if(T.terms)for(const I in T.terms){const S=T.terms[I];c(R.$_terms[I]===void 0,"Invalid term override for",T.type,I),R.$_terms[I]=S.init,D[I]=S}T.terms=D,T.args||(T.args=A.args),T.prepare=d.prepare(T.prepare,A.prepare),T.coerce&&(typeof T.coerce=="function"&&(T.coerce={method:T.coerce}),T.coerce.from&&!Array.isArray(T.coerce.from)&&(T.coerce={method:T.coerce.method,from:[].concat(T.coerce.from)})),T.coerce=d.coerce(T.coerce,A.coerce),T.validate=d.validate(T.validate,A.validate);const V=Object.assign({},A.rules);if(T.rules)for(const I in T.rules){const S=T.rules[I];c(typeof S=="object","Invalid rule definition for",T.type,I);let x=S.method;if(x===void 0&&(x=function(){return this.$_addRule(I)}),x&&(c(!b[I],"Rule conflict in",T.type,I),b[I]=x),c(!V[I],"Rule conflict in",T.type,I),V[I]=S,S.alias){const O=[].concat(S.alias);for(const j of O)b[j]=S.method}S.args&&(S.argsByName=new Map,S.args=S.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!S.argsByName.has(O.name),"Duplicated argument name",O.name),y.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),S.argsByName.set(O.name,O),O)))}T.rules=V;const L=Object.assign({},A.modifiers);if(T.modifiers)for(const I in T.modifiers){c(!b[I],"Rule conflict in",T.type,I);const S=T.modifiers[I];c(typeof S=="function","Invalid modifier definition for",T.type,I);const x=function(O){return this.rule({[I]:O})};b[I]=x,L[I]=S}if(T.modifiers=L,T.overrides){b._super=v,R.$_super={};for(const I in T.overrides)c(v[I],"Cannot override missing",I),T.overrides[I][y.symbols.parent]=v[I],R.$_super[I]=v[I].bind(R);Object.assign(b,T.overrides)}T.cast=Object.assign({},A.cast,T.cast);const k=Object.assign({},A.manifest,T.manifest);return k.build=d.build(T.manifest&&T.manifest.build,A.manifest&&A.manifest.build),T.manifest=k,T.rebuild=d.rebuild(T.rebuild,A.rebuild),R},d.build=function(g,_){return g&&_?function(v,b){return _(g(v,b),b)}:g||_},d.coerce=function(g,_){return g&&_?{from:g.from&&_.from?[...new Set([...g.from,..._.from])]:null,method(v,b){let R;if((!_.from||_.from.includes(typeof v))&&(R=_.method(v,b),R)){if(R.errors||R.value===void 0)return R;v=R.value}if(!g.from||g.from.includes(typeof v)){const T=g.method(v,b);if(T)return T}return R}}:g||_},d.prepare=function(g,_){return g&&_?function(v,b){const R=g(v,b);if(R){if(R.errors||R.value===void 0)return R;v=R.value}return _(v,b)||R}:g||_},d.rebuild=function(g,_){return g&&_?function(v){_(v),g(v)}:g||_},d.validate=function(g,_){return g&&_?function(v,b){const R=_(v,b);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;v=R.value}return g(v,b)||R}:g||_}},5107:(o,u,f)=>{const c=f(375),p=f(8571),y=f(8652),E=f(8160),d=f(3292),g=f(6354),_=f(8901),v=f(9708),b=f(6133),R=f(3328),T=f(1152);let A;const D={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const V={_types:new Set(Object.keys(D.types))};for(const L of V._types)V[L]=function(...k){return c(!k.length||["alternatives","link","object"].includes(L),"The",L,"type does not allow arguments"),D.generate(this,D.types[L],k)};for(const L of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])V[L]=function(...k){return this.any()[L](...k)};Object.assign(V,D.methods);for(const L in D.aliases){const k=D.aliases[L];V[L]=V[k]}return V.x=V.expression,T.setup&&T.setup(V),V}};D.methods={ValidationError:g.ValidationError,version:E.version,cache:y.provider,assert(V,L,...k){D.assert(V,L,!0,k)},attempt:(V,L,...k)=>D.assert(V,L,!1,k),build(V){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,V)},checkPreferences(V){E.checkPreferences(V)},compile(V,L){return d.compile(this,V,L)},defaults(V){c(typeof V=="function","modifier must be a function");const L=Object.assign({},this);for(const k of L._types){const I=V(L[k]());c(E.isSchema(I),"modifier must return a valid schema object"),L[k]=function(...S){return D.generate(this,I,S)}}return L},expression:(...V)=>new R(...V),extend(...V){E.verifyFlat(V,"extend"),A=A||f(3378),c(V.length,"You need to provide at least one extension"),this.assert(V,A.extensions);const L=Object.assign({},this);L._types=new Set(L._types);for(let k of V){typeof k=="function"&&(k=k(L)),this.assert(k,A.extension);const I=D.expandExtension(k,L);for(const S of I){c(L[S.type]===void 0||L._types.has(S.type),"Cannot override name",S.type);const x=S.base||this.any(),O=_.type(x,S);L._types.add(S.type),L[S.type]=function(...j){return D.generate(this,O,j)}}}return L},isError:g.ValidationError.isError,isExpression:R.isTemplate,isRef:b.isRef,isSchema:E.isSchema,in:(...V)=>b.in(...V),override:E.symbols.override,ref:(...V)=>b.create(...V),types(){const V={};for(const L of this._types)V[L]=this[L]();for(const L in D.aliases)V[L]=this[L]();return V}},D.assert=function(V,L,k,I){const S=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,x=S!==null?I[1]:I[0],O=L.validate(V,E.preferences({errors:{stack:!0}},x||{}));let j=O.error;if(!j)return O.value;if(S instanceof Error)throw S;const $=k&&typeof j.annotate=="function"?j.annotate():j.message;throw j instanceof g.ValidationError==0&&(j=p(j)),j.message=S?`${S} ${$}`:$,j},D.generate=function(V,L,k){return c(V,"Must be invoked on a Joi instance."),L.$_root=V,L._definition.args&&k.length?L._definition.args(L,...k):L},D.expandExtension=function(V,L){if(typeof V.type=="string")return[V];const k=[];for(const I of L._types)if(V.type.test(I)){const S=Object.assign({},V);S.type=I,S.base=L[I](),k.push(S)}return k},o.exports=D.root()},6914:(o,u,f)=>{const c=f(375),p=f(8571),y=f(3328);u.compile=function(E,d){if(typeof E=="string")return c(!d,"Cannot set single message string"),new y(E);if(y.isTemplate(E))return c(!d,"Cannot set single message template"),E;c(typeof E=="object"&&!Array.isArray(E),"Invalid message options"),d=d?p(d):{};for(let g in E){const _=E[g];if(g==="root"||y.isTemplate(_)){d[g]=_;continue}if(typeof _=="string"){d[g]=new y(_);continue}c(typeof _=="object"&&!Array.isArray(_),"Invalid message for",g);const v=g;for(g in d[v]=d[v]||{},_){const b=_[g];g==="root"||y.isTemplate(b)?d[v][g]=b:(c(typeof b=="string","Invalid message for",g,"in",v),d[v][g]=new y(b))}}return d},u.decompile=function(E){const d={};for(let g in E){const _=E[g];if(g==="root"){d.root=_;continue}if(y.isTemplate(_)){d[g]=_.describe({compact:!0});continue}const v=g;for(g in d[v]={},_){const b=_[g];g!=="root"?d[v][g]=b.describe({compact:!0}):d[v].root=b}}return d},u.merge=function(E,d){if(!E)return u.compile(d);if(!d)return E;if(typeof d=="string")return new y(d);if(y.isTemplate(d))return d;const g=p(E);for(let _ in d){const v=d[_];if(_==="root"||y.isTemplate(v)){g[_]=v;continue}if(typeof v=="string"){g[_]=new y(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",_);const b=_;for(_ in g[b]=g[b]||{},v){const R=v[_];_==="root"||y.isTemplate(R)?g[b][_]=R:(c(typeof R=="string","Invalid message for",_,"in",b),g[b][_]=new y(R))}}return g}},2294:(o,u,f)=>{const c=f(375),p=f(8160),y=f(6133),E={};u.Ids=E.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new E.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[g,_]of d._byId.entries())c(!this._byKey.has(g),"Schema id conflicts with existing key:",g),this._byId.set(g,_);for(const[g,_]of d._byKey.entries())c(!this._byId.has(g),"Schema key conflicts with existing id:",g),this._byKey.set(g,_)}fork(d,g,_){const v=this._collect(d);v.push({schema:_});const b=v.shift();let R={id:b.id,schema:g(b.schema)};c(p.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const T of v)R={id:T.id,schema:E.fork(T.schema,R.id,R.schema)};return R.schema}labels(d,g=[]){const _=d[0],v=this._get(_);if(!v)return[...g,...d].join(".");const b=d.slice(1);return g=[...g,v.schema._flags.label||_],b.length?v.schema._ids.labels(b,g):g.join(".")}reach(d,g=[]){const _=d[0],v=this._get(_);c(v,"Schema does not contain path",[...g,...d].join("."));const b=d.slice(1);return b.length?v.schema._ids.reach(b,[...g,_]):v.schema}register(d,{key:g}={}){if(!d||!p.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const _=d._flags.id;if(_){const v=this._byId.get(_);c(!v||v.schema===d,"Cannot add different schemas with the same id:",_),c(!this._byKey.has(_),"Schema id conflicts with existing key:",_),this._byId.set(_,{schema:d,id:_})}g&&(c(!this._byKey.has(g),"Schema already contains key:",g),c(!this._byId.has(g),"Schema key conflicts with existing id:",g),this._byKey.set(g,{schema:d,id:g}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,g=[],_=[]){const v=d[0],b=this._get(v);c(b,"Schema does not contain path",[...g,...d].join(".")),_=[b,..._];const R=d.slice(1);return R.length?b.schema._ids._collect(R,[...g,v],_):_}_get(d){return this._byId.get(d)||this._byKey.get(d)}},E.fork=function(d,g,_){const v=u.schema(d,{each:(b,{key:R})=>{if(g===(b._flags.id||R))return _},ref:!1});return v?v.$_mutateRebuild():d},u.schema=function(d,g){let _;for(const v in d._flags){if(v[0]==="_")continue;const b=E.scan(d._flags[v],{source:"flags",name:v},g);b!==void 0&&(_=_||d.clone(),_._flags[v]=b)}for(let v=0;v<d._rules.length;++v){const b=d._rules[v],R=E.scan(b.args,{source:"rules",name:b.name},g);if(R!==void 0){_=_||d.clone();const T=Object.assign({},b);T.args=R,_._rules[v]=T,_._singleRules.get(b.name)===b&&_._singleRules.set(b.name,T)}}for(const v in d.$_terms){if(v[0]==="_")continue;const b=E.scan(d.$_terms[v],{source:"terms",name:v},g);b!==void 0&&(_=_||d.clone(),_.$_terms[v]=b)}return _},E.scan=function(d,g,_,v,b){const R=v||[];if(d===null||typeof d!="object")return;let T;if(Array.isArray(d)){for(let A=0;A<d.length;++A){const D=g.source==="terms"&&g.name==="keys"&&d[A].key,V=E.scan(d[A],g,_,[A,...R],D);V!==void 0&&(T=T||d.slice(),T[A]=V)}return T}if(_.schema!==!1&&p.isSchema(d)||_.ref!==!1&&y.isRef(d)){const A=_.each(d,{...g,path:R,key:b});return A===d?void 0:A}for(const A in d){if(A[0]==="_")continue;const D=E.scan(d[A],g,_,[A,...R],b);D!==void 0&&(T=T||Object.assign({},d),T[A]=D)}return T}},6133:(o,u,f)=>{const c=f(375),p=f(8571),y=f(9621),E=f(8160);let d;const g={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(_,v={}){c(typeof _=="string","Invalid reference key:",_),E.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const b=Object.assign({},g.defaults,v);delete b.prefix;const R=b.separator,T=g.context(_,R,v.prefix);if(b.type=T.type,_=T.key,b.type==="value")if(T.root&&(c(!R||_[0]!==R,"Cannot specify relative path with root prefix"),b.ancestor="root",_||(_=null)),R&&R===_)_=null,b.ancestor=0;else if(b.ancestor!==void 0)c(!R||!_||_[0]!==R,"Cannot combine prefix with ancestor option");else{const[A,D]=g.ancestor(_,R);D&&(_=_.slice(D))===""&&(_=null),b.ancestor=A}return b.path=R?_===null?[]:_.split(R):[_],new g.Ref(b)},u.in=function(_,v={}){return u.create(_,{...v,in:!0})},u.isRef=function(_){return!!_&&!!_[E.symbols.ref]},g.Ref=class{constructor(_){c(typeof _=="object","Invalid reference construction"),E.assertOptions(_,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(_.separator)||typeof _.separator=="string"&&_.separator.length===1,"Invalid separator"),c(!_.adjust||typeof _.adjust=="function","options.adjust must be a function"),c(!_.map||Array.isArray(_.map),"options.map must be an array"),c(!_.map||!_.adjust,"Cannot set both map and adjust options"),Object.assign(this,g.defaults,_),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(_,v,b,R,T={}){return c(!this.in||T.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(b.context,v,T):this.type==="local"?this._resolve(R,v,T):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,T):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,T)):this._resolve(_,v,T)}_resolve(_,v,b){let R;if(this.type==="value"&&v.mainstay.shadow&&b.shadow!==!1&&(R=v.mainstay.shadow.get(this.absolute(v))),R===void 0&&(R=y(_,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const T=this.map.get(R);T!==void 0&&(R=T)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,R),R}toString(){return this.display}absolute(_){return[..._.path.slice(0,-this.ancestor),...this.path]}clone(){return new g.Ref(this)}describe(){const _={path:this.path};this.type!=="value"&&(_.type=this.type),this.separator!=="."&&(_.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(_.ancestor=this.ancestor),this.map&&(_.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(_[v]=this[v]);return this.in!==!1&&(_.in=!0),{ref:_}}updateDisplay(){const _=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${_}`);if(!this.separator)return void(this.display=`ref:${_}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${_}`);if(this.ancestor==="root")return void(this.display=`ref:root:${_}`);if(this.ancestor===1)return void(this.display=`ref:${_||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${_||""}`}},g.Ref.prototype[E.symbols.ref]=!0,u.build=function(_){return(_=Object.assign({},g.defaults,_)).type==="value"&&_.ancestor===void 0&&(_.ancestor=1),new g.Ref(_)},g.context=function(_,v,b={}){if(_=_.trim(),b){const R=b.global===void 0?"$":b.global;if(R!==v&&_.startsWith(R))return{key:_.slice(R.length),type:"global"};const T=b.local===void 0?"#":b.local;if(T!==v&&_.startsWith(T))return{key:_.slice(T.length),type:"local"};const A=b.root===void 0?"/":b.root;if(A!==v&&_.startsWith(A))return{key:_.slice(A.length),type:"value",root:!0}}return{key:_,type:"value"}},g.ancestor=function(_,v){if(!v)return[1,0];if(_[0]!==v)return[1,0];if(_[1]!==v)return[0,1];let b=2;for(;_[b]===v;)++b;return[b-1,b]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(_,v){if(_)if(v=v===void 0?u.toParent:v,Array.isArray(_))for(const b of _)this.register(b,v);else if(E.isSchema(_))for(const b of _._refs.refs)b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root});else u.isRef(_)&&_.type==="value"&&_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root}),d=d||f(3328),d.isTemplate(_)&&this.register(_.refs(),v)}get length(){return this.refs.length}clone(){const _=new u.Manager;return _.refs=p(this.refs),_}reset(){this.refs=[]}roots(){return this.refs.filter(_=>!_.ancestor).map(_=>_.root)}}},3378:(o,u,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,f)=>{const c=f(8571),p=f(9621),y=f(8160),E={value:Symbol("value")};o.exports=E.State=class{constructor(d,g,_){this.path=d,this.ancestors=g,this.mainstay=_.mainstay,this.schemas=_.schemas,this.debug=null}localize(d,g=null,_=null){const v=new E.State(d,g,this);return _&&v.schemas&&(v.schemas=[E.schemas(_),...v.schemas]),v}nest(d,g){const _=new E.State(this.path,this.ancestors,this);return _.schemas=_.schemas&&[E.schemas(d),..._.schemas],_.debug=g,_}shadow(d,g){this.mainstay.shadow=this.mainstay.shadow||new E.Shadow,this.mainstay.shadow.set(this.path,d,g)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},E.schemas=function(d){return y.isSchema(d)?{schema:d}:d},E.Shadow=class{constructor(){this._values=null}set(d,g,_){if(!d.length||_==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let b=0;b<d.length;++b){const R=d[b];let T=v.get(R);T||(T=new Map,v.set(R,T)),v=T}v[E.value]=g}get(d){const g=this.node(d);if(g)return g[E.value]}node(d){if(this._values)return p(this._values,d,{iterables:!0})}override(d,g){if(!this._values)return;const _=d.slice(0,-1),v=d[d.length-1],b=p(this._values,_,{iterables:!0});g?b.set(v,g):b&&b.delete(v)}}},3328:(o,u,f)=>{const c=f(375),p=f(8571),y=f(5277),E=f(1447),d=f(8160),g=f(6354),_=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(b,R){if(c(typeof b=="string","Template source must be a string"),c(!b.includes("\0")&&!b.includes(""),"Template source cannot contain reserved control characters"),this.source=b,this.rendered=b,this._template=null,R){const{functions:T,...A}=R;this._settings=Object.keys(A).length?p(A):void 0,this._functions=T,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const b=v.encode(this.source),R=v.split(b);let T=!1;const A=[],D=R.shift();D&&A.push(D);for(const V of R){const L=V[0]!=="{",k=L?"}":"}}",I=V.indexOf(k);if(I===-1||V[1]==="{"){A.push(`{${v.decode(V)}`);continue}let S=V.slice(L?0:1,I);const x=S[0]===":";x&&(S=S.slice(1));const O=this._ref(v.decode(S),{raw:L,wrapped:x});A.push(O),typeof O!="string"&&(T=!0);const j=V.slice(I+k.length);j&&A.push(v.decode(j))}T?this._template=A:this.rendered=A.join("")}static date(b,R){return v.dateFormat[R.dateFormat].call(b)}describe(b={}){if(!this._settings&&b.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(b){return new v.Template(b.template,b.options||b.functions?{...b.options,functions:b.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(b){return!!b&&!!b[d.symbols.template]}refs(){if(!this._template)return;const b=[];for(const R of this._template)typeof R!="string"&&b.push(...R.refs);return b}resolve(b,R,T,A){return this._template&&this._template.length===1?this._part(this._template[0],b,R,T,A,{}):this.render(b,R,T,A)}_part(b,...R){return b.ref?b.ref.resolve(...R):b.formula.evaluate(R)}render(b,R,T,A,D={}){if(!this.isDynamic())return this.rendered;const V=[];for(const L of this._template)if(typeof L=="string")V.push(L);else{const k=this._part(L,b,R,T,A,D),I=v.stringify(k,b,R,T,A,D);if(I!==void 0){const S=L.raw||(D.errors&&D.errors.escapeHtml)===!1?I:y(I);V.push(v.wrap(S,L.wrapped&&T.errors.wrap.label))}}return V.join("")}_ref(b,{raw:R,wrapped:T}){const A=[],D=L=>{const k=_.create(L,this._settings);return A.push(k),I=>{const S=k.resolve(...I);return S!==void 0?S:null}};try{const L=this._functions?{...v.functions,...this._functions}:v.functions;var V=new E.Parser(b,{reference:D,functions:L,constants:v.constants})}catch(L){throw L.message=`Invalid template variable "${b}" fails due to: ${L.message}`,L}if(V.single){if(V.single.type==="reference"){const L=A[0];return{ref:L,raw:R,refs:A,wrapped:T||L.type==="local"&&L.key==="label"}}return v.stringify(V.single.value)}return{formula:V,raw:R,refs:A}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(b){return b.replace(/\\(\{+)/g,(R,T)=>v.opens.slice(0,T.length)).replace(/\\(\}+)/g,(R,T)=>v.closes.slice(0,T.length))},v.decode=function(b){return b.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(b){const R=[];let T="";for(let A=0;A<b.length;++A){const D=b[A];if(D==="{"){let V="";for(;A+1<b.length&&b[A+1]==="{";)V+="{",++A;R.push(T),T=V}else T+=D}return R.push(T),R},v.wrap=function(b,R){return R?R.length===1?`${R}${b}${R}`:`${R[0]}${b}${R[1]}`:b},v.stringify=function(b,R,T,A,D,V={}){const L=typeof b,k=A&&A.errors&&A.errors.wrap||{};let I=!1;if(_.isRef(b)&&b.render&&(I=b.in,b=b.resolve(R,T,A,D,{in:b.in,...V})),b===null)return"null";if(L==="string")return v.wrap(b,V.arrayItems&&k.string);if(L==="number"||L==="function"||L==="symbol")return b.toString();if(L!=="object")return JSON.stringify(b);if(b instanceof Date)return v.Template.date(b,A);if(b instanceof Map){const x=[];for(const[O,j]of b.entries())x.push(`${O.toString()} -> ${j.toString()}`);b=x}if(!Array.isArray(b))return b.toString();const S=[];for(const x of b)S.push(v.stringify(x,R,T,A,D,{arrayItems:!0,...V}));return v.wrap(S.join(", "),!I&&k.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(b,R,T)=>b?R:T,length:b=>typeof b=="string"?b.length:b&&typeof b=="object"?Array.isArray(b)?b.length:Object.keys(b).length:null,msg(b){const[R,T,A,D,V]=this,L=V.messages;if(!L)return"";const k=g.template(R,L[0],b,T,A)||g.template(R,L[1],b,T,A);return k?k.render(R,T,A,D,V):""},number:b=>typeof b=="number"?b:typeof b=="string"?parseFloat(b):typeof b=="boolean"?b?1:0:b instanceof Date?b.getTime():null}},4946:(o,u,f)=>{const c=f(375),p=f(1687),y=f(8068),E=f(8160),d=f(3292),g=f(6354),_=f(6133),v={};o.exports=y.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:_.toSibling}},args:(b,...R)=>R.length===1&&Array.isArray(R[0])?b.try(...R[0]):b.try(...R),validate(b,R){const{schema:T,error:A,state:D,prefs:V}=R;if(T._flags.match){const k=[],I=[];for(let x=0;x<T.$_terms.matches.length;++x){const O=T.$_terms.matches[x],j=D.nest(O.schema,`match.${x}`);j.snapshot();const $=O.schema.$_validate(b,j,V);$.errors?(I.push($.errors),j.restore()):(k.push($.value),j.commit())}if(k.length===0)return{errors:A("alternatives.any",{details:I.map(x=>g.details(x,{override:!1}))})};if(T._flags.match==="one")return k.length===1?{value:k[0]}:{errors:A("alternatives.one")};if(k.length!==T.$_terms.matches.length)return{errors:A("alternatives.all",{details:I.map(x=>g.details(x,{override:!1}))})};const S=x=>x.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&S(O.schema));return S(T)?{value:k.reduce((x,O)=>p(x,O,{mergeArrays:!1}))}:{value:k[k.length-1]}}const L=[];for(let k=0;k<T.$_terms.matches.length;++k){const I=T.$_terms.matches[k];if(I.schema){const O=D.nest(I.schema,`match.${k}`);O.snapshot();const j=I.schema.$_validate(b,O,V);if(!j.errors)return O.commit(),j;O.restore(),L.push({schema:I.schema,reports:j.errors});continue}const S=I.ref?I.ref.resolve(b,D,V):b,x=I.is?[I]:I.switch;for(let O=0;O<x.length;++O){const j=x[O],{is:$,then:U,otherwise:he}=j,pe=`match.${k}${I.switch?"."+O:""}`;if($.$_match(S,D.nest($,`${pe}.is`),V)){if(U)return U.$_validate(b,D.nest(U,`${pe}.then`),V)}else if(he)return he.$_validate(b,D.nest(he,`${pe}.otherwise`),V)}}return v.errors(L,R)},rules:{conditional:{method(b,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const T=this.clone(),A=d.when(T,b,R),D=A.is?[A]:A.switch;for(const V of D)if(V.then&&V.otherwise){T.$_setFlag("_endedSwitch",!0,{clone:!1});break}return T.$_terms.matches.push(A),T.$_mutateRebuild()}},match:{method(b){if(c(["any","one","all"].includes(b),"Invalid alternatives match mode",b),b!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",b,"with conditional rules");return this.$_setFlag("match",b)}},try:{method(...b){c(b.length,"Missing alternative schemas"),E.verifyFlat(b,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const T of b)R.$_terms.matches.push({schema:R.$_compile(T)});return R.$_mutateRebuild()}}},overrides:{label(b){return this.$_parent("label",b).$_modify({each:(R,T)=>T.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(b):void 0,ref:!1})}},rebuild(b){b.$_modify({each:R=>{E.isSchema(R)&&R.type==="array"&&b.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(b,R){if(R.matches)for(const T of R.matches){const{schema:A,ref:D,is:V,not:L,then:k,otherwise:I}=T;b=A?b.try(A):D?b.conditional(D,{is:V,then:k,not:L,otherwise:I,switch:T.switch}):b.conditional(V,{then:k,otherwise:I})}return b}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(b,{error:R,state:T}){if(!b.length)return{errors:R("alternatives.any")};if(b.length===1)return{errors:b[0].reports};const A=new Set,D=[];for(const{reports:V,schema:L}of b){if(V.length>1)return v.unmatched(b,R);const k=V[0];if(k instanceof g.Report==0)return v.unmatched(b,R);if(k.state.path.length!==T.path.length){D.push({type:L.type,report:k});continue}if(k.code==="any.only"){for(const x of k.local.valids)A.add(x);continue}const[I,S]=k.code.split(".");S!=="base"?D.push({type:L.type,report:k}):k.code==="object.base"?A.add(k.local.type):A.add(I)}return D.length?D.length===1?{errors:D[0].report}:v.unmatched(b,R):{errors:R("alternatives.types",{types:[...A]})}},v.unmatched=function(b,R){const T=[];for(const A of b)T.push(...A.reports);return{errors:R("alternatives.match",g.details(T,{override:!1}))}}},8068:(o,u,f)=>{const c=f(375),p=f(7629),y=f(8160),E=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,g){return c(typeof d=="function","Method must be a function"),c(g===void 0||g&&typeof g=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:g}})},validate(d,g,{method:_}){try{return _(d,g)}catch(v){return g.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(y.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const g=this.clone();return g.$_terms.shared=g.$_terms.shared||[],g.$_terms.shared.push(d),g.$_mutateRegister(d),g}},warning:{method(d,g){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:g},warn:!0})},validate:(d,g,{code:_,local:v})=>g.error(_,v),args:["code","local"],multi:!0}},modifiers:{keep(d,g=!0){d.keep=g},message(d,g){d.message=E.compile(g)},warn(d,g=!0){d.warn=g}},manifest:{build(d,g){for(const _ in g){const v=g[_];if(["examples","externals","metas","notes","tags"].includes(_))for(const b of v)d=d[_.slice(0,-1)](b);else if(_!=="alterations")if(_!=="whens"){if(_==="shared")for(const b of v)d=d.shared(b)}else for(const b of v){const{ref:R,is:T,not:A,then:D,otherwise:V,concat:L}=b;d=L?d.concat(L):R?d.when(R,{is:T,not:A,then:D,otherwise:V,switch:b.switch,break:b.break}):d.when(T,{then:D,otherwise:V,break:b.break})}else{const b={};for(const{target:R,adjuster:T}of v)b[R]=T;d=d.alter(b)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,f)=>{const c=f(375),p=f(9474),y=f(9621),E=f(8068),d=f(8160),g=f(3292),_={};o.exports=E.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:b,state:R,prefs:T}){if(!Array.isArray(v))return;const A=b.$_getRule("sort");return A?_.sort(b,v,A.args.options,R,T):void 0}},validate(v,{schema:b,error:R}){if(!Array.isArray(v)){if(b._flags.single){const T=[v];return T[d.symbols.arraySingle]=!0,{value:T}}return{errors:R("array.base")}}if(b.$_getRule("items")||b.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const b=this.$_addRule({name:"has",args:{schema:v}});return b.$_mutateRegister(v),b},validate(v,{state:b,prefs:R,error:T},{schema:A}){const D=[v,...b.ancestors];for(let L=0;L<v.length;++L){const k=b.localize([...b.path,L],D,A);if(A.$_match(v[L],k,R))return v}const V=A._flags.label;return V?T("array.hasKnown",{patternLabel:V}):T("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const T=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});b.$_terms.items.push(T)}return b.$_mutateRebuild()},validate(v,{schema:b,error:R,state:T,prefs:A,errorsArray:D}){const V=b.$_terms._requireds.slice(),L=b.$_terms.ordered.slice(),k=[...b.$_terms._inclusions,...V],I=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const S=D();let x=v.length;for(let O=0;O<x;++O){const j=v[O];let $=!1,U=!1;const he=I?O:new Number(O),pe=[...T.path,he];if(!b._flags.sparse&&j===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),A.abortEarly)return S;L.shift();continue}const G=[v,...T.ancestors];for(const B of b.$_terms._exclusions)if(B.$_match(j,T.localize(pe,G,B),A,{presence:"ignore"})){if(S.push(R("array.excludes",{pos:O,value:j},T.localize(pe))),A.abortEarly)return S;$=!0,L.shift();break}if($)continue;if(b.$_terms.ordered.length){if(L.length){const B=L.shift(),ne=B.$_validate(j,T.localize(pe,G,B),A);if(ne.errors){if(S.push(...ne.errors),A.abortEarly)return S}else if(B._flags.result==="strip")_.fastSplice(v,O),--O,--x;else{if(!b._flags.sparse&&ne.value===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),A.abortEarly)return S;continue}v[O]=ne.value}continue}if(!b.$_terms.items.length){if(S.push(R("array.orderedLength",{pos:O,limit:b.$_terms.ordered.length})),A.abortEarly)return S;break}}const se=[];let ye=V.length;for(let B=0;B<ye;++B){const ne=T.localize(pe,G,V[B]);ne.snapshot();const me=V[B].$_validate(j,ne,A);if(se[B]=me,!me.errors){if(ne.commit(),v[O]=me.value,U=!0,_.fastSplice(V,B),--B,--ye,!b._flags.sparse&&me.value===void 0&&(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),A.abortEarly))return S;break}ne.restore()}if(U)continue;const Re=A.stripUnknown&&!!A.stripUnknown.arrays||!1;ye=k.length;for(const B of k){let ne;const me=V.indexOf(B);if(me!==-1)ne=se[me];else{const ce=T.localize(pe,G,B);if(ce.snapshot(),ne=B.$_validate(j,ce,A),!ne.errors){ce.commit(),B._flags.result==="strip"?(_.fastSplice(v,O),--O,--x):b._flags.sparse||ne.value!==void 0?v[O]=ne.value:(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},T.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ye===1){if(Re){_.fastSplice(v,O),--O,--x,U=!0;break}if(S.push(...ne.errors),A.abortEarly)return S;$=!0;break}}if(!$&&(b.$_terms._inclusions.length||b.$_terms._requireds.length)&&!U){if(Re){_.fastSplice(v,O),--O,--x;continue}if(S.push(R("array.includes",{pos:O,value:j},T.localize(pe))),A.abortEarly)return S}}return V.length&&_.fillMissedErrors(b,S,V,v,T,A),L.length&&(_.fillOrderedErrors(b,S,L,v,T,A),S.length||_.fillDefault(L,v,T,A)),S.length?S:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,b,{limit:R},{name:T,operator:A,args:D})=>d.compare(v.length,R,A)?v:b.error("array."+T,{limit:D.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const T=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});_.validateSingle(T,b),b.$_mutateRegister(T),b.$_terms.ordered.push(T)}return b.$_mutateRebuild()}},single:{method(v){const b=v===void 0||!!v;return c(!b||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",b)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const b={order:v.order||"ascending"};return v.by&&(b.by=g.ref(v.by,{ancestor:0}),c(!b.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:b}})},validate(v,{error:b,state:R,prefs:T,schema:A},{options:D}){const{value:V,errors:L}=_.sort(A,v,D,R,T);if(L)return L;for(let k=0;k<v.length;++k)if(v[k]!==V[k])return b("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return v},convert:!0},sparse:{method(v){const b=v===void 0||!!v;return this._flags.sparse===b?this:(b?this.clone():this.$_addRule("items")).$_setFlag("sparse",b,{clone:!1})}},unique:{method(v,b={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(b,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:b,comparator:v}};if(v)if(typeof v=="string"){const T=d.default(b.separator,".");R.path=T?v.split(T):[v]}else R.comparator=v;return this.$_addRule(R)},validate(v,{state:b,error:R,schema:T},{comparator:A,options:D},{comparator:V,path:L}){const k={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},I=V||p,S=D.ignoreUndefined;for(let x=0;x<v.length;++x){const O=L?y(v[x],L):v[x],j=V?k.custom:k[typeof O];if(c(j,"Failed to find unique map container for type",typeof O),j instanceof Map){const $=j.entries();let U;for(;!(U=$.next()).done;)if(I(U.value[0],O)){const he=b.localize([...b.path,x],[v,...b.ancestors]),pe={pos:x,value:v[x],dupePos:U.value[1],dupeValue:v[U.value[1]]};return L&&(pe.path=A),R("array.unique",pe,he)}j.set(O,x)}else{if((!S||O!==void 0)&&j[O]!==void 0){const $={pos:x,value:v[x],dupePos:j[O],dupeValue:v[j[O]]};return L&&($.path=A),R("array.unique",$,b.localize([...b.path,x],[v,...b.ancestors]))}j[O]=x}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,b)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const b of v.$_terms.items)_.validateSingle(b,v),b._flags.presence==="required"?v.$_terms._requireds.push(b):b._flags.presence==="forbidden"?v.$_terms._exclusions.push(b):v.$_terms._inclusions.push(b);for(const b of v.$_terms.ordered)_.validateSingle(b,v)},manifest:{build:(v,b)=>(b.items&&(v=v.items(...b.items)),b.ordered&&(v=v.ordered(...b.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),_.fillMissedErrors=function(v,b,R,T,A,D){const V=[];let L=0;for(const k of R){const I=k._flags.label;I?V.push(I):++L}V.length?L?b.push(v.$_createError("array.includesRequiredBoth",T,{knownMisses:V,unknownMisses:L},A,D)):b.push(v.$_createError("array.includesRequiredKnowns",T,{knownMisses:V},A,D)):b.push(v.$_createError("array.includesRequiredUnknowns",T,{unknownMisses:L},A,D))},_.fillOrderedErrors=function(v,b,R,T,A,D){const V=[];for(const L of R)L._flags.presence==="required"&&V.push(L);V.length&&_.fillMissedErrors(v,b,V,T,A,D)},_.fillDefault=function(v,b,R,T){const A=[];let D=!0;for(let V=v.length-1;V>=0;--V){const L=v[V],k=[b,...R.ancestors],I=L.$_validate(void 0,R.localize(R.path,k,L),T).value;if(D){if(I===void 0)continue;D=!1}A.unshift(I)}A.length&&b.push(...A)},_.fastSplice=function(v,b){let R=b;for(;R<v.length;)v[R++]=v[R];--v.length},_.validateSingle=function(v,b){(v.type==="array"||v._flags._arrayItems)&&(c(!b._flags.single,"Cannot specify array item with single rule enabled"),b.$_setFlag("_arrayItems",!0,{clone:!1}))},_.sort=function(v,b,R,T,A){const D=R.order==="ascending"?1:-1,V=-1*D,L=D,k=(I,S)=>{let x=_.compare(I,S,V,L);if(x!==null||(R.by&&(I=R.by.resolve(I,T,A),S=R.by.resolve(S,T,A)),x=_.compare(I,S,V,L),x!==null))return x;const O=typeof I;if(O!==typeof S)throw v.$_createError("array.sort.mismatching",b,null,T,A);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",b,{type:O},T,A);return O==="number"?(I-S)*D:I<S?V:L};try{return{value:b.slice().sort(k)}}catch(I){return{errors:I}}},_.compare=function(v,b,R,T){return v===b?0:v===void 0?1:b===void 0?-1:v===null?T:b===null?R:null}},4937:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E=f(2036),d={isBool:function(g){return typeof g=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(g,{schema:_}){if(typeof g!="boolean"){if(typeof g=="string"){const v=_._flags.sensitive?g:g.toLowerCase();g=v==="true"||v!=="false"&&g}return typeof g!="boolean"&&(g=_.$_terms.truthy&&_.$_terms.truthy.has(g,null,null,!_._flags.sensitive)||(!_.$_terms.falsy||!_.$_terms.falsy.has(g,null,null,!_._flags.sensitive))&&g),{value:g}}},validate(g,{error:_}){if(typeof g!="boolean")return{value:g,errors:_("boolean.base")}},rules:{truthy:{method(...g){y.verifyFlat(g,"truthy");const _=this.clone();_.$_terms.truthy=_.$_terms.truthy||new E;for(let v=0;v<g.length;++v){const b=g[v];c(b!==void 0,"Cannot call truthy with undefined"),_.$_terms.truthy.add(b)}return _}},falsy:{method(...g){y.verifyFlat(g,"falsy");const _=this.clone();_.$_terms.falsy=_.$_terms.falsy||new E;for(let v=0;v<g.length;++v){const b=g[v];c(b!==void 0,"Cannot call falsy with undefined"),_.$_terms.falsy.add(b)}return _}},sensitive:{method(g=!0){return this.$_setFlag("sensitive",g)}}},cast:{number:{from:d.isBool,to:(g,_)=>g?1:0},string:{from:d.isBool,to:(g,_)=>g?"true":"false"}},manifest:{build:(g,_)=>(_.truthy&&(g=g.truthy(..._.truthy)),_.falsy&&(g=g.falsy(..._.falsy)),g)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E=f(3328),d={isDate:function(g){return g instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(g,{schema:_})=>({value:d.parse(g,_._flags.format)||g})},validate(g,{schema:_,error:v,prefs:b}){if(g instanceof Date&&!isNaN(g.getTime()))return;const R=_._flags.format;return b.convert&&R&&typeof g=="string"?{value:g,errors:v("date.format",{format:R})}:{value:g,errors:v("date.base")}},rules:{compare:{method:!1,validate(g,_,{date:v},{name:b,operator:R,args:T}){const A=v==="now"?Date.now():v.getTime();return y.compare(g.getTime(),A,R)?g:_.error("date."+b,{limit:T.date,value:g})},args:[{name:"date",ref:!0,normalize:g=>g==="now"?g:d.parse(g),assert:g=>g!==null,message:"must have a valid date format"}]},format:{method(g){return c(["iso","javascript","unix"].includes(g),"Unknown date format",g),this.$_setFlag("format",g)}},greater:{method(g){return this.$_addRule({name:"greater",method:"compare",args:{date:g},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(g){return this.$_addRule({name:"less",method:"compare",args:{date:g},operator:"<"})}},max:{method(g){return this.$_addRule({name:"max",method:"compare",args:{date:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"compare",args:{date:g},operator:">="})}},timestamp:{method(g="javascript"){return c(["javascript","unix"].includes(g),'"type" must be one of "javascript, unix"'),this.format(g)}}},cast:{number:{from:d.isDate,to:(g,_)=>g.getTime()},string:{from:d.isDate,to:(g,{prefs:_})=>E.date(g,_)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(g,_){if(g instanceof Date)return g;if(typeof g!="string"&&(isNaN(g)||!isFinite(g))||/^\s*$/.test(g))return null;if(_==="iso")return y.isIsoDate(g)?d.date(g.toString()):null;const v=g;if(typeof g=="string"&&/^[+-]?\d+(\.\d+)?$/.test(g)&&(g=parseFloat(g)),_){if(_==="javascript")return d.date(1*g);if(_==="unix")return d.date(1e3*g);if(typeof v=="string")return null}return d.date(g)},d.date=function(g){const _=new Date(g);return isNaN(_.getTime())?null:_}},390:(o,u,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:y}})},validate:(y,E,{n:d})=>y.length===d?y:E.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(y,E)=>/^\s*class\s/.test(y.toString())?y:E.error("function.class",{value:y})},minArity:{method(y){return c(Number.isSafeInteger(y)&&y>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:y}})},validate:(y,E,{n:d})=>y.length>=d?y:E.error("function.minArity",{n:d})},maxArity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:y}})},validate:(y,E,{n:d})=>y.length<=d?y:E.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,f)=>{const c=f(978),p=f(375),y=f(8571),E=f(3652),d=f(8068),g=f(8160),_=f(3292),v=f(6354),b=f(6133),R=f(3328),T={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(A,D)=>A.keys(D),validate(A,{schema:D,error:V,state:L,prefs:k}){if(!A||typeof A!==D.$_property("typeof")||Array.isArray(A))return{value:A,errors:V("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;A=T.clone(A,k);const I=[];if(D.$_terms.renames&&!T.rename(D,A,L,k,I))return{value:A,errors:I};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:A,errors:I};const S=new Set(Object.keys(A));if(D.$_terms.keys){const x=[A,...L.ancestors];for(const O of D.$_terms.keys){const j=O.key,$=A[j];S.delete(j);const U=L.localize([...L.path,j],x,O),he=O.schema.$_validate($,U,k);if(he.errors){if(k.abortEarly)return{value:A,errors:he.errors};he.value!==void 0&&(A[j]=he.value),I.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete A[j]:he.value!==void 0&&(A[j]=he.value)}}if(S.size||D._flags._hasPatternMatch){const x=T.unknown(D,A,S,I,L,k);if(x)return x}if(D.$_terms.dependencies)for(const x of D.$_terms.dependencies){if(x.key!==null&&T.isPresent(x.options)(x.key.resolve(A,L,k,null,{shadow:!1}))===!1)continue;const O=T.dependencies[x.rel](D,x,A,L,k);if(O){const j=D.$_createError(O.code,A,O.context,L,k);if(k.abortEarly)return{value:A,errors:j};I.push(j)}}return{value:A,errors:I}},rules:{and:{method(...A){return g.verifyFlat(A,"and"),T.dependency(this,"and",null,A)}},append:{method(A){return A==null||Object.keys(A).length===0?this:this.keys(A)}},assert:{method(A,D,V){R.isTemplate(A)||(A=_.ref(A)),p(V===void 0||typeof V=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const L=this.$_addRule({name:"assert",args:{subject:A,schema:D,message:V}});return L.$_mutateRegister(A),L.$_mutateRegister(D),L},validate(A,{error:D,prefs:V,state:L},{subject:k,schema:I,message:S}){const x=k.resolve(A,L,V),O=b.isRef(k)?k.absolute(L):[];return I.$_match(x,L.localize(O,[A,...L.ancestors],I),V)?A:D("object.assert",{subject:k,message:S})},args:["subject","schema","message"],multi:!0},instance:{method(A,D){return p(typeof A=="function","constructor must be a function"),D=D||A.name,this.$_addRule({name:"instance",args:{constructor:A,name:D}})},validate:(A,D,{constructor:V,name:L})=>A instanceof V?A:D.error("object.instance",{type:L,value:A}),args:["constructor","name"]},keys:{method(A){p(A===void 0||typeof A=="object","Object schema must be a valid object"),p(!g.isSchema(A),"Object schema cannot be a joi schema");const D=this.clone();if(A)if(Object.keys(A).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(V=>!A.hasOwnProperty(V.key)):new T.Keys;for(const V in A)g.tryWithPath(()=>D.$_terms.keys.push({key:V,schema:this.$_compile(A[V])}),V)}else D.$_terms.keys=new T.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(A){return this.$_addRule({name:"length",args:{limit:A},operator:"="})},validate:(A,D,{limit:V},{name:L,operator:k,args:I})=>g.compare(Object.keys(A).length,V,k)?A:D.error("object."+L,{limit:I.limit,value:A}),args:[{name:"limit",ref:!0,assert:g.limit,message:"must be a positive integer"}]},max:{method(A){return this.$_addRule({name:"max",method:"length",args:{limit:A},operator:"<="})}},min:{method(A){return this.$_addRule({name:"min",method:"length",args:{limit:A},operator:">="})}},nand:{method(...A){return g.verifyFlat(A,"nand"),T.dependency(this,"nand",null,A)}},or:{method(...A){return g.verifyFlat(A,"or"),T.dependency(this,"or",null,A)}},oxor:{method(...A){return T.dependency(this,"oxor",null,A)}},pattern:{method(A,D,V={}){const L=A instanceof RegExp;L||(A=this.$_compile(A,{appendPath:!0})),p(D!==void 0,"Invalid rule"),g.assertOptions(V,["fallthrough","matches"]),L&&p(!A.flags.includes("g")&&!A.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const k=this.clone();k.$_terms.patterns=k.$_terms.patterns||[];const I={[L?"regex":"schema"]:A,rule:D};return V.matches&&(I.matches=this.$_compile(V.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),k.$_mutateRegister(I.matches),k.$_setFlag("_hasPatternMatch",!0,{clone:!1})),V.fallthrough&&(I.fallthrough=!0),k.$_terms.patterns.push(I),k.$_mutateRegister(D),k}},ref:{method(){return this.$_addRule("ref")},validate:(A,D)=>b.isRef(A)?A:D.error("object.refType",{value:A})},regex:{method(){return this.$_addRule("regex")},validate:(A,D)=>A instanceof RegExp?A:D.error("object.regex",{value:A})},rename:{method(A,D,V={}){p(typeof A=="string"||A instanceof RegExp,"Rename missing the from argument"),p(typeof D=="string"||D instanceof R,"Invalid rename to argument"),p(D!==A,"Cannot rename key to same name:",A),g.assertOptions(V,["alias","ignoreUndefined","override","multiple"]);const L=this.clone();L.$_terms.renames=L.$_terms.renames||[];for(const k of L.$_terms.renames)p(k.from!==A,"Cannot rename the same key multiple times");return D instanceof R&&L.$_mutateRegister(D),L.$_terms.renames.push({from:A,to:D,options:c(T.renameDefaults,V)}),L}},schema:{method(A="any"){return this.$_addRule({name:"schema",args:{type:A}})},validate:(A,D,{type:V})=>!g.isSchema(A)||V!=="any"&&A.type!==V?D.error("object.schema",{type:V}):A},unknown:{method(A){return this.$_setFlag("unknown",A!==!1)}},with:{method(A,D,V={}){return T.dependency(this,"with",A,D,V)}},without:{method(A,D,V={}){return T.dependency(this,"without",A,D,V)}},xor:{method(...A){return g.verifyFlat(A,"xor"),T.dependency(this,"xor",null,A)}}},overrides:{default(A,D){return A===void 0&&(A=g.symbols.deepDefault),this.$_parent("default",A,D)}},rebuild(A){if(A.$_terms.keys){const D=new E.Sorter;for(const V of A.$_terms.keys)g.tryWithPath(()=>D.add(V,{after:V.schema.$_rootReferences(),group:V.key}),V.key);A.$_terms.keys=new T.Keys(...D.nodes)}},manifest:{build(A,D){if(D.keys&&(A=A.keys(D.keys)),D.dependencies)for(const{rel:V,key:L=null,peers:k,options:I}of D.dependencies)A=T.dependency(A,V,L,k,I);if(D.patterns)for(const{regex:V,schema:L,rule:k,fallthrough:I,matches:S}of D.patterns)A=A.pattern(V||L,k,{fallthrough:I,matches:S});if(D.renames)for(const{from:V,to:L,options:k}of D.renames)A=A.rename(V,L,k);return A}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),T.clone=function(A,D){if(typeof A=="object"){if(D.nonEnumerables)return y(A,{shallow:!0});const L=Object.create(Object.getPrototypeOf(A));return Object.assign(L,A),L}const V=function(...L){return A.apply(this,L)};return V.prototype=y(A.prototype),Object.defineProperty(V,"name",{value:A.name,writable:!1}),Object.defineProperty(V,"length",{value:A.length,writable:!1}),Object.assign(V,A),V},T.dependency=function(A,D,V,L,k){p(V===null||typeof V=="string",D,"key must be a strings"),k||(k=L.length>1&&typeof L[L.length-1]=="object"?L.pop():{}),g.assertOptions(k,["separator","isPresent"]),L=[].concat(L);const I=g.default(k.separator,"."),S=[];for(const O of L)p(typeof O=="string",D,"peers must be strings"),S.push(_.ref(O,{separator:I,ancestor:0,prefix:!1}));V!==null&&(V=_.ref(V,{separator:I,ancestor:0,prefix:!1}));const x=A.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new T.Dependency(D,V,S,L,k)),x},T.dependencies={and(A,D,V,L,k){const I=[],S=[],x=D.peers.length,O=T.isPresent(D.options);for(const j of D.peers)O(j.resolve(V,L,k,null,{shadow:!1}))===!1?I.push(j.key):S.push(j.key);if(I.length!==x&&S.length!==x)return{code:"object.and",context:{present:S,presentWithLabels:T.keysToLabels(A,S),missing:I,missingWithLabels:T.keysToLabels(A,I)}}},nand(A,D,V,L,k){const I=[],S=T.isPresent(D.options);for(const j of D.peers)S(j.resolve(V,L,k,null,{shadow:!1}))&&I.push(j.key);if(I.length!==D.peers.length)return;const x=D.paths[0],O=D.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:T.keysToLabels(A,x),peers:O,peersWithLabels:T.keysToLabels(A,O)}}},or(A,D,V,L,k){const I=T.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,L,k,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:T.keysToLabels(A,D.paths)}}},oxor(A,D,V,L,k){const I=[],S=T.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,L,k,null,{shadow:!1}))&&I.push(O.key);if(!I.length||I.length===1)return;const x={peers:D.paths,peersWithLabels:T.keysToLabels(A,D.paths)};return x.present=I,x.presentWithLabels=T.keysToLabels(A,I),{code:"object.oxor",context:x}},with(A,D,V,L,k){const I=T.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,L,k,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:T.keysToLabels(A,D.key.key),peer:S.key,peerWithLabel:T.keysToLabels(A,S.key)}}},without(A,D,V,L,k){const I=T.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,L,k,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:T.keysToLabels(A,D.key.key),peer:S.key,peerWithLabel:T.keysToLabels(A,S.key)}}},xor(A,D,V,L,k){const I=[],S=T.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,L,k,null,{shadow:!1}))&&I.push(O.key);if(I.length===1)return;const x={peers:D.paths,peersWithLabels:T.keysToLabels(A,D.paths)};return I.length===0?{code:"object.missing",context:x}:(x.present=I,x.presentWithLabels=T.keysToLabels(A,I),{code:"object.xor",context:x})}},T.keysToLabels=function(A,D){return Array.isArray(D)?D.map(V=>A.$_mapLabels(V)):A.$_mapLabels(D)},T.isPresent=function(A){return typeof A.isPresent=="function"?A.isPresent:D=>D!==void 0},T.rename=function(A,D,V,L,k){const I={};for(const S of A.$_terms.renames){const x=[],O=typeof S.from!="string";if(O)for(const j in D){if(D[j]===void 0&&S.options.ignoreUndefined||j===S.to)continue;const $=S.from.exec(j);$&&x.push({from:j,to:S.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,S.from)||D[S.from]===void 0&&S.options.ignoreUndefined||x.push(S);for(const j of x){const $=j.from;let U=j.to;if(U instanceof R&&(U=U.render(D,V,L,j.match)),$!==U){if(!S.options.multiple&&I[U]&&(k.push(A.$_createError("object.rename.multiple",D,{from:$,to:U,pattern:O},V,L)),L.abortEarly)||Object.prototype.hasOwnProperty.call(D,U)&&!S.options.override&&!I[U]&&(k.push(A.$_createError("object.rename.override",D,{from:$,to:U,pattern:O},V,L)),L.abortEarly))return!1;D[$]===void 0?delete D[U]:D[U]=D[$],I[U]=!0,S.options.alias||delete D[$]}}}return!0},T.unknown=function(A,D,V,L,k,I){if(A.$_terms.patterns){let S=!1;const x=A.$_terms.patterns.map(j=>{if(j.matches)return S=!0,[]}),O=[D,...k.ancestors];for(const j of V){const $=D[j],U=[...k.path,j];for(let he=0;he<A.$_terms.patterns.length;++he){const pe=A.$_terms.patterns[he];if(pe.regex){const ye=pe.regex.test(j);if(k.mainstay.tracer.debug(k,"rule",`pattern.${he}`,ye?"pass":"error"),!ye)continue}else if(!pe.schema.$_match(j,k.nest(pe.schema,`pattern.${he}`),I))continue;V.delete(j);const G=k.localize(U,O,{schema:pe.rule,key:j}),se=pe.rule.$_validate($,G,I);if(se.errors){if(I.abortEarly)return{value:D,errors:se.errors};L.push(...se.errors)}if(pe.matches&&x[he].push(j),D[j]=se.value,!pe.fallthrough)break}}if(S)for(let j=0;j<x.length;++j){const $=x[j];if(!$)continue;const U=A.$_terms.patterns[j].matches,he=k.localize(k.path,O,U),pe=U.$_validate($,he,I);if(pe.errors){const G=v.details(pe.errors,{override:!1});G.matches=$;const se=A.$_createError("object.pattern.match",D,G,k,I);if(I.abortEarly)return{value:D,errors:se};L.push(se)}}}if(V.size&&(A.$_terms.keys||A.$_terms.patterns)){if(I.stripUnknown&&A._flags.unknown===void 0||I.skipFunctions){const S=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const x of V)S?(delete D[x],V.delete(x)):typeof D[x]=="function"&&V.delete(x)}if(!g.default(A._flags.unknown,I.allowUnknown))for(const S of V){const x=k.localize([...k.path,S],[]),O=A.$_createError("object.unknown",D[S],{child:S},x,I,{flags:!1});if(I.abortEarly)return{value:D,errors:O};L.push(O)}}},T.Dependency=class{constructor(A,D,V,L,k){this.rel=A,this.key=D,this.peers=V,this.paths=L,this.options=k}describe(){const A={rel:this.rel,peers:this.paths};return this.key!==null&&(A.key=this.key.key),this.peers[0].separator!=="."&&(A.options={...A.options,separator:this.peers[0].separator}),this.options.isPresent&&(A.options={...A.options,isPresent:this.options.isPresent}),A}},T.Keys=class extends Array{concat(A){const D=this.slice(),V=new Map;for(let L=0;L<D.length;++L)V.set(D[L].key,L);for(const L of A){const k=L.key,I=V.get(k);I!==void 0?D[I]={key:k,schema:D[I].schema.concat(L.schema)}:D.push(L)}return D}}},8785:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E=f(3292),d=f(6354),g={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(_,v)=>_.ref(v),validate(_,{schema:v,state:b,prefs:R}){c(v.$_terms.link,"Uninitialized link schema");const T=g.generate(v,_,b,R),A=v.$_terms.link[0].ref;return T.$_validate(_,b.nest(T,`link:${A.display}:${T.type}`),R)},generate:(_,v,b,R)=>g.generate(_,v,b,R),rules:{ref:{method(_){c(!this.$_terms.link,"Cannot reinitialize schema"),_=E.ref(_),c(_.type==="value"||_.type==="local","Invalid reference type:",_.type),c(_.type==="local"||_.ancestor==="root"||_.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:_}],v}},relative:{method(_=!0){return this.$_setFlag("relative",_)}}},overrides:{concat(_){c(this.$_terms.link,"Uninitialized link schema"),c(y.isSchema(_),"Invalid schema object"),c(_.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:_}),v.$_mutateRebuild()}},manifest:{build:(_,v)=>(c(v.link,"Invalid link description missing link"),_.ref(v.link))}}),g.generate=function(_,v,b,R){let T=b.mainstay.links.get(_);if(T)return T._generate(v,b,R).schema;const A=_.$_terms.link[0].ref,{perspective:D,path:V}=g.perspective(A,b);g.assert(D,"which is outside of schema boundaries",A,_,b,R);try{T=V.length?D.$_reach(V):D}catch{g.assert(!1,"to non-existing schema",A,_,b,R)}return g.assert(T.type!=="link","which is another link",A,_,b,R),_._flags.relative||b.mainstay.links.set(_,T),T._generate(v,b,R).schema},g.perspective=function(_,v){if(_.type==="local"){for(const{schema:b,key:R}of v.schemas){if((b._flags.id||R)===_.path[0])return{perspective:b,path:_.path.slice(1)};if(b.$_terms.shared){for(const T of b.$_terms.shared)if(T._flags.id===_.path[0])return{perspective:T,path:_.path.slice(1)}}}return{perspective:null,path:null}}return _.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:_.path}:{perspective:v.schemas[_.ancestor]&&v.schemas[_.ancestor].schema,path:_.path}},g.assert=function(_,v,b,R,T,A){_||c(!1,`"${d.label(R._flags,T,A)}" contains link reference "${b.display}" ${v}`)}},3832:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const g=d.toString(),_=g.indexOf("."),v=g.indexOf("e");return(_<0?0:(v<0?g.length:v)-_-1)+(v<0?0:Math.max(0,-parseInt(g.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:g,error:_}){if(!d.match(E.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!g._flags.unsafe)if(d.match(/e/i)){if(E.extractSignificantDigits(d)!==E.extractSignificantDigits(String(v.value)))return v.errors=_("number.unsafe"),v}else{const b=v.value.toString();if(b.match(/e/i))return v;if(b!==E.normalizeDecimal(d))return v.errors=_("number.unsafe"),v}return v}},validate(d,{schema:g,error:_,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:_("number.infinity")};if(!y.isNumber(d))return{value:d,errors:_("number.base")};const b={value:d};if(v.convert){const R=g.$_getRule("precision");if(R){const T=Math.pow(10,R.args.limit);b.value=Math.round(b.value*T)/T}}return b.value===0&&(b.value=0),!g._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(b.errors=_("number.unsafe")),b},rules:{compare:{method:!1,validate:(d,g,{limit:_},{name:v,operator:b,args:R})=>y.compare(d,_,b)?d:g.error("number."+v,{limit:R.limit,value:d}),args:[{name:"limit",ref:!0,assert:y.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,g)=>Math.trunc(d)-d==0?d:g.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const g=typeof d=="number"?E.decimalPlaces(d):null,_=Math.pow(10,g);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:g,pfactor:_}})},validate:(d,g,{base:_,baseDecimalPlace:v,pfactor:b},R)=>E.decimalPlaces(d)>v?g.error("number.multiple",{multiple:R.args.base,value:d}):Math.round(b*d)%Math.round(b*_)==0?d:g.error("number.multiple",{multiple:R.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,g)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:g.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,g,{limit:_}){const v=d.toString().match(E.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=_?d:g.error("number.precision",{limit:_,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,g,{sign:_})=>_==="negative"&&d<0||_==="positive"&&d>0?d:g.error(`number.${_}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,g)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),E.extractSignificantDigits=function(d){return d.replace(E.exponentialPartRegex,"").replace(E.dotRegex,"").replace(E.trailingZerosRegex,"").replace(E.leadingSignAndZerosRegex,"")},E.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,u,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,y)=>new Map(Object.entries(p))}}})},7417:(o,u,f)=>{const c=f(375),p=f(5380),y=f(1745),E=f(9959),d=f(6064),g=f(9926),_=f(5752),v=f(8068),b=f(8160),R={tlds:g instanceof Set&&{tlds:{allow:g,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:E.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(T,{schema:A,state:D,prefs:V}){const L=A.$_getRule("normalize");L&&(T=T.normalize(L.args.form));const k=A.$_getRule("case");k&&(T=k.args.direction==="upper"?T.toLocaleUpperCase():T.toLocaleLowerCase());const I=A.$_getRule("trim");if(I&&I.args.enabled&&(T=T.trim()),A.$_terms.replacements)for(const x of A.$_terms.replacements)T=T.replace(x.pattern,x.replacement);const S=A.$_getRule("hex");if(S&&S.args.options.byteAligned&&T.length%2!=0&&(T=`0${T}`),A.$_getRule("isoDate")){const x=R.isoDate(T);x&&(T=x)}if(A._flags.truncate){const x=A.$_getRule("max");if(x){let O=x.args.limit;if(b.isResolvable(O)&&(O=O.resolve(T,D,V),!b.limit(O)))return{value:T,errors:A.$_createError("any.ref",O,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},D,V)};T=T.slice(0,O)}}return{value:T}}},validate(T,{schema:A,error:D}){if(typeof T!="string")return{value:T,errors:D("string.base")};if(T===""){const V=A.$_getRule("min");return V&&V.args.limit===0?void 0:{value:T,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(T,A)=>/^[a-zA-Z0-9]+$/.test(T)?T:A.error("string.alphanum")},base64:{method(T={}){return b.assertOptions(T,["paddingRequired","urlSafe"]),T={urlSafe:!1,paddingRequired:!0,...T},c(typeof T.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof T.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:T}})},validate:(T,A,{options:D})=>R.base64Regex[D.paddingRequired][D.urlSafe].test(T)?T:A.error("string.base64")},case:{method(T){return c(["lower","upper"].includes(T),"Invalid case:",T),this.$_addRule({name:"case",args:{direction:T}})},validate:(T,A,{direction:D})=>D==="lower"&&T===T.toLocaleLowerCase()||D==="upper"&&T===T.toLocaleUpperCase()?T:A.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(T,A){let D=T.length,V=0,L=1;for(;D--;){const k=T.charAt(D)*L;V+=k-9*(k>9),L^=3}return V>0&&V%10==0?T:A.error("string.creditCard")}},dataUri:{method(T={}){return b.assertOptions(T,["paddingRequired"]),T={paddingRequired:!0,...T},c(typeof T.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:T}})},validate(T,A,{options:D}){const V=T.match(R.dataUriRegex);return V&&(!V[2]||V[2]!=="base64"||R.base64Regex[D.paddingRequired].false.test(V[3]))?T:A.error("string.dataUri")}},domain:{method(T){T&&b.assertOptions(T,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const A=R.addressOptions(T);return this.$_addRule({name:"domain",args:{options:T},address:A})},validate:(T,A,D,{address:V})=>p.isValid(T,V)?T:A.error("string.domain")},email:{method(T={}){b.assertOptions(T,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(T.multiple===void 0||typeof T.multiple=="boolean","multiple option must be an boolean");const A=R.addressOptions(T),D=new RegExp(`\\s*[${T.separator?d(T.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:T},regex:D,address:A})},validate(T,A,{options:D},{regex:V,address:L}){const k=D.multiple?T.split(V):[T],I=[];for(const S of k)y.isValid(S,L)||I.push(S);return I.length?A.error("string.email",{value:T,invalids:I}):T}},guid:{alias:"uuid",method(T={}){b.assertOptions(T,["version","separator"]);let A="";if(T.version){const L=[].concat(T.version);c(L.length>=1,"version must have at least 1 valid version specified");const k=new Set;for(let I=0;I<L.length;++I){const S=L[I];c(typeof S=="string","version at position "+I+" must be a string");const x=R.guidVersions[S.toLowerCase()];c(x,"version at position "+I+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!k.has(x),"version at position "+I+" must not be a duplicate"),A+=x,k.add(x)}}c(R.guidSeparators.has(T.separator),'separator must be one of true, false, "-", or ":"');const D=T.separator===void 0?"[:-]?":T.separator===!0?"[:-]":T.separator===!1?"[]?":`\\${T.separator}`,V=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${A||"0-9A-F"}][0-9A-F]{3}\\2?[${A?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:T},regex:V})},validate(T,A,D,{regex:V}){const L=V.exec(T);return L?R.guidBrackets[L[1]]!==L[L.length-1]?A.error("string.guid"):T:A.error("string.guid")}},hex:{method(T={}){return b.assertOptions(T,["byteAligned","prefix"]),T={byteAligned:!1,prefix:!1,...T},c(typeof T.byteAligned=="boolean","byteAligned must be boolean"),c(typeof T.prefix=="boolean"||T.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:T}})},validate:(T,A,{options:D})=>(D.prefix==="optional"?R.hexRegex.withOptionalPrefix:D.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(T)?D.byteAligned&&T.length%2!=0?A.error("string.hexAlign"):T:A.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(T,A)=>p.isValid(T,{minDomainSegments:1})||R.ipRegex.test(T)?T:A.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(T={}){b.assertOptions(T,["cidr","version"]);const{cidr:A,versions:D,regex:V}=E.regex(T),L=T.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:A,version:L}},regex:V})},validate:(T,A,{options:D},{regex:V})=>V.test(T)?T:D.version?A.error("string.ipVersion",{value:T,cidr:D.cidr,version:D.version}):A.error("string.ip",{value:T,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(T,{error:A})=>R.isoDate(T)?T:A("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(T,A)=>R.isoDurationRegex.test(T)?T:A.error("string.isoDuration")},length:{method(T,A){return R.length(this,"length",T,"=",A)},validate(T,A,{limit:D,encoding:V},{name:L,operator:k,args:I}){const S=!V&&T.length;return b.compare(S,D,k)?T:A.error("string."+L,{limit:I.limit,value:T,encoding:V})},args:[{name:"limit",ref:!0,assert:b.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(T,A){return R.length(this,"max",T,"<=",A)},args:["limit","encoding"]},min:{method(T,A){return R.length(this,"min",T,">=",A)},args:["limit","encoding"]},normalize:{method(T="NFC"){return c(R.normalizationForms.includes(T),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:T}})},validate:(T,{error:A},{form:D})=>T===T.normalize(D)?T:A("string.normalize",{value:T,form:D}),convert:!0},pattern:{alias:"regex",method(T,A={}){c(T instanceof RegExp,"regex must be a RegExp"),c(!T.flags.includes("g")&&!T.flags.includes("y"),"regex should not use global or sticky mode"),typeof A=="string"&&(A={name:A}),b.assertOptions(A,["invert","name"]);const D=["string.pattern",A.invert?".invert":"",A.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:T,options:A},errorCode:D})},validate:(T,A,{regex:D,options:V},{errorCode:L})=>D.test(T)^V.invert?T:A.error(L,{name:V.name,regex:D,value:T}),args:["regex","options"],multi:!0},replace:{method(T,A){typeof T=="string"&&(T=new RegExp(d(T),"g")),c(T instanceof RegExp,"pattern must be a RegExp"),c(typeof A=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:T,replacement:A}),D}},token:{method(){return this.$_addRule("token")},validate:(T,A)=>/^\w+$/.test(T)?T:A.error("string.token")},trim:{method(T=!0){return c(typeof T=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:T}})},validate:(T,A,{enabled:D})=>D&&T!==T.trim()?A.error("string.trim"):T,convert:!0},truncate:{method(T=!0){return c(typeof T=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",T)}},uppercase:{method(){return this.case("upper")}},uri:{method(T={}){b.assertOptions(T,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),T.domain&&b.assertOptions(T.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:A,scheme:D}=_.regex(T),V=T.domain?R.addressOptions(T.domain):null;return this.$_addRule({name:"uri",args:{options:T},regex:A,domain:V,scheme:D})},validate(T,A,{options:D},{regex:V,domain:L,scheme:k}){if(["http:/","https:/"].includes(T))return A.error("string.uri");let I=V.exec(T);if(!I&&A.prefs.convert&&D.encodeUri){const S=encodeURI(T);I=V.exec(S),I&&(T=S)}if(I){const S=I[1]||I[2];return!L||D.allowRelative&&!S||p.isValid(S,L)?T:A.error("string.domain",{value:S})}return D.relativeOnly?A.error("string.uriRelativeOnly"):D.scheme?A.error("string.uriCustomScheme",{scheme:k,value:T}):A.error("string.uri")}}},manifest:{build(T,A){if(A.replacements)for(const{pattern:D,replacement:V}of A.replacements)T=T.replace(D,V);return T}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(T){if(!T)return R.tlds||T;if(c(T.minDomainSegments===void 0||Number.isSafeInteger(T.minDomainSegments)&&T.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(T.maxDomainSegments===void 0||Number.isSafeInteger(T.maxDomainSegments)&&T.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),T.tlds===!1)return T;if(T.tlds===!0||T.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},T,R.tlds);c(typeof T.tlds=="object","tlds must be true, false, or an object");const A=T.tlds.deny;if(A)return Array.isArray(A)&&(T=Object.assign({},T,{tlds:{deny:new Set(A)}})),c(T.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!T.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(T.tlds.deny,"tlds.deny"),T;const D=T.tlds.allow;return D?D===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},T,R.tlds)):(Array.isArray(D)&&(T=Object.assign({},T,{tlds:{allow:new Set(D)}})),c(T.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(T.tlds.allow,"tlds.allow"),T):T},R.validateTlds=function(T,A){for(const D of T)c(p.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${A} must contain valid top level domain names`)},R.isoDate=function(T){if(!b.isIsoDate(T))return null;/.*T.*[+-]\d\d$/.test(T)&&(T+="00");const A=new Date(T);return isNaN(A.getTime())?null:A.toISOString()},R.length=function(T,A,D,V,L){return c(!L||!1,"Invalid encoding:",L),T.$_addRule({name:A,method:"length",args:{limit:D,encoding:L},operator:V})}},8826:(o,u,f)=>{const c=f(375),p=f(8068),y={};y.Map=class extends Map{slice(){return new y.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new y.Map}},coerce:{method(E,{schema:d,error:g}){const _=d.$_terms.map.get(E);return _&&(E=_),d._flags.only&&typeof E!="symbol"?{value:E,errors:g("symbol.map",{map:d.$_terms.map})}:{value:E}}},validate(E,{error:d}){if(typeof E!="symbol")return{value:E,errors:d("symbol.base")}},rules:{map:{method(E){E&&!E[Symbol.iterator]&&typeof E=="object"&&(E=Object.entries(E)),c(E&&E[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),g=[];for(const _ of E){c(_&&_[Symbol.iterator],"Entry must be an iterable");const[v,b]=_;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof b=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,b),g.push(b)}return d.valid(...g)}}},manifest:{build:(E,d)=>(d.map&&(E=E.map(d.map)),E)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,f)=>{const c=f(375),p=f(8571),y=f(738),E=f(9621),d=f(8160),g=f(6354),_=f(493),v={result:Symbol("result")};u.entry=function(b,R,T){let A=d.defaults;T&&(c(T.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(T.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),A=d.preferences(d.defaults,T));const D=v.entry(b,R,A);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const V={value:D.value};return D.error&&(V.error=D.error),D.mainstay.warnings.length&&(V.warning=g.details(D.mainstay.warnings)),D.mainstay.debug&&(V.debug=D.mainstay.debug),D.mainstay.artifacts&&(V.artifacts=D.mainstay.artifacts),V},u.entryAsync=async function(b,R,T){let A=d.defaults;T&&(A=d.preferences(d.defaults,T));const D=v.entry(b,R,A),V=D.mainstay;if(D.error)throw V.debug&&(D.error.debug=V.debug),D.error;if(V.externals.length){let k=D.value;const I=[];for(const S of V.externals){const x=S.state.path,O=S.schema.type==="link"?V.links.get(S.schema):null;let j,$,U=k;const he=x.length?[k]:[],pe=x.length?E(b,x):b;if(x.length){j=x[x.length-1];let G=k;for(const se of x.slice(0,-1))G=G[se],he.unshift(G);$=he[0],U=$[j]}try{const G=(ye,Re)=>(O||S.schema).$_createError(ye,U,Re,S.state,A),se=await S.method(U,{schema:S.schema,linked:O,state:S.state,prefs:T,original:pe,error:G,errorsArray:v.errorsArray,warn:(ye,Re)=>V.warnings.push((O||S.schema).$_createError(ye,U,Re,S.state,A)),message:(ye,Re)=>(O||S.schema).$_createError("external",U,Re,S.state,A,{messages:ye})});if(se===void 0||se===U)continue;if(se instanceof g.Report){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(se),A.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(...se),A.abortEarly)break;continue}$?(V.tracer.value(S.state,"rule",U,se,"external"),$[j]=se):(V.tracer.value(S.state,"rule",k,se,"external"),k=se)}catch(G){throw A.errors.label&&(G.message+=` (${S.label})`),G}}if(D.value=k,I.length)throw D.error=g.process(I,b,A),V.debug&&(D.error.debug=V.debug),D.error}if(!A.warnings&&!A.debug&&!A.artifacts)return D.value;const L={value:D.value};return V.warnings.length&&(L.warning=g.details(V.warnings)),V.debug&&(L.debug=V.debug),V.artifacts&&(L.artifacts=V.artifacts),L},v.Mainstay=class{constructor(b,R,T){this.externals=[],this.warnings=[],this.tracer=b,this.debug=R,this.links=T,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const b=this._snapshots.pop();this.externals=b.externals,this.warnings=b.warnings}commit(){this._snapshots.pop()}},v.entry=function(b,R,T){const{tracer:A,cleanup:D}=v.tracer(R,T),V=T.debug?[]:null,L=R._ids._schemaChain?new Map:null,k=new v.Mainstay(A,V,L),I=R._ids._schemaChain?[{schema:R}]:null,S=new _([],[],{mainstay:k,schemas:I}),x=u.validate(b,R,S,T);D&&R.$_root.untrace();const O=g.process(x.errors,b,T);return{value:x.value,error:O,mainstay:k}},v.tracer=function(b,R){return b.$_root._tracer?{tracer:b.$_root._tracer._register(b)}:R.debug?(c(b.$_root.trace,"Debug mode not supported"),{tracer:b.$_root.trace()._register(b),cleanup:!0}):{tracer:v.ignore}},u.validate=function(b,R,T,A,D={}){if(R.$_terms.whens&&(R=R._generate(b,T,A).schema),R._preferences&&(A=v.prefs(R,A)),R._cache&&A.cache){const O=R._cache.get(b);if(T.mainstay.tracer.debug(T,"validate","cached",!!O),O)return O}const V=(O,j,$)=>R.$_createError(O,b,j,$||T,A),L={original:b,prefs:A,schema:R,state:T,error:V,errorsArray:v.errorsArray,warn:(O,j,$)=>T.mainstay.warnings.push(V(O,j,$)),message:(O,j)=>R.$_createError("custom",b,j,T,A,{messages:O})};T.mainstay.tracer.entry(R,T);const k=R._definition;if(k.prepare&&b!==void 0&&A.convert){const O=k.prepare(b,L);if(O){if(T.mainstay.tracer.value(T,"prepare",b,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),L);b=O.value}}if(k.coerce&&b!==void 0&&A.convert&&(!k.coerce.from||k.coerce.from.includes(typeof b))){const O=k.coerce.method(b,L);if(O){if(T.mainstay.tracer.value(T,"coerced",b,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),L);b=O.value}}const I=R._flags.empty;I&&I.$_match(v.trim(b,R),T.nest(I),d.defaults)&&(T.mainstay.tracer.value(T,"empty",b,void 0),b=void 0);const S=D.presence||R._flags.presence||(R._flags._endedSwitch?null:A.presence);if(b===void 0){if(S==="forbidden")return v.finalize(b,null,L);if(S==="required")return v.finalize(b,[R.$_createError("any.required",b,null,T,A)],L);if(S==="optional"){if(R._flags.default!==d.symbols.deepDefault)return v.finalize(b,null,L);T.mainstay.tracer.value(T,"default",b,{}),b={}}}else if(S==="forbidden")return v.finalize(b,[R.$_createError("any.unknown",b,null,T,A)],L);const x=[];if(R._valids){const O=R._valids.get(b,T,A,R._flags.insensitive);if(O)return A.convert&&(T.mainstay.tracer.value(T,"valids",b,O.value),b=O.value),T.mainstay.tracer.filter(R,T,"valid",O),v.finalize(b,null,L);if(R._flags.only){const j=R.$_createError("any.only",b,{valids:R._valids.values({display:!0})},T,A);if(A.abortEarly)return v.finalize(b,[j],L);x.push(j)}}if(R._invalids){const O=R._invalids.get(b,T,A,R._flags.insensitive);if(O){T.mainstay.tracer.filter(R,T,"invalid",O);const j=R.$_createError("any.invalid",b,{invalids:R._invalids.values({display:!0})},T,A);if(A.abortEarly)return v.finalize(b,[j],L);x.push(j)}}if(k.validate){const O=k.validate(b,L);if(O&&(T.mainstay.tracer.value(T,"base",b,O.value),b=O.value,O.errors)){if(!Array.isArray(O.errors))return x.push(O.errors),v.finalize(b,x,L);if(O.errors.length)return x.push(...O.errors),v.finalize(b,x,L)}}return R._rules.length?v.rules(b,x,L):v.finalize(b,x,L)},v.rules=function(b,R,T){const{schema:A,state:D,prefs:V}=T;for(const L of A._rules){const k=A._definition.rules[L.method];if(k.convert&&V.convert){D.mainstay.tracer.log(A,D,"rule",L.name,"full");continue}let I,S=L.args;if(L._resolve.length){S=Object.assign({},S);for(const O of L._resolve){const j=k.argsByName.get(O),$=S[O].resolve(b,D,V),U=j.normalize?j.normalize($):$,he=d.validateArg(U,null,j);if(he){I=A.$_createError("any.ref",$,{arg:O,ref:S[O],reason:he},D,V);break}S[O]=U}}I=I||k.validate(b,T,S,L);const x=v.rule(I,L);if(x.errors){if(D.mainstay.tracer.log(A,D,"rule",L.name,"error"),L.warn){D.mainstay.warnings.push(...x.errors);continue}if(V.abortEarly)return v.finalize(b,x.errors,T);R.push(...x.errors)}else D.mainstay.tracer.log(A,D,"rule",L.name,"pass"),D.mainstay.tracer.value(D,"rule",b,x.value,L.name),b=x.value}return v.finalize(b,R,T)},v.rule=function(b,R){return b instanceof g.Report?(v.error(b,R),{errors:[b],value:null}):Array.isArray(b)&&b[d.symbols.errors]?(b.forEach(T=>v.error(T,R)),{errors:b,value:null}):{errors:null,value:b}},v.error=function(b,R){return R.message&&b._setTemplate(R.message),b},v.finalize=function(b,R,T){R=R||[];const{schema:A,state:D,prefs:V}=T;if(R.length){const k=v.default("failover",void 0,R,T);k!==void 0&&(D.mainstay.tracer.value(D,"failover",b,k),b=k,R=[])}if(R.length&&A._flags.error)if(typeof A._flags.error=="function"){R=A._flags.error(R),Array.isArray(R)||(R=[R]);for(const k of R)c(k instanceof Error||k instanceof g.Report,"error() must return an Error object")}else R=[A._flags.error];if(b===void 0){const k=v.default("default",b,R,T);D.mainstay.tracer.value(D,"default",b,k),b=k}if(A._flags.cast&&b!==void 0){const k=A._definition.cast[A._flags.cast];if(k.from(b)){const I=k.to(b,T);D.mainstay.tracer.value(D,"cast",b,I,A._flags.cast),b=I}}if(A.$_terms.externals&&V.externals&&V._externals!==!1)for(const{method:k}of A.$_terms.externals)D.mainstay.externals.push({method:k,schema:A,state:D,label:g.label(A._flags,D,V)});const L={value:b,errors:R.length?R:null};return A._flags.result&&(L.value=A._flags.result==="strip"?void 0:T.original,D.mainstay.tracer.value(D,A._flags.result,b,L.value),D.shadow(b,A._flags.result)),A._cache&&V.cache!==!1&&!A._refs.length&&A._cache.set(T.original,L),b===void 0||L.errors||A._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(A._flags.artifact)||D.mainstay.artifacts.set(A._flags.artifact,[]),D.mainstay.artifacts.get(A._flags.artifact).push(D.path)),L},v.prefs=function(b,R){const T=R===d.defaults;return T&&b._preferences[d.symbols.prefs]?b._preferences[d.symbols.prefs]:(R=d.preferences(R,b._preferences),T&&(b._preferences[d.symbols.prefs]=R),R)},v.default=function(b,R,T,A){const{schema:D,state:V,prefs:L}=A,k=D._flags[b];if(L.noDefaults||k===void 0)return R;if(V.mainstay.tracer.log(D,V,"rule",b,"full"),!k)return k;if(typeof k=="function"){const I=k.length?[p(V.ancestors[0]),A]:[];try{return k(...I)}catch(S){return void T.push(D.$_createError(`any.${b}`,null,{error:S},V,L))}}return typeof k!="object"?k:k[d.symbols.literal]?k.literal:d.isResolvable(k)?k.resolve(R,V,L):p(k)},v.trim=function(b,R){if(typeof b!="string")return b;const T=R.$_getRule("trim");return T&&T.args.enabled?b.trim():b},v.ignore={active:!1,debug:y,entry:y,filter:y,log:y,resolve:y,value:y},v.errorsArray=function(){const b=[];return b[d.symbols.errors]=!0,b}},2036:(o,u,f)=>{const c=f(375),p=f(9474),y=f(8160),E={};o.exports=E.Values=class{constructor(d,g){this._values=new Set(d),this._refs=new Set(g),this._lowercase=E.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,g){y.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),g&&g.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,g,_){if(d=d||new E.Values,g){if(g._override)return g.clone();for(const v of[...g._values,...g._refs])d.add(v)}if(_)for(const v of[..._._values,..._._refs])d.remove(v);return d.length?d:null}remove(d){y.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,g,_,v){return!!this.get(d,g,_,v)}get(d,g,_,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const b=this._lowercase.get(d.toLowerCase());if(b)return{value:b}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const b of this._values)if(p(b,d))return{value:b}}if(g)for(const b of this._refs){const R=b.resolve(d,g,_,null,{in:!0});if(R===void 0)continue;const T=b.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const A of T)if(typeof A==typeof d){if(v&&d&&typeof d=="string"){if(A.toLowerCase()===d.toLowerCase())return{value:A,ref:b}}else if(p(A,d))return{value:A,ref:b}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const g=[];for(const _ of[...this._values,...this._refs])_!==void 0&&g.push(_);return g}return Array.from([...this._values,...this._refs])}clone(){const d=new E.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const g=new E.Values([...this._values,...d._values],[...this._refs,...d._refs]);return g._override=this._override,g}describe(){const d=[];this._override&&d.push({override:!0});for(const g of this._values.values())d.push(g&&typeof g=="object"?{value:g}:g);for(const g of this._refs.values())d.push(g.describe());return d}},E.Values.prototype[y.symbols.values]=!0,E.Values.prototype.slice=E.Values.prototype.clone,E.lowercases=function(d){const g=new Map;if(d)for(const _ of d)typeof _=="string"&&g.set(_.toLowerCase(),_);return g}},978:(o,u,f)=>{const c=f(375),p=f(8571),y=f(1687),E=f(9621),d={};o.exports=function(g,_,v={}){if(c(g&&typeof g=="object","Invalid defaults value: must be an object"),c(!_||_===!0||typeof _=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!_)return null;if(v.shallow)return d.applyToDefaultsWithShallow(g,_,v);const b=p(g);if(_===!0)return b;const R=v.nullOverride!==void 0&&v.nullOverride;return y(b,_,{nullOverride:R,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(g,_,v){const b=v.shallow;c(Array.isArray(b),"Invalid keys");const R=new Map,T=_===!0?null:new Set;for(let V of b){V=Array.isArray(V)?V:V.split(".");const L=E(g,V);L&&typeof L=="object"?R.set(L,T&&E(_,V)||L):T&&T.add(V)}const A=p(g,{},R);if(!T)return A;for(const V of T)d.reachCopy(A,_,V);const D=v.nullOverride!==void 0&&v.nullOverride;return y(A,_,{nullOverride:D,mergeArrays:!1})},d.reachCopy=function(g,_,v){for(const T of v){if(!(T in _))return;const A=_[T];if(typeof A!="object"||A===null)return;_=A}const b=_;let R=g;for(let T=0;T<v.length-1;++T){const A=v[T];typeof R[A]!="object"&&(R[A]={}),R=R[A]}R[v[v.length-1]]=b}},375:(o,u,f)=>{const c=f(7916);o.exports=function(p,...y){if(!p)throw y.length===1&&y[0]instanceof Error?y[0]:new c(y)}},8571:(o,u,f)=>{const c=f(9621),p=f(4277),y=f(7043),E={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=E.clone=function(d,g={},_=null){if(typeof d!="object"||d===null)return d;let v=E.clone,b=_;if(g.shallow){if(g.shallow!==!0)return E.cloneWithShallow(d,g);v=D=>D}else if(b){const D=b.get(d);if(D)return D}else b=new Map;const R=p.getInternalProto(d);if(R===p.buffer)return!1;if(R===p.date)return new Date(d.getTime());if(R===p.regex)return new RegExp(d);const T=E.base(d,R,g);if(T===d)return d;if(b&&b.set(d,T),R===p.set)for(const D of d)T.add(v(D,g,b));else if(R===p.map)for(const[D,V]of d)T.set(D,v(V,g,b));const A=y.keys(d,g);for(const D of A){if(D==="__proto__")continue;if(R===p.array&&D==="length"){T.length=d.length;continue}const V=Object.getOwnPropertyDescriptor(d,D);V?V.get||V.set?Object.defineProperty(T,D,V):V.enumerable?T[D]=v(d[D],g,b):Object.defineProperty(T,D,{enumerable:!1,writable:!0,configurable:!0,value:v(d[D],g,b)}):Object.defineProperty(T,D,{enumerable:!0,writable:!0,configurable:!0,value:v(d[D],g,b)})}return T},E.cloneWithShallow=function(d,g){const _=g.shallow;(g=Object.assign({},g)).shallow=!1;const v=new Map;for(const b of _){const R=c(d,b);typeof R!="object"&&typeof R!="function"||v.set(R,R)}return E.clone(d,g,v)},E.base=function(d,g,_){if(_.prototype===!1)return E.needsProtoHack.has(g)?new g.constructor:g===p.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(g===p.array){const b=[];return v!==g&&Object.setPrototypeOf(b,v),b}if(E.needsProtoHack.has(g)){const b=new v.constructor;return v!==g&&Object.setPrototypeOf(b,v),b}return Object.create(v)}},9474:(o,u,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(y,E,d){return d=Object.assign({prototype:!0},d),!!p.isDeepEqual(y,E,d,[])},p.isDeepEqual=function(y,E,d,g){if(y===E)return y!==0||1/y==1/E;const _=typeof y;if(_!==typeof E||y===null||E===null)return!1;if(_==="function"){if(!d.deepFunction||y.toString()!==E.toString())return!1}else if(_!=="object")return y!=y&&E!=E;const v=p.getSharedType(y,E,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return y===E;case c.regex:return y.toString()===E.toString();case p.mismatched:return!1}for(let b=g.length-1;b>=0;--b)if(g[b].isSame(y,E))return!0;g.push(new p.SeenEntry(y,E));try{return!!p.isDeepEqualObj(v,y,E,d,g)}finally{g.pop()}},p.getSharedType=function(y,E,d){if(d)return Object.getPrototypeOf(y)!==Object.getPrototypeOf(E)?p.mismatched:c.getInternalProto(y);const g=c.getInternalProto(y);return g!==c.getInternalProto(E)?p.mismatched:g},p.valueOf=function(y){const E=y.valueOf;if(E===void 0)return y;try{return E.call(y)}catch(d){return d}},p.hasOwnEnumerableProperty=function(y,E){return Object.prototype.propertyIsEnumerable.call(y,E)},p.isSetSimpleEqual=function(y,E){for(const d of Set.prototype.values.call(y))if(!Set.prototype.has.call(E,d))return!1;return!0},p.isDeepEqualObj=function(y,E,d,g,_){const{isDeepEqual:v,valueOf:b,hasOwnEnumerableProperty:R}=p,{keys:T,getOwnPropertySymbols:A}=Object;if(y===c.array){if(!g.part){if(E.length!==d.length)return!1;for(let I=0;I<E.length;++I)if(!v(E[I],d[I],g,_))return!1;return!0}for(const I of E)for(const S of d)if(v(I,S,g,_))return!0}else if(y===c.set){if(E.size!==d.size)return!1;if(!p.isSetSimpleEqual(E,d)){const I=new Set(Set.prototype.values.call(d));for(const S of Set.prototype.values.call(E)){if(I.delete(S))continue;let x=!1;for(const O of I)if(v(S,O,g,_)){I.delete(O),x=!0;break}if(!x)return!1}}}else if(y===c.map){if(E.size!==d.size)return!1;for(const[I,S]of Map.prototype.entries.call(E))if(S===void 0&&!Map.prototype.has.call(d,I)||!v(S,Map.prototype.get.call(d,I),g,_))return!1}else if(y===c.error&&(E.name!==d.name||E.message!==d.message))return!1;const D=b(E),V=b(d);if((E!==D||d!==V)&&!v(D,V,g,_))return!1;const L=T(E);if(!g.part&&L.length!==T(d).length&&!g.skip)return!1;let k=0;for(const I of L)if(g.skip&&g.skip.includes(I))d[I]===void 0&&++k;else if(!R(d,I)||!v(E[I],d[I],g,_))return!1;if(!g.part&&L.length-k!==T(d).length)return!1;if(g.symbols!==!1){const I=A(E),S=new Set(A(d));for(const x of I){if(!g.skip||!g.skip.includes(x)){if(R(E,x)){if(!R(d,x)||!v(E[x],d[x],g,_))return!1}else if(R(d,x))return!1}S.delete(x)}for(const x of S)if(R(d,x))return!1}return!0},p.SeenEntry=class{constructor(y,E){this.obj=y,this.ref=E}isSame(y,E){return this.obj===y&&this.ref===E}}},7916:(o,u,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(y=>y!=="").map(y=>typeof y=="string"?y:y instanceof Error?y.message:c(y)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const y=f.charCodeAt(p);u.isSafe(y)?c+=f[p]:c+=u.escapeHtmlChar(y)}return c},u.escapeHtmlChar=function(f){return u.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},u.isSafe=function(f){return u.safeCharCodes.has(f)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,f)=>{const c=f(375),p=f(8571),y=f(7043),E={};o.exports=E.merge=function(d,g,_){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(g==null||typeof g=="object","Invalid source value: must be null, undefined, or an object"),!g)return d;if(_=Object.assign({nullOverride:!0,mergeArrays:!0},_),Array.isArray(g)){c(Array.isArray(d),"Cannot merge array onto an object"),_.mergeArrays||(d.length=0);for(let b=0;b<g.length;++b)d.push(p(g[b],{symbols:_.symbols}));return d}const v=y.keys(g,_);for(let b=0;b<v.length;++b){const R=v[b];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(g,R))continue;const T=g[R];if(T&&typeof T=="object"){if(d[R]===T)continue;!d[R]||typeof d[R]!="object"||Array.isArray(d[R])!==Array.isArray(T)||T instanceof Date||T instanceof RegExp?d[R]=p(T,{symbols:_.symbols}):E.merge(d[R],T,_)}else(T!=null||_.nullOverride)&&(d[R]=T)}return d}},9621:(o,u,f)=>{const c=f(375),p={};o.exports=function(y,E,d){if(E===!1||E==null)return y;typeof(d=d||{})=="string"&&(d={separator:d});const g=Array.isArray(E);c(!g||!d.separator,"Separator option is not valid for array-based chain");const _=g?E:E.split(d.separator||".");let v=y;for(let b=0;b<_.length;++b){let R=_[b];const T=d.iterables&&p.iterables(v);if(Array.isArray(v)||T==="set"){const A=Number(R);Number.isInteger(A)&&(R=A<0?v.length+A:A)}if(!v||typeof v=="function"&&d.functions===!1||!T&&v[R]===void 0){c(!d.strict||b+1===_.length,"Missing segment",R,"in reach path ",E),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",R,"in reach path ",E),v=d.default;break}v=T?T==="set"?[...v][R]:v.get(R):v[R]}return v},p.iterables=function(y){return y instanceof Set?"set":y instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,u)=>{const f={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||u.generic}},7043:(o,u)=>{u.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,u,f)=>{const c=f(375),p={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(y,E){const d=[].concat((E=E||{}).before||[]),g=[].concat(E.after||[]),_=E.group||"?",v=E.sort||0;c(!d.includes(_),`Item cannot come before itself: ${_}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!g.includes(_),`Item cannot come after itself: ${_}`),c(!g.includes("?"),"Item cannot come after unassociated items"),Array.isArray(y)||(y=[y]);for(const b of y){const R={seq:this._items.length,sort:v,before:d,after:g,group:_,node:b};this._items.push(R)}if(!E.manual){const b=this._sort();c(b,"item",_!=="?"?`added into group ${_}`:"","created a dependencies error")}return this.nodes}merge(y){Array.isArray(y)||(y=[y]);for(const d of y)if(d)for(const g of d._items)this._items.push(Object.assign({},g));this._items.sort(p.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const E=this._sort();return c(E,"merge created a dependencies error"),this.nodes}sort(){const y=this._sort();return c(y,"sort created a dependencies error"),this.nodes}_sort(){const y={},E=Object.create(null),d=Object.create(null);for(const R of this._items){const T=R.seq,A=R.group;d[A]=d[A]||[],d[A].push(T),y[T]=R.before;for(const D of R.after)E[D]=E[D]||[],E[D].push(T)}for(const R in y){const T=[];for(const A in y[R]){const D=y[R][A];d[D]=d[D]||[],T.push(...d[D])}y[R]=T}for(const R in E)if(d[R])for(const T of d[R])y[T].push(...E[R]);const g={};for(const R in y){const T=y[R];for(const A of T)g[A]=g[A]||[],g[A].push(R)}const _={},v=[];for(let R=0;R<this._items.length;++R){let T=R;if(g[R]){T=null;for(let A=0;A<this._items.length;++A){if(_[A]===!0)continue;g[A]||(g[A]=[]);const D=g[A].length;let V=0;for(let L=0;L<D;++L)_[g[A][L]]&&++V;if(V===D){T=A;break}}}T!==null&&(_[T]=!0,v.push(T))}if(v.length!==this._items.length)return!1;const b={};for(const R of this._items)b[R.seq]=R;this._items=[],this.nodes=[];for(const R of v){const T=b[R];this.nodes.push(T.node),this._items.push(T)}return!0}},p.mergeSort=(y,E)=>y.sort===E.sort?0:y.sort<E.sort?-1:1},5380:(o,u,f)=>{const c=f(443),p=f(2178),y={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(E,d={}){if(!E)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof E!="string")throw new Error("Invalid input: domain must be a string");if(E.length>256)return p.code("DOMAIN_TOO_LONG");if(y.nonAsciiRx.test(E)){if(d.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");E=E.normalize("NFC")}if(y.domainControlRx.test(E))return p.code("DOMAIN_INVALID_CHARS");E=y.punycode(E),d.allowFullyQualified&&E[E.length-1]==="."&&(E=E.slice(0,-1));const g=d.minDomainSegments||y.minDomainSegments,_=E.split(".");if(_.length<g)return p.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&_.length>d.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const b=_[_.length-1].toLowerCase();if(v.deny&&v.deny.has(b)||v.allow&&!v.allow.has(b))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let b=0;b<_.length;++b){const R=_[b];if(!R.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(b<_.length-1){if(!y.domainSegmentRx.test(R))return p.code("DOMAIN_INVALID_CHARS")}else if(!y.tldSegmentRx.test(R))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(E,d){return!u.analyze(E,d)},y.punycode=function(E){E.includes("%")&&(E=E.replace(/%/g,"%25"));try{return new y.URL(`http://${E}`).host}catch{return E}}},1745:(o,u,f)=>{const c=f(9848),p=f(5380),y=f(2178),E={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(d,g){return E.email(d,g)},u.isValid=function(d,g){return!E.email(d,g)},E.email=function(d,g={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return y.code("EMPTY_STRING");const _=!E.nonAsciiRx.test(d);if(!_){if(g.allowUnicode===!1)return y.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?y.code("MULTIPLE_AT_CHAR"):y.code("MISSING_AT_CHAR");const[b,R]=v;if(!b)return y.code("EMPTY_LOCAL");if(!g.ignoreLength){if(d.length>254)return y.code("ADDRESS_TOO_LONG");if(E.encoder.encode(b).length>64)return y.code("LOCAL_TOO_LONG")}return E.local(b,_)||p.analyze(R,g)},E.local=function(d,g){const _=d.split(".");for(const v of _){if(!v.length)return y.code("EMPTY_LOCAL_SEGMENT");if(g){if(!E.atextRx.test(v))return y.code("INVALID_LOCAL_CHARS")}else for(const b of v){if(E.atextRx.test(b))continue;const R=E.binary(b);if(!E.atomRx.test(R))return y.code("INVALID_LOCAL_CHARS")}}},E.binary=function(d){return Array.from(E.encoder.encode(d)).map(g=>String.fromCharCode(g)).join("")},E.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,E.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(f){return{code:f,error:u.codes[f]}}},9959:(o,u,f)=>{const c=f(375),p=f(5752);u.regex=function(y={}){c(y.cidr===void 0||typeof y.cidr=="string","options.cidr must be a string");const E=y.cidr?y.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(E),"options.cidr must be one of required, optional, forbidden"),c(y.version===void 0||typeof y.version=="string"||Array.isArray(y.version),"options.version must be a string or an array of string");let d=y.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const g=`(?:${d.map(v=>{if(E==="forbidden")return p.ip[v];const b=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return E==="required"?`${p.ip[v]}${b}`:`${p.ip[v]}(?:${b})?`}).join("|")})`,_=new RegExp(`^${g}$`);return{cidr:E,versions:d,regex:_,raw:g}}},5752:(o,u,f)=>{const c=f(375),p=f(6064),y={generate:function(){const E={},d="\\dA-Fa-f",g="["+d+"]",_="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",b="%"+d,R=_+b+v+":@",T="["+R+"]",A="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";E.ipv4address="(?:"+A+"\\.){3}"+A;const D=g+"{1,4}",V="(?:"+D+":"+D+"|"+E.ipv4address+")",L="(?:"+D+":){6}"+V,k="::(?:"+D+":){5}"+V,I="(?:"+D+")?::(?:"+D+":){4}"+V,S="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+V,x="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+V,O="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+V,j="(?:(?:"+D+":){0,4}"+D+")?::"+V,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,U="(?:(?:"+D+":){0,6}"+D+")?::";E.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",E.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",E.ipv6address="(?:"+L+"|"+k+"|"+I+"|"+S+"|"+x+"|"+O+"|"+j+"|"+$+"|"+U+")",E.ipvFuture="v"+g+"+\\.["+_+v+":]+",E.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",E.schemeRegex=new RegExp(E.scheme);const he="["+_+b+v+":]*",pe="["+_+b+v+"]{1,255}",G="(?:\\[(?:"+E.ipv6address+"|"+E.ipvFuture+")\\]|"+E.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+G+"(?::\\d*)?",ye="(?:"+he+"@)?("+G+")(?::\\d*)?",Re=T+"*",B=T+"+",ne="(?:\\/"+Re+")*",me="\\/(?:"+B+ne+")?",ce=B+ne,_e="["+_+b+v+"@]+"+ne,je="(?:\\/\\/\\/"+Re+ne+")";return E.hierPart="(?:(?:\\/\\/"+se+ne+")|"+me+"|"+ce+"|"+je+")",E.hierPartCapture="(?:(?:\\/\\/"+ye+ne+")|"+me+"|"+ce+")",E.relativeRef="(?:(?:\\/\\/"+se+ne+")|"+me+"|"+_e+"|)",E.relativeRefCapture="(?:(?:\\/\\/"+ye+ne+")|"+me+"|"+_e+"|)",E.query="["+R+"\\/\\?]*(?=#|$)",E.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",E.fragment="["+R+"\\/\\?]*",E}};y.rfc3986=y.generate(),u.ip={v4Cidr:y.rfc3986.ipv4Cidr,v6Cidr:y.rfc3986.ipv6Cidr,ipv4:y.rfc3986.ipv4address,ipv6:y.rfc3986.ipv6address,ipvfuture:y.rfc3986.ipvFuture},y.createRegex=function(E){const d=y.rfc3986,g="(?:\\?"+(E.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",_=E.domain?d.relativeRefCapture:d.relativeRef;if(E.relativeOnly)return y.wrap(_+g);let v="";if(E.scheme){c(E.scheme instanceof RegExp||typeof E.scheme=="string"||Array.isArray(E.scheme),"scheme must be a RegExp, String, or Array");const T=[].concat(E.scheme);c(T.length>=1,"scheme must have at least 1 scheme specified");const A=[];for(let D=0;D<T.length;++D){const V=T[D];c(V instanceof RegExp||typeof V=="string","scheme at position "+D+" must be a RegExp or String"),V instanceof RegExp?A.push(V.source.toString()):(c(d.schemeRegex.test(V),"scheme at position "+D+" must be a valid scheme"),A.push(p(V)))}v=A.join("|")}const b="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(E.domain?d.hierPartCapture:d.hierPart)+")",R=E.allowRelative?"(?:"+b+"|"+_+")":b;return y.wrap(R+g,v)},y.wrap=function(E,d){return{raw:E=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${E}`,regex:new RegExp(`^${E}$`),scheme:d}},y.uriRegex=y.createRegex({}),u.regex=function(E={}){return E.scheme||E.allowRelative||E.relativeOnly||E.allowQuerySquareBrackets||E.domain?y.createRegex(E):y.uriRegex}},1447:(o,u)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const y in p.constants){const E=p.constants[y];if(E!==null&&!["boolean","number","string"].includes(typeof E))throw new Error(`Formula constant ${y} contains invalid ${typeof E} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],y="",E=0,d=!1;const g=v=>{if(E)throw new Error("Formula missing closing parenthesis");const b=p.length?p[p.length-1]:null;if(d||y||v){if(b&&b.type==="reference"&&v===")")return b.type="function",b.value=this._subFormula(y,b.value),void(y="");if(v===")"){const R=new u.Parser(y,this.settings);p.push({type:"segment",value:R})}else if(d){if(d==="]")return p.push({type:"reference",value:y}),void(y="");p.push({type:"literal",value:y})}else if(f.operatorCharacters.includes(y))b&&b.type==="operator"&&f.operators.includes(b.value+y)?b.value+=y:p.push({type:"operator",value:y});else if(y.match(f.numberRx))p.push({type:"constant",value:parseFloat(y)});else if(this.settings.constants[y]!==void 0)p.push({type:"constant",value:this.settings.constants[y]});else{if(!y.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${y}`);p.push({type:"reference",value:y})}y=""}};for(const v of c)d?v===d?(g(),d=!1):y+=v:E?v==="("?(y+=v,++E):v===")"?(--E,E?y+=v:g(v)):y+=v:v in f.literals?d=f.literals[v]:v==="("?(g(),++E):f.operatorCharacters.includes(v)?(g(),y=v,g()):v!==" "?y+=v:g();g(),p=p.map((v,b)=>v.type!=="operator"||v.value!=="-"||b&&p[b-1].type!=="operator"?v:{type:"operator",value:"n"});let _=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!_)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(_)throw new Error("Formula missing expected operator");_=!_}if(!_)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const y=this.settings.functions[p];if(typeof y!="function")throw new Error(`Formula contains unknown function ${p}`);let E=[];if(c){let d="",g=0,_=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);E.push(d),d=""};for(let b=0;b<c.length;++b){const R=c[b];_?(d+=R,R===_&&(_=!1)):R in f.literals&&!g?(d+=R,_=f.literals[R]):R!==","||g?(d+=R,R==="("?++g:R===")"&&--g):v()}v()}return E=E.map(d=>new u.Parser(d,this.settings)),function(d){const g=[];for(const _ of E)g.push(_.evaluate(d));return y.call(d,...g)}}evaluate(c){const p=this._parts.slice();for(let y=p.length-2;y>=0;--y){const E=p[y];if(E&&E.type==="operator"){const d=p[y+1];p.splice(y+1,1);const g=f.evaluate(d,c);p[y]=f.single(E.value,g)}}return f.operatorsOrder.forEach(y=>{for(let E=1;E<p.length-1;)if(y.includes(p[E])){const d=p[E],g=f.evaluate(p[E-1],c),_=f.evaluate(p[E+1],c);p.splice(E,2);const v=f.calculate(d,g,_);p[E-1]=v===0?0:v}else E+=2}),f.evaluate(p[0],c)}},u.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const y=-p;return y===0?0:y},f.calculate=function(c,p,y){if(c==="??")return f.exists(p)?p:y;if(typeof p=="string"||typeof y=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(y)?y:"")}else switch(c){case"^":return Math.pow(p,y);case"*":return p*y;case"/":return p/y;case"%":return p%y;case"+":return p+y;case"-":return p-y}switch(c){case"<":return p<y;case"<=":return p<=y;case">":return p>y;case">=":return p>=y;case"==":return p===y;case"!=":return p!==y;case"&&":return p&&y;case"||":return p||y}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},s={},function o(u){var f=s[u];if(f!==void 0)return f.exports;var c=s[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(5107);var r,s})}(Rd)),Rd.exports}var mC=dC();const Ka=Q_(mC),pC=Ka.object({img:Ka.string().required().uri(),name:Ka.string().min(3).max(30).required(),description:Ka.string().required(),category:Ka.string().required(),price:Ka.number().required().min(1),discount:Ka.number().max(100)});function gC(i){let e={img:"",name:"",description:"",category:"",price:"",discount:""},r={img:"",name:"",description:"",category:"",price:"",discount:""};const s=pC.validate(i);console.log("validering: ",i),console.log(s),s.error&&s.error.details.forEach(u=>{const f=u.context.key;e[f]="invalid",f==="img"?r.img="Lgg till en bild":f==="name"?r.name="Fyll i produktens namn":f==="description"?r.description="Fyll i beskrivning":f==="category"?r.category="Vlj en kategori":f==="price"?r.price="Priset kan inte vara 0":f==="discount"&&(r.discount="Rabatten kan inte vara mer n 100%")});const o=!s.error;return{css:e,message:r,formIsValid:o}}function G_({switchFormState:i,toy:e}){const{setSummerToys:r}=_a(),s=e!==void 0,o=e?{...e}:{img:"",name:"",description:"",category:"",price:0,discount:0};delete o.id,delete o.oldPrice;const[u,f]=re.useState(o),[c,p]=re.useState({css:{},message:{}}),y=E=>{E.preventDefault();const{css:d,message:g,formIsValid:_}=gC(u);p({css:d,message:g}),_&&(console.log("Submitting",u),s?Kx(r,e.id,u):Qx(r,u),i(!1))};return W.jsx("div",{className:"modal",children:W.jsxs("form",{onSubmit:y,className:"add-toy",children:[W.jsx("h1",{children:"Lgg till en leksak"}),W.jsx("input",{className:c.css.img,type:"text",placeholder:"Bild *",onChange:E=>f(d=>({...d,img:E.target.value})),value:u.img}),W.jsx("p",{className:"error",children:c.message.img}),W.jsx("input",{className:c.css.name,type:"text",placeholder:"Namn *",onChange:E=>f(d=>({...d,name:E.target.value})),value:u.name}),W.jsx("p",{className:"error",children:c.message.name}),W.jsx("input",{className:c.css.description,type:"text",placeholder:"Beskrivning *",onChange:E=>f(d=>({...d,description:E.target.value})),value:u.description}),W.jsx("p",{className:"error",children:c.message.description}),W.jsxs("select",{className:c.css.category,name:"category",onChange:E=>f(d=>({...d,category:E.target.value})),children:[W.jsx("option",{value:"",disabled:!0,children:"Kategori *"}),W.jsx("option",{value:"Uteleksaker",children:"Uteleksaker"}),W.jsx("option",{value:"Till stranden",children:"Till stranden"}),W.jsx("option",{value:"Vattenlek",children:"Vattenlek"}),W.jsx("option",{value:"Rrelse & Sport",children:"Rrelse & Sport"})]}),W.jsx("p",{className:"error",children:c.message.category}),W.jsx("input",{className:c.css.price,type:"number",placeholder:"Pris *",onChange:E=>f(d=>({...d,price:E.target.value})),value:u.price}),W.jsx("p",{className:"error",children:c.message.price}),W.jsx("input",{className:c.css.discount,type:"number",placeholder:"Rabatt",onChange:E=>f(d=>({...d,discount:E.target.value})),value:u.discount}),W.jsx("p",{className:"error",children:c.message.discount}),W.jsxs("div",{className:"add-toy-buttons",children:[W.jsx("button",{onClick:()=>i(!1),children:"Avbryt"}),W.jsx("button",{type:"submit",children:"Lgg till"})]})]})})}function yC({toy:i,setEditToy:e}){const{setSummerToys:r}=_a();return W.jsxs("tr",{className:"product-on-edit",children:[W.jsxs("td",{className:"edit-buttons",children:[W.jsx("p",{children:W.jsx("button",{onClick:()=>Yx(r,i.id),children:"Ta bort"})}),W.jsx("p",{children:W.jsx("button",{onClick:()=>e(),children:"Redigera"})})]}),W.jsx("td",{children:W.jsx("img",{src:i.img,alt:"toy"})}),W.jsx("td",{children:i.name}),W.jsx("td",{children:i.description}),W.jsx("td",{children:i.category}),W.jsxs("td",{children:[i.oldPrice?i.oldPrice:i.price,":-"]}),W.jsxs("td",{children:[i.discount,"%"]})]})}function vC(){const{storeToysList:i,switchIsLoggedIn:e}=_a(),r=sm(),[s,o]=re.useState(!1),[u,f]=re.useState(null);function c(){r("/"),e()}return W.jsxs("main",{className:"admin-page",children:[W.jsx("button",{className:"admin-buttons",onClick:()=>o(!0),children:"Lgg till"}),W.jsx("button",{className:"admin-buttons",onClick:()=>c(),children:"Logga ut"}),s&&W.jsx(G_,{switchFormState:o}),u&&W.jsx(G_,{switchFormState:f,toy:u}),W.jsxs("table",{children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{}),W.jsx("th",{children:"Bild"}),W.jsx("th",{children:"Namn"}),W.jsx("th",{children:"Beskrivning"}),W.jsx("th",{children:"Kategori"}),W.jsx("th",{children:"Pris"}),W.jsx("th",{children:"Rabatt"})]})}),W.jsx("tbody",{children:i.map(p=>W.jsx(yC,{toy:p,setEditToy:()=>f(p)},p.id))})]})]})}const _C=MS([{path:"/",Component:nC,children:[{index:!0,Component:lC},{path:"/products",Component:cC},{path:"/cart",Component:fC},{path:"/login",Component:hC},{path:"/admin",Component:vC}]}]);LT.createRoot(document.getElementById("root")).render(W.jsx(re.StrictMode,{children:W.jsx(iS,{router:_C})}));
