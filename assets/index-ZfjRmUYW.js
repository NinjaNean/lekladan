(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function P_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var td={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function ET(){if(Yy)return ul;Yy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ul.Fragment=e,ul.jsx=r,ul.jsxs=r,ul}var Ky;function TT(){return Ky||(Ky=1,td.exports=ET()),td.exports}var W=TT(),nd={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function wT(){if(Xy)return qe;Xy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function R(B,ne,de){this.props=B,this.context=ne,this.refs=_,this.updater=de||b}R.prototype.isReactComponent={},R.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=R.prototype;function A(B,ne,de){this.props=B,this.context=ne,this.refs=_,this.updater=de||b}var D=A.prototype=new E;D.constructor=A,v(D,R.prototype),D.isPureReactComponent=!0;var V=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function I(B,ne,de,ce,_e,je){return de=je.ref,{$$typeof:i,type:B,key:ne,ref:de!==void 0?de:null,props:je}}function S(B,ne){return I(B.type,ne,void 0,void 0,void 0,B.props)}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function O(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return ne[de]})}var j=/\/+/g;function $(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):ne.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,ne,de,ce,_e){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(je){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case i:case e:xe=!0;break;case T:return xe=B._init,pe(xe(B._payload),ne,de,ce,_e)}}if(xe)return _e=_e(B),xe=ce===""?"."+$(B,0):ce,V(_e)?(de="",xe!=null&&(de=xe.replace(j,"$&/")+"/"),pe(_e,ne,de,"",function(Hn){return Hn})):_e!=null&&(x(_e)&&(_e=S(_e,de+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+xe)),ne.push(_e)),1;xe=0;var Tt=ce===""?".":ce+":";if(V(B))for(var pt=0;pt<B.length;pt++)ce=B[pt],je=Tt+$(ce,pt),xe+=pe(ce,ne,de,je,_e);else if(pt=y(B),typeof pt=="function")for(B=pt.call(B),pt=0;!(ce=B.next()).done;)ce=ce.value,je=Tt+$(ce,pt++),xe+=pe(ce,ne,de,je,_e);else if(je==="object"){if(typeof B.then=="function")return pe(he(B),ne,de,ce,_e);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(B,ne,de){if(B==null)return B;var ce=[],_e=0;return pe(B,ce,"","",function(je){return ne.call(de,je,_e++)}),ce}function se(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var ye=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Re(){}return qe.Children={map:G,forEach:function(B,ne,de){G(B,function(){ne.apply(this,arguments)},de)},count:function(B){var ne=0;return G(B,function(){ne++}),ne},toArray:function(B){return G(B,function(ne){return ne})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=R,qe.Fragment=r,qe.Profiler=o,qe.PureComponent=A,qe.StrictMode=s,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return L.H.useMemoCache(B)}},qe.cache=function(B){return function(){return B.apply(null,arguments)}},qe.cloneElement=function(B,ne,de){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),_e=B.key,je=void 0;if(ne!=null)for(xe in ne.ref!==void 0&&(je=void 0),ne.key!==void 0&&(_e=""+ne.key),ne)!k.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(ce[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)ce.children=de;else if(1<xe){for(var Tt=Array(xe),pt=0;pt<xe;pt++)Tt[pt]=arguments[pt+2];ce.children=Tt}return I(B.type,_e,void 0,void 0,je,ce)},qe.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},qe.createElement=function(B,ne,de){var ce,_e={},je=null;if(ne!=null)for(ce in ne.key!==void 0&&(je=""+ne.key),ne)k.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=ne[ce]);var xe=arguments.length-2;if(xe===1)_e.children=de;else if(1<xe){for(var Tt=Array(xe),pt=0;pt<xe;pt++)Tt[pt]=arguments[pt+2];_e.children=Tt}if(B&&B.defaultProps)for(ce in xe=B.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return I(B,je,void 0,void 0,null,_e)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:c,render:B}},qe.isValidElement=x,qe.lazy=function(B){return{$$typeof:T,_payload:{_status:-1,_result:B},_init:se}},qe.memo=function(B,ne){return{$$typeof:g,type:B,compare:ne===void 0?null:ne}},qe.startTransition=function(B){var ne=L.T,de={};L.T=de;try{var ce=B(),_e=L.S;_e!==null&&_e(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,ye)}catch(je){ye(je)}finally{L.T=ne}},qe.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},qe.use=function(B){return L.H.use(B)},qe.useActionState=function(B,ne,de){return L.H.useActionState(B,ne,de)},qe.useCallback=function(B,ne){return L.H.useCallback(B,ne)},qe.useContext=function(B){return L.H.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B,ne){return L.H.useDeferredValue(B,ne)},qe.useEffect=function(B,ne,de){var ce=L.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,ne)},qe.useId=function(){return L.H.useId()},qe.useImperativeHandle=function(B,ne,de){return L.H.useImperativeHandle(B,ne,de)},qe.useInsertionEffect=function(B,ne){return L.H.useInsertionEffect(B,ne)},qe.useLayoutEffect=function(B,ne){return L.H.useLayoutEffect(B,ne)},qe.useMemo=function(B,ne){return L.H.useMemo(B,ne)},qe.useOptimistic=function(B,ne){return L.H.useOptimistic(B,ne)},qe.useReducer=function(B,ne,de){return L.H.useReducer(B,ne,de)},qe.useRef=function(B){return L.H.useRef(B)},qe.useState=function(B){return L.H.useState(B)},qe.useSyncExternalStore=function(B,ne,de){return L.H.useSyncExternalStore(B,ne,de)},qe.useTransition=function(){return L.H.useTransition()},qe.version="19.1.0",qe}var Zy;function Gd(){return Zy||(Zy=1,nd.exports=wT()),nd.exports}var re=Gd();const Jy=P_(re);var rd={exports:{}},cl={},id={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function ST(){return Wy||(Wy=1,function(i){function e(G,se){var ye=G.length;G.push(se);e:for(;0<ye;){var Re=ye-1>>>1,B=G[Re];if(0<o(B,se))G[Re]=se,G[ye]=B,ye=Re;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],ye=G.pop();if(ye!==se){G[0]=ye;e:for(var Re=0,B=G.length,ne=B>>>1;Re<ne;){var de=2*(Re+1)-1,ce=G[de],_e=de+1,je=G[_e];if(0>o(ce,ye))_e<B&&0>o(je,ce)?(G[Re]=je,G[_e]=ye,Re=_e):(G[Re]=ce,G[de]=ye,Re=de);else if(_e<B&&0>o(je,ye))G[Re]=je,G[_e]=ye,Re=_e;else break e}}return se}function o(G,se){var ye=G.sortIndex-se.sortIndex;return ye!==0?ye:G.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,c=f.now();i.unstable_now=function(){return f.now()-c}}var p=[],g=[],T=1,m=null,y=3,b=!1,v=!1,_=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var se=r(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=G)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=r(g)}}function L(G){if(_=!1,V(G),!v)if(r(p)!==null)v=!0,k||(k=!0,$());else{var se=r(g);se!==null&&pe(L,se.startTime-G)}}var k=!1,I=-1,S=5,x=-1;function O(){return R?!0:!(i.unstable_now()-x<S)}function j(){if(R=!1,k){var G=i.unstable_now();x=G;var se=!0;try{e:{v=!1,_&&(_=!1,A(I),I=-1),b=!0;var ye=y;try{t:{for(V(G),m=r(p);m!==null&&!(m.expirationTime>G&&O());){var Re=m.callback;if(typeof Re=="function"){m.callback=null,y=m.priorityLevel;var B=Re(m.expirationTime<=G);if(G=i.unstable_now(),typeof B=="function"){m.callback=B,V(G),se=!0;break t}m===r(p)&&s(p),V(G)}else s(p);m=r(p)}if(m!==null)se=!0;else{var ne=r(g);ne!==null&&pe(L,ne.startTime-G),se=!1}}break e}finally{m=null,y=ye,b=!1}se=void 0}}finally{se?$():k=!1}}}var $;if(typeof D=="function")$=function(){D(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=j,$=function(){he.postMessage(null)}}else $=function(){E(j,0)};function pe(G,se){I=E(function(){G(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(G){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ye=y;y=se;try{return G()}finally{y=ye}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=y;y=G;try{return se()}finally{y=ye}},i.unstable_scheduleCallback=function(G,se,ye){var Re=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,G={id:T++,callback:se,priorityLevel:G,startTime:ye,expirationTime:B,sortIndex:-1},ye>Re?(G.sortIndex=ye,e(g,G),r(p)===null&&G===r(g)&&(_?(A(I),I=-1):_=!0,pe(L,ye-Re))):(G.sortIndex=B,e(p,G),v||b||(v=!0,k||(k=!0,$()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var se=y;return function(){var ye=y;y=se;try{return G.apply(this,arguments)}finally{y=ye}}}}(ad)),ad}var ev;function AT(){return ev||(ev=1,id.exports=ST()),id.exports}var sd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function RT(){if(tv)return pn;tv=1;var i=Gd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:m==null?null:""+m,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},pn.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,m=c(T,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):T==="script"&&s.d.X(p,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=c(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,m=c(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=c(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},pn.requestFormReset=function(p){s.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var nv;function xT(){if(nv)return sd.exports;nv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sd.exports=RT(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function CT(){if(rv)return cl;rv=1;var i=AT(),e=Gd(),r=xT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var d=a.return;if(d===null)break;var w=d.alternate;if(w===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===w.child){for(w=d.child;w;){if(w===a)return c(d),t;if(w===l)return c(d),n;w=w.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=w;else{for(var N=!1,P=d.child;P;){if(P===a){N=!0,a=d,l=w;break}if(P===l){N=!0,l=d,a=w;break}P=P.sibling}if(!N){for(P=w.child;P;){if(P===a){N=!0,a=w,l=d;break}if(P===l){N=!0,l=w,a=d;break}P=P.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case R:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case D:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],B=-1;function ne(t){return{current:t}}function de(t){0>B||(t.current=Re[B],Re[B]=null,B--)}function ce(t,n){B++,Re[B]=t.current,t.current=n}var _e=ne(null),je=ne(null),xe=ne(null),Tt=ne(null);function pt(t,n){switch(ce(xe,n),ce(je,t),ce(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ty(n),t=wy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(_e),ce(_e,t)}function Hn(){de(_e),de(je),de(xe)}function St(t){t.memoizedState!==null&&ce(Tt,t);var n=_e.current,a=wy(n,t.type);n!==a&&(ce(je,t),ce(_e,a))}function fn(t){je.current===t&&(de(_e),de(je)),Tt.current===t&&(de(Tt),il._currentValue=ye)}var _r=Object.prototype.hasOwnProperty,Yr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,ga=i.unstable_shouldYield,is=i.unstable_requestPaint,bn=i.unstable_now,co=i.unstable_getCurrentPriorityLevel,ya=i.unstable_ImmediatePriority,Si=i.unstable_UserBlockingPriority,Kr=i.unstable_NormalPriority,fr=i.unstable_LowPriority,Fn=i.unstable_IdlePriority,Ai=i.log,Ri=i.unstable_setDisableYieldValue,lt=null,He=null;function hn(t){if(typeof Ai=="function"&&Ri(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var kt=Math.clz32?Math.clz32:br,as=Math.log,Gn=Math.LN2;function br(t){return t>>>=0,t===0?32:31-(as(t)/Gn|0)|0}var Er=256,Tr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,w=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~w,l!==0?d=In(l):(N&=P,N!==0?d=In(N):a||(a=P&~t,a!==0&&(d=In(a))))):(P=l&~w,P!==0?d=In(P):N!==0?d=In(N):a||(a=l&~t,a!==0&&(d=In(a)))),d===0?0:n!==0&&n!==d&&(n&w)===0&&(w=d&-d,a=n&-n,w>=a||w===32&&(a&4194048)!==0)?n:d}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var t=Er;return Er<<=1,(Er&4194048)===0&&(Er=256),t}function va(){var t=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),t}function Yn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ci(t,n,a,l,d,w){var N=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var P=t.entanglements,q=t.expirationTimes,J=t.hiddenUpdates;for(a=N&~a;0<a;){var ae=31-kt(a),ue=1<<ae;P[ae]=0,q[ae]=-1;var ee=J[ae];if(ee!==null)for(J[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}a&=~ue}l!==0&&En(t,l,0),w!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=w&~(N&~n))}function En(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-kt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function wr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-kt(a),d=1<<l;d&n|t[l]&n&&(t[l]|=n),a&=~d}}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function Y(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var Z=Math.random().toString(36).slice(2),le="__reactFiber$"+Z,ge="__reactProps$"+Z,Ee="__reactContainer$"+Z,Ie="__reactEvents$"+Z,Te="__reactListeners$"+Z,Se="__reactHandles$"+Z,Ce="__reactResources$"+Z,Ne="__reactMarker$"+Z;function Ae(t){delete t[le],delete t[ge],delete t[Ie],delete t[Te],delete t[Se]}function ke(t){var n=t[le];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ee]||a[le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=xy(t);t!==null;){if(a=t[le])return a;t=xy(t)}return n}t=a,a=t.parentNode}return null}function Ke(t){if(t=t[le]||t[Ee]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function st(t){var n=t[Ce];return n||(n=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[Ne]=!0}var Qe=new Set,Kn={};function $t(t,n){Tn(t,n),Tn(t+"Capture",n)}function Tn(t,n){for(Kn[t]=n,t=0;t<n.length;t++)Qe.add(n[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ar={},Mn={};function Oi(t){return _r.call(Mn,t)?!0:_r.call(Ar,t)?!1:tn.test(t)?Mn[t]=!0:(Ar[t]=!0,!1)}function dn(t,n,a){if(Oi(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ze(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Lt,Nn;function Rn(t){if(Lt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Lt=n&&n[1]||"",Nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+t+Nn}var Rr=!1;function bt(t,n){if(!t||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(te){ee=te}t.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=l.DetermineComponentFrameRoot(),N=w[0],P=w[1];if(N&&P){var q=N.split(`
`),J=P.split(`
`);for(d=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;d<J.length&&!J[d].includes("DetermineComponentFrameRoot");)d++;if(l===q.length||d===J.length)for(l=q.length-1,d=J.length-1;1<=l&&0<=d&&q[l]!==J[d];)d--;for(;1<=l&&0<=d;l--,d--)if(q[l]!==J[d]){if(l!==1||d!==1)do if(l--,d--,0>d||q[l]!==J[d]){var ae=`
`+q[l].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=l&&0<=d);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function Xn(t){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return Rn("Activity");default:return""}}function Jr(t){try{var n="";do n+=Xn(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function af(t){var n=fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,w=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(N){l=""+N,w.call(this,N)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ss(t){t._valueTracker||(t._valueTracker=af(t))}function ho(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sf=/[\n"\\]/g;function jt(t){return t.replace(sf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vn(t,n,a,l,d,w,N,P){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),n!=null?N==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),n!=null?Ii(t,N,nn(n)):a!=null?Ii(t,N,nn(a)):l!=null&&t.removeAttribute("value"),d==null&&w!=null&&(t.defaultChecked=!!w),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+nn(P):t.removeAttribute("name")}function ba(t,n,a,l,d,w,N,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),n!=null||a!=null){if(!(w!=="submit"&&w!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,P||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function Ii(t,n,a){n==="number"&&_a(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wr(t,n,a,l){if(t=t.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=n.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function gt(t,n,a){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nn(a):""}function Ea(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Zn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ta.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function mo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&a[d]!==l&&ql(t,d,l)}else for(var w in n)n.hasOwnProperty(w)&&ql(t,w,n[w])}function po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ei=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,ni=null;function go(t){var n=Ke(t);if(n&&(t=n.stateNode)){var a=t[ge]||null;e:switch(t=n.stateNode,n.type){case"input":if(Vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var d=l[ge]||null;if(!d)throw Error(s(90));Vn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ho(l)}break e;case"textarea":gt(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Wr(t,!!a.multiple,n,!1)}}}var xr=!1;function Hl(t,n,a){if(xr)return t(n,a);xr=!0;try{var l=t(n);return l}finally{if(xr=!1,(ti!==null||ni!==null)&&(ju(),ti&&(n=ti,t=ni,ni=ti=null,go(n),t)))for(n=0;n<t.length;n++)go(t[n])}}function wa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ge]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(dr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Wn=!1}var Cr=null,Mi=null,ri=null;function yo(){if(ri)return ri;var t,n=Mi,a=n.length,l,d="value"in Cr?Cr.value:Cr.textContent,w=d.length;for(t=0;t<a&&n[t]===d[t];t++);var N=a-t;for(l=1;l<=N&&n[a-l]===d[w-l];l++);return ri=d.slice(t,1<l?1-l:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Or(){return!0}function vo(){return!1}function Kt(t){function n(a,l,d,w,N){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Or:vo,this.isPropagationStopped=vo,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),n}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Kt(ft),Aa=T({},ft,{view:0,detail:0}),Fl=Kt(Aa),us,cs,Ir,Ra=T({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(us=t.screenX-Ir.screenX,cs=t.screenY-Ir.screenY):cs=us=0,Ir=t),us)},movementY:function(t){return"movementY"in t?t.movementY:cs}}),er=Kt(Ra),Gl=T({},Ra,{dataTransfer:0}),uf=Kt(Gl),xa=T({},Aa,{relatedTarget:0}),fs=Kt(xa),_o=T({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),hs=Kt(_o),Ql=T({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ds=Kt(Ql),cf=T({},ft,{data:0}),bo=Kt(cf),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Kl[t])?!!n[t]:!1}function Da(){return Eo}var Xl=T({},Aa,{key:function(t){if(t.key){var n=Ca[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ms=Kt(Xl),Zl=T({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=Kt(Zl),ii=T({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Jl=Kt(ii),Wl=T({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=Kt(Wl),tu=T({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=Kt(tu),Sn=T({},ft,{newState:0,oldState:0}),nu=Kt(Sn),ru=[9,13,27,32],Mr=dr&&"CompositionEvent"in window,h=null;dr&&"documentMode"in document&&(h=document.documentMode);var C=dr&&"TextEvent"in window&&!h,M=dr&&(!Mr||h&&8<h&&11>=h),z=" ",K=!1;function ie(t,n){switch(t){case"keyup":return ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Bt(t,n){switch(t){case"compositionend":return ve(n);case"keypress":return n.which!==32?null:(K=!0,z);case"textInput":return t=n.data,t===z&&K?null:t;default:return null}}function nt(t,n){if(tt)return t==="compositionend"||!Mr&&ie(t,n)?(t=yo(),ri=Mi=Cr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return M&&n.locale!=="ko"?null:n.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xt[t.type]:n==="textarea"}function ai(t,n,a,l){ti?ni?ni.push(l):ni=[l]:ti=l,n=qu(n,"onChange"),0<n.length&&(a=new ls("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rn=null,Nr=null;function wo(t){yy(t,0)}function iu(t){var n=ct(t);if(ho(n))return t}function Pm(t,n){if(t==="change")return n}var Um=!1;if(dr){var ff;if(dr){var hf="oninput"in document;if(!hf){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),hf=typeof zm.oninput=="function"}ff=hf}else ff=!1;Um=ff&&(!document.documentMode||9<document.documentMode)}function $m(){rn&&(rn.detachEvent("onpropertychange",Bm),Nr=rn=null)}function Bm(t){if(t.propertyName==="value"&&iu(Nr)){var n=[];ai(n,Nr,t,Jn(t)),Hl(wo,n)}}function Zb(t,n,a){t==="focusin"?($m(),rn=n,Nr=a,rn.attachEvent("onpropertychange",Bm)):t==="focusout"&&$m()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(Nr)}function Wb(t,n){if(t==="click")return iu(n)}function eE(t,n){if(t==="input"||t==="change")return iu(n)}function tE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:tE;function So(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!_r.call(n,d)||!kn(t[d],n[d]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,n){var a=qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qm(a)}}function Fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_a(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_a(t.document)}return n}function df(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nE=dr&&"documentMode"in document&&11>=document.documentMode,gs=null,mf=null,Ao=null,pf=!1;function Qm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||gs==null||gs!==_a(l)||(l=gs,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ao&&So(Ao,l)||(Ao=l,l=qu(mf,"onSelect"),0<l.length&&(n=new ls("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=gs)))}function Oa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ys={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},gf={},Ym={};dr&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Ia(t){if(gf[t])return gf[t];if(!ys[t])return t;var n=ys[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ym)return gf[t]=n[a];return t}var Km=Ia("animationend"),Xm=Ia("animationiteration"),Zm=Ia("animationstart"),rE=Ia("transitionrun"),iE=Ia("transitionstart"),aE=Ia("transitioncancel"),Jm=Ia("transitionend"),Wm=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function mr(t,n){Wm.set(t,n),$t(n,[t])}var ep=new WeakMap;function tr(t,n){if(typeof t=="object"&&t!==null){var a=ep.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jr(n)},ep.set(t,n),n)}return{value:t,source:n,stack:Jr(n)}}var nr=[],vs=0,vf=0;function au(){for(var t=vs,n=vf=vs=0;n<t;){var a=nr[n];nr[n++]=null;var l=nr[n];nr[n++]=null;var d=nr[n];nr[n++]=null;var w=nr[n];if(nr[n++]=null,l!==null&&d!==null){var N=l.pending;N===null?d.next=d:(d.next=N.next,N.next=d),l.pending=d}w!==0&&tp(a,d,w)}}function su(t,n,a,l){nr[vs++]=t,nr[vs++]=n,nr[vs++]=a,nr[vs++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,n,a,l){return su(t,n,a,l),ou(t)}function _s(t,n){return su(t,null,null,n),ou(t)}function tp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,w=t.return;w!==null;)w.childLanes|=a,l=w.alternate,l!==null&&(l.childLanes|=a),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(d=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,d&&n!==null&&(d=31-kt(a),t=w.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=a|536870912),w):null}function ou(t){if(50<Xo)throw Xo=0,Ah=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var bs={};function sE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,a,l){return new sE(t,n,a,l)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,n){var a=t.alternate;return a===null?(a=Ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lu(t,n,a,l,d,w){var N=0;if(l=t,typeof t=="function")bf(t)&&(N=1);else if(typeof t=="string")N=lT(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Ln(31,a,n,d),t.elementType=x,t.lanes=w,t;case v:return Ma(a.children,d,w,n);case _:N=8,d|=24;break;case R:return t=Ln(12,a,n,d|2),t.elementType=R,t.lanes=w,t;case L:return t=Ln(13,a,n,d),t.elementType=L,t.lanes=w,t;case k:return t=Ln(19,a,n,d),t.elementType=k,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case D:N=10;break e;case A:N=9;break e;case V:N=11;break e;case I:N=14;break e;case S:N=16,l=null;break e}N=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Ln(N,a,n,d),n.elementType=t,n.type=l,n.lanes=w,n}function Ma(t,n,a,l){return t=Ln(7,t,l,n),t.lanes=a,t}function Ef(t,n,a){return t=Ln(6,t,null,n),t.lanes=a,t}function Tf(t,n,a){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Es=[],Ts=0,uu=null,cu=0,rr=[],ir=0,Na=null,oi=1,li="";function Va(t,n){Es[Ts++]=cu,Es[Ts++]=uu,uu=t,cu=n}function rp(t,n,a){rr[ir++]=oi,rr[ir++]=li,rr[ir++]=Na,Na=t;var l=oi;t=li;var d=32-kt(l)-1;l&=~(1<<d),a+=1;var w=32-kt(n)+d;if(30<w){var N=d-d%5;w=(l&(1<<N)-1).toString(32),l>>=N,d-=N,oi=1<<32-kt(n)+d|a<<d|l,li=w+t}else oi=1<<w|a<<d|l,li=t}function wf(t){t.return!==null&&(Va(t,1),rp(t,1,0))}function Sf(t){for(;t===uu;)uu=Es[--Ts],Es[Ts]=null,cu=Es[--Ts],Es[Ts]=null;for(;t===Na;)Na=rr[--ir],rr[ir]=null,li=rr[--ir],rr[ir]=null,oi=rr[--ir],rr[ir]=null}var An=null,Dt=null,ut=!1,ka=null,Vr=!1,Af=Error(s(519));function La(t){var n=Error(s(418,""));throw Co(tr(n,t)),Af}function ip(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[le]=t,n[ge]=l,a){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(a=0;a<Jo.length;a++)Ze(Jo[a],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Ze("invalid",n),ba(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(n);break;case"select":Ze("invalid",n);break;case"textarea":Ze("invalid",n),Ea(n,l.value,l.defaultValue,l.children),ss(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ey(n.textContent,a)?(l.popover!=null&&(Ze("beforetoggle",n),Ze("toggle",n)),l.onScroll!=null&&Ze("scroll",n),l.onScrollEnd!=null&&Ze("scrollend",n),l.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||La(t)}function ap(t){for(An=t.return;An;)switch(An.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:An=An.return}}function Ro(t){if(t!==An)return!1;if(!ut)return ap(t),ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$h(t.type,t.memoizedProps)),a=!a),a&&Dt&&La(t),ap(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Dt=gr(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Dt=null}}else n===27?(n=Dt,Yi(t.type)?(t=Fh,Fh=null,Dt=t):Dt=n):Dt=An?gr(t.stateNode.nextSibling):null;return!0}function xo(){Dt=An=null,ut=!1}function sp(){var t=ka;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),ka=null),t}function Co(t){ka===null?ka=[t]:ka.push(t)}var Rf=ne(null),ja=null,ui=null;function Ni(t,n,a){ce(Rf,n._currentValue),n._currentValue=a}function ci(t){t._currentValue=Rf.current,de(Rf)}function xf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Cf(t,n,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){var N=d.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=d;for(var q=0;q<n.length;q++)if(P.context===n[q]){w.lanes|=a,P=w.alternate,P!==null&&(P.lanes|=a),xf(w.return,a,t),l||(N=null);break e}w=P.next}}else if(d.tag===18){if(N=d.return,N===null)throw Error(s(341));N.lanes|=a,w=N.alternate,w!==null&&(w.lanes|=a),xf(N,a,t),N=null}else N=d.child;if(N!==null)N.return=d;else for(N=d;N!==null;){if(N===t){N=null;break}if(d=N.sibling,d!==null){d.return=N.return,N=d;break}N=N.return}d=N}}function Do(t,n,a,l){t=null;for(var d=n,w=!1;d!==null;){if(!w){if((d.flags&524288)!==0)w=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var N=d.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var P=d.type;kn(d.pendingProps.value,N.value)||(t!==null?t.push(P):t=[P])}}else if(d===Tt.current){if(N=d.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(il):t=[il])}d=d.return}t!==null&&Cf(n,t,a,l),n.flags|=262144}function fu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pa(t){ja=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return op(ja,t)}function hu(t,n){return ja===null&&Pa(t),op(t,n)}function op(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(s(308));ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ui=ui.next=n;return a}var oE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},lE=i.unstable_scheduleCallback,uE=i.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new oE,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&lE(uE,function(){t.controller.abort()})}var Io=null,Of=0,ws=0,Ss=null;function cE(t,n){if(Io===null){var a=Io=[];Of=0,ws=Mh(),Ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,n.then(lp,lp),n}function lp(){if(--Of===0&&Io!==null){Ss!==null&&(Ss.status="fulfilled");var t=Io;Io=null,ws=0,Ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function fE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var up=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&cE(t,n),up!==null&&up(t,n)};var Ua=ne(null);function If(){var t=Ua.current;return t!==null?t:wt.pooledCache}function du(t,n){n===null?ce(Ua,Ua.current):ce(Ua,n.pool)}function cp(){var t=If();return t===null?null:{parent:Ht._currentValue,pool:t}}var Mo=Error(s(460)),fp=Error(s(474)),mu=Error(s(542)),Mf={then:function(){}};function hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pu(){}function dp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(pu,pu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t;default:if(typeof n.status=="string")n.then(pu,pu);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t}throw No=n,Mo}}var No=null;function mp(){if(No===null)throw Error(s(459));var t=No;return No=null,t}function pp(t){if(t===Mo||t===mu)throw Error(s(483))}var Vi=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=ou(t),tp(t,null,a),n}return su(t,l,n,a),ou(t)}function Vo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,wr(t,a)}}function kf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,w=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};w===null?d=w=N:w=w.next=N,a=a.next}while(a!==null);w===null?d=w=n:w=w.next=n}else d=w=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:w,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Lf=!1;function ko(){if(Lf){var t=Ss;if(t!==null)throw t}}function Lo(t,n,a,l){Lf=!1;var d=t.updateQueue;Vi=!1;var w=d.firstBaseUpdate,N=d.lastBaseUpdate,P=d.shared.pending;if(P!==null){d.shared.pending=null;var q=P,J=q.next;q.next=null,N===null?w=J:N.next=J,N=q;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==N&&(P===null?ae.firstBaseUpdate=J:P.next=J,ae.lastBaseUpdate=q))}if(w!==null){var ue=d.baseState;N=0,ae=J=q=null,P=w;do{var ee=P.lane&-536870913,te=ee!==P.lane;if(te?(rt&ee)===ee:(l&ee)===ee){ee!==0&&ee===ws&&(Lf=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ue=t,Ve=P;ee=n;var _t=a;switch(Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){ue=Ue.call(_t,ue,ee);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,ee=typeof Ue=="function"?Ue.call(_t,ue,ee):Ue,ee==null)break e;ue=T({},ue,ee);break e;case 2:Vi=!0}}ee=P.callback,ee!==null&&(t.flags|=64,te&&(t.flags|=8192),te=d.callbacks,te===null?d.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(J=ae=te,q=ue):ae=ae.next=te,N|=ee;if(P=P.next,P===null){if(P=d.shared.pending,P===null)break;te=P,P=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);ae===null&&(q=ue),d.baseState=q,d.firstBaseUpdate=J,d.lastBaseUpdate=ae,w===null&&(d.shared.lanes=0),Hi|=N,t.lanes=N,t.memoizedState=ue}}function gp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function yp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gp(a[t],n)}var As=ne(null),gu=ne(0);function vp(t,n){t=yi,ce(gu,t),ce(As,n),yi=t|n.baseLanes}function jf(){ce(gu,yi),ce(As,As.current)}function Pf(){yi=gu.current,de(As),de(gu)}var ji=0,Fe=null,yt=null,Pt=null,yu=!1,Rs=!1,za=!1,vu=0,jo=0,xs=null,hE=0;function It(){throw Error(s(321))}function Uf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!kn(t[a],n[a]))return!1;return!0}function zf(t,n,a,l,d,w){return ji=w,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?tg:ng,za=!1,w=a(l,d),za=!1,Rs&&(w=bp(n,a,l,d)),_p(t),w}function _p(t){G.H=Su;var n=yt!==null&&yt.next!==null;if(ji=0,Pt=yt=Fe=null,yu=!1,jo=0,xs=null,n)throw Error(s(300));t===null||Zt||(t=t.dependencies,t!==null&&fu(t)&&(Zt=!0))}function bp(t,n,a,l){Fe=t;var d=0;do{if(Rs&&(xs=null),jo=0,Rs=!1,25<=d)throw Error(s(301));if(d+=1,Pt=yt=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=_E,w=n(a,l)}while(Rs);return w}function dE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Po(n):n,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Fe.flags|=1024),n}function $f(){var t=vu!==0;return vu=0,t}function Bf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function qf(t){if(yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}yu=!1}ji=0,Pt=yt=Fe=null,Rs=!1,jo=vu=0,xs=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ut(){if(yt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=Pt===null?Fe.memoizedState:Pt.next;if(n!==null)Pt=n,yt=t;else{if(t===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(t){var n=jo;return jo+=1,xs===null&&(xs=[]),t=dp(xs,t,n),n=Fe,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?tg:ng),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Po(t);if(t.$$typeof===D)return mn(t)}throw Error(s(438,String(t)))}function Ff(t){var n=null,a=Fe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hf(),Fe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function fi(t,n){return typeof n=="function"?n(t):n}function bu(t){var n=Ut();return Gf(n,yt,t)}function Gf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,w=l.pending;if(w!==null){if(d!==null){var N=d.next;d.next=w.next,w.next=N}n.baseQueue=d=w,l.pending=null}if(w=t.baseState,d===null)t.memoizedState=w;else{n=d.next;var P=N=null,q=null,J=n,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(rt&ue)===ue:(ji&ue)===ue){var ee=J.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===ws&&(ae=!0);else if((ji&ee)===ee){J=J.next,ee===ws&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(P=q=ue,N=w):q=q.next=ue,Fe.lanes|=ee,Hi|=ee;ue=J.action,za&&a(w,ue),w=J.hasEagerState?J.eagerState:a(w,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(P=q=ee,N=w):q=q.next=ee,Fe.lanes|=ue,Hi|=ue;J=J.next}while(J!==null&&J!==n);if(q===null?N=w:q.next=P,!kn(w,t.memoizedState)&&(Zt=!0,ae&&(a=Ss,a!==null)))throw a;t.memoizedState=w,t.baseState=N,t.baseQueue=q,l.lastRenderedState=w}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var n=Ut(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,w=n.memoizedState;if(d!==null){a.pending=null;var N=d=d.next;do w=t(w,N.action),N=N.next;while(N!==d);kn(w,n.memoizedState)||(Zt=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),a.lastRenderedState=w}return[w,l]}function Ep(t,n,a){var l=Fe,d=Ut(),w=ut;if(w){if(a===void 0)throw Error(s(407));a=a()}else a=n();var N=!kn((yt||d).memoizedState,a);N&&(d.memoizedState=a,Zt=!0),d=d.queue;var P=Sp.bind(null,l,d,t);if(Uo(2048,8,P,[t]),d.getSnapshot!==n||N||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Cs(9,Eu(),wp.bind(null,l,d,a,n),null),wt===null)throw Error(s(349));w||(ji&124)!==0||Tp(l,n,a)}return a}function Tp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Fe.updateQueue,n===null?(n=Hf(),Fe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function wp(t,n,a,l){n.value=a,n.getSnapshot=l,Ap(n)&&Rp(t)}function Sp(t,n,a){return a(function(){Ap(n)&&Rp(t)})}function Ap(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!kn(t,a)}catch{return!0}}function Rp(t){var n=_s(t,2);n!==null&&$n(n,t,2)}function Yf(t){var n=xn();if(typeof t=="function"){var a=t;if(t=a(),za){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},n}function xp(t,n,a,l){return t.baseState=a,Gf(t,yt,typeof l=="function"?l:fi)}function mE(t,n,a,l,d){if(wu(t))throw Error(s(485));if(t=n.action,t!==null){var w={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};G.T!==null?a(!0):w.isTransition=!1,l(w),a=n.pending,a===null?(w.next=n.pending=w,Cp(n,w)):(w.next=a.next,n.pending=a.next=w)}}function Cp(t,n){var a=n.action,l=n.payload,d=t.state;if(n.isTransition){var w=G.T,N={};G.T=N;try{var P=a(d,l),q=G.S;q!==null&&q(N,P),Dp(t,n,P)}catch(J){Kf(t,n,J)}finally{G.T=w}}else try{w=a(d,l),Dp(t,n,w)}catch(J){Kf(t,n,J)}}function Dp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Op(t,n,l)},function(l){return Kf(t,n,l)}):Op(t,n,a)}function Op(t,n,a){n.status="fulfilled",n.value=a,Ip(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cp(t,a)))}function Kf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ip(n),n=n.next;while(n!==l)}t.action=null}function Ip(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mp(t,n){return n}function Np(t,n){if(ut){var a=wt.formState;if(a!==null){e:{var l=Fe;if(ut){if(Dt){t:{for(var d=Dt,w=Vr;d.nodeType!==8;){if(!w){d=null;break t}if(d=gr(d.nextSibling),d===null){d=null;break t}}w=d.data,d=w==="F!"||w==="F"?d:null}if(d){Dt=gr(d.nextSibling),l=d.data==="F!";break e}}La(l)}l=!1}l&&(n=a[0])}}return a=xn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:n},a.queue=l,a=Jp.bind(null,Fe,l),l.dispatch=a,l=Yf(!1),w=eh.bind(null,Fe,!1,l.queue),l=xn(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,a=mE.bind(null,Fe,d,w,a),d.dispatch=a,l.memoizedState=t,[n,a,!1]}function Vp(t){var n=Ut();return kp(n,yt,t)}function kp(t,n,a){if(n=Gf(t,n,Mp)[0],t=bu(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Po(n)}catch(N){throw N===Mo?mu:N}else l=n;n=Ut();var d=n.queue,w=d.dispatch;return a!==n.memoizedState&&(Fe.flags|=2048,Cs(9,Eu(),pE.bind(null,d,a),null)),[l,w,t]}function pE(t,n){t.action=n}function Lp(t){var n=Ut(),a=yt;if(a!==null)return kp(n,a,t);Ut(),n=n.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Cs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Fe.updateQueue,n===null&&(n=Hf(),Fe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function jp(){return Ut().memoizedState}function Tu(t,n,a,l){var d=xn();l=l===void 0?null:l,Fe.flags|=t,d.memoizedState=Cs(1|n,Eu(),a,l)}function Uo(t,n,a,l){var d=Ut();l=l===void 0?null:l;var w=d.memoizedState.inst;yt!==null&&l!==null&&Uf(l,yt.memoizedState.deps)?d.memoizedState=Cs(n,w,a,l):(Fe.flags|=t,d.memoizedState=Cs(1|n,w,a,l))}function Pp(t,n){Tu(8390656,8,t,n)}function Up(t,n){Uo(2048,8,t,n)}function zp(t,n){return Uo(4,2,t,n)}function $p(t,n){return Uo(4,4,t,n)}function Bp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qp(t,n,a){a=a!=null?a.concat([t]):null,Uo(4,4,Bp.bind(null,n,t),a)}function Xf(){}function Hp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Uf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Fp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Uf(n,l[1]))return l[0];if(l=t(),za){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l}function Zf(t,n,a){return a===void 0||(ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Yg(),Fe.lanes|=t,Hi|=t,a)}function Gp(t,n,a,l){return kn(a,n)?a:As.current!==null?(t=Zf(t,a,l),kn(t,n)||(Zt=!0),t):(ji&42)===0?(Zt=!0,t.memoizedState=a):(t=Yg(),Fe.lanes|=t,Hi|=t,n)}function Qp(t,n,a,l,d){var w=se.p;se.p=w!==0&&8>w?w:8;var N=G.T,P={};G.T=P,eh(t,!1,n,a);try{var q=d(),J=G.S;if(J!==null&&J(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=fE(q,l);zo(t,n,ae,zn(t))}else zo(t,n,l,zn(t))}catch(ue){zo(t,n,{then:function(){},status:"rejected",reason:ue},zn())}finally{se.p=w,G.T=N}}function gE(){}function Jf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var d=Yp(t).queue;Qp(t,d,n,ye,a===null?gE:function(){return Kp(t),a(l)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kp(t){var n=Yp(t).next.queue;zo(t,n,{},zn())}function Wf(){return mn(il)}function Xp(){return Ut().memoizedState}function Zp(){return Ut().memoizedState}function yE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=zn();t=ki(a);var l=Li(n,t,a);l!==null&&($n(l,n,a),Vo(l,n,a)),n={cache:Df()},t.payload=n;return}n=n.return}}function vE(t,n,a){var l=zn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wu(t)?Wp(n,a):(a=_f(t,n,a,l),a!==null&&($n(a,t,l),eg(a,n,l)))}function Jp(t,n,a){var l=zn();zo(t,n,a,l)}function zo(t,n,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wu(t))Wp(n,d);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var N=n.lastRenderedState,P=w(N,a);if(d.hasEagerState=!0,d.eagerState=P,kn(P,N))return su(t,n,d,0),wt===null&&au(),!1}catch{}finally{}if(a=_f(t,n,d,l),a!==null)return $n(a,t,l),eg(a,n,l),!0}return!1}function eh(t,n,a,l){if(l={lane:2,revertLane:Mh(),action:l,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(n)throw Error(s(479))}else n=_f(t,a,l,2),n!==null&&$n(n,t,2)}function wu(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function Wp(t,n){Rs=yu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function eg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,wr(t,a)}}var Su={readContext:mn,use:_u,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},tg={readContext:mn,use:_u,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:Pp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Bp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=xn();n=n===void 0?null:n;var l=t();if(za){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=xn();if(a!==void 0){var d=a(n);if(za){hn(!0);try{a(n)}finally{hn(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=vE.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yf(t);var n=t.queue,a=Jp.bind(null,Fe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,n){var a=xn();return Zf(a,t,n)},useTransition:function(){var t=Yf(!1);return t=Qp.bind(null,Fe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Fe,d=xn();if(ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),wt===null)throw Error(s(349));(rt&124)!==0||Tp(l,n,a)}d.memoizedState=a;var w={value:a,getSnapshot:n};return d.queue=w,Pp(Sp.bind(null,l,w,t),[t]),l.flags|=2048,Cs(9,Eu(),wp.bind(null,l,w,a,n),null),a},useId:function(){var t=xn(),n=wt.identifierPrefix;if(ut){var a=li,l=oi;a=(l&~(1<<32-kt(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=vu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=hE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Wf,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=eh.bind(null,Fe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ff,useCacheRefresh:function(){return xn().memoizedState=yE.bind(null,Fe)}},ng={readContext:mn,use:_u,useCallback:Hp,useContext:mn,useEffect:Up,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:$p,useMemo:Fp,useReducer:bu,useRef:jp,useState:function(){return bu(fi)},useDebugValue:Xf,useDeferredValue:function(t,n){var a=Ut();return Gp(a,yt.memoizedState,t,n)},useTransition:function(){var t=bu(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:Po(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Wf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,n){var a=Ut();return xp(a,yt,t,n)},useMemoCache:Ff,useCacheRefresh:Zp},_E={readContext:mn,use:_u,useCallback:Hp,useContext:mn,useEffect:Up,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:$p,useMemo:Fp,useReducer:Qf,useRef:jp,useState:function(){return Qf(fi)},useDebugValue:Xf,useDeferredValue:function(t,n){var a=Ut();return yt===null?Zf(a,t,n):Gp(a,yt.memoizedState,t,n)},useTransition:function(){var t=Qf(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:Po(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Wf,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,n){var a=Ut();return yt!==null?xp(a,yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:Zp},Ds=null,$o=0;function Au(t){var n=$o;return $o+=1,Ds===null&&(Ds=[]),dp(Ds,t,n)}function Bo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ru(t,n){throw n.$$typeof===m?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){var n=t._init;return n(t._payload)}function ig(t){function n(Q,F){if(t){var X=Q.deletions;X===null?(Q.deletions=[F],Q.flags|=16):X.push(F)}}function a(Q,F){if(!t)return null;for(;F!==null;)n(Q,F),F=F.sibling;return null}function l(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function d(Q,F){return Q=si(Q,F),Q.index=0,Q.sibling=null,Q}function w(Q,F,X){return Q.index=X,t?(X=Q.alternate,X!==null?(X=X.index,X<F?(Q.flags|=67108866,F):X):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function N(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,F,X,oe){return F===null||F.tag!==6?(F=Ef(X,Q.mode,oe),F.return=Q,F):(F=d(F,X),F.return=Q,F)}function q(Q,F,X,oe){var we=X.type;return we===v?ae(Q,F,X.props.children,oe,X.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&rg(we)===F.type)?(F=d(F,X.props),Bo(F,X),F.return=Q,F):(F=lu(X.type,X.key,X.props,null,Q.mode,oe),Bo(F,X),F.return=Q,F)}function J(Q,F,X,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=Tf(X,Q.mode,oe),F.return=Q,F):(F=d(F,X.children||[]),F.return=Q,F)}function ae(Q,F,X,oe,we){return F===null||F.tag!==7?(F=Ma(X,Q.mode,oe,we),F.return=Q,F):(F=d(F,X),F.return=Q,F)}function ue(Q,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Ef(""+F,Q.mode,X),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return X=lu(F.type,F.key,F.props,null,Q.mode,X),Bo(X,F),X.return=Q,X;case b:return F=Tf(F,Q.mode,X),F.return=Q,F;case S:var oe=F._init;return F=oe(F._payload),ue(Q,F,X)}if(pe(F)||$(F))return F=Ma(F,Q.mode,X,null),F.return=Q,F;if(typeof F.then=="function")return ue(Q,Au(F),X);if(F.$$typeof===D)return ue(Q,hu(Q,F),X);Ru(Q,F)}return null}function ee(Q,F,X,oe){var we=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:P(Q,F,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return X.key===we?q(Q,F,X,oe):null;case b:return X.key===we?J(Q,F,X,oe):null;case S:return we=X._init,X=we(X._payload),ee(Q,F,X,oe)}if(pe(X)||$(X))return we!==null?null:ae(Q,F,X,oe,null);if(typeof X.then=="function")return ee(Q,F,Au(X),oe);if(X.$$typeof===D)return ee(Q,F,hu(Q,X),oe);Ru(Q,X)}return null}function te(Q,F,X,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(X)||null,P(F,Q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Q=Q.get(oe.key===null?X:oe.key)||null,q(F,Q,oe,we);case b:return Q=Q.get(oe.key===null?X:oe.key)||null,J(F,Q,oe,we);case S:var Ye=oe._init;return oe=Ye(oe._payload),te(Q,F,X,oe,we)}if(pe(oe)||$(oe))return Q=Q.get(X)||null,ae(F,Q,oe,we,null);if(typeof oe.then=="function")return te(Q,F,X,Au(oe),we);if(oe.$$typeof===D)return te(Q,F,X,hu(F,oe),we);Ru(F,oe)}return null}function Ue(Q,F,X,oe){for(var we=null,Ye=null,De=F,Le=F=0,Wt=null;De!==null&&Le<X.length;Le++){De.index>Le?(Wt=De,De=null):Wt=De.sibling;var ot=ee(Q,De,X[Le],oe);if(ot===null){De===null&&(De=Wt);break}t&&De&&ot.alternate===null&&n(Q,De),F=w(ot,F,Le),Ye===null?we=ot:Ye.sibling=ot,Ye=ot,De=Wt}if(Le===X.length)return a(Q,De),ut&&Va(Q,Le),we;if(De===null){for(;Le<X.length;Le++)De=ue(Q,X[Le],oe),De!==null&&(F=w(De,F,Le),Ye===null?we=De:Ye.sibling=De,Ye=De);return ut&&Va(Q,Le),we}for(De=l(De);Le<X.length;Le++)Wt=te(De,Q,Le,X[Le],oe),Wt!==null&&(t&&Wt.alternate!==null&&De.delete(Wt.key===null?Le:Wt.key),F=w(Wt,F,Le),Ye===null?we=Wt:Ye.sibling=Wt,Ye=Wt);return t&&De.forEach(function(Wi){return n(Q,Wi)}),ut&&Va(Q,Le),we}function Ve(Q,F,X,oe){if(X==null)throw Error(s(151));for(var we=null,Ye=null,De=F,Le=F=0,Wt=null,ot=X.next();De!==null&&!ot.done;Le++,ot=X.next()){De.index>Le?(Wt=De,De=null):Wt=De.sibling;var Wi=ee(Q,De,ot.value,oe);if(Wi===null){De===null&&(De=Wt);break}t&&De&&Wi.alternate===null&&n(Q,De),F=w(Wi,F,Le),Ye===null?we=Wi:Ye.sibling=Wi,Ye=Wi,De=Wt}if(ot.done)return a(Q,De),ut&&Va(Q,Le),we;if(De===null){for(;!ot.done;Le++,ot=X.next())ot=ue(Q,ot.value,oe),ot!==null&&(F=w(ot,F,Le),Ye===null?we=ot:Ye.sibling=ot,Ye=ot);return ut&&Va(Q,Le),we}for(De=l(De);!ot.done;Le++,ot=X.next())ot=te(De,Q,Le,ot.value,oe),ot!==null&&(t&&ot.alternate!==null&&De.delete(ot.key===null?Le:ot.key),F=w(ot,F,Le),Ye===null?we=ot:Ye.sibling=ot,Ye=ot);return t&&De.forEach(function(bT){return n(Q,bT)}),ut&&Va(Q,Le),we}function _t(Q,F,X,oe){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case y:e:{for(var we=X.key;F!==null;){if(F.key===we){if(we=X.type,we===v){if(F.tag===7){a(Q,F.sibling),oe=d(F,X.props.children),oe.return=Q,Q=oe;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&rg(we)===F.type){a(Q,F.sibling),oe=d(F,X.props),Bo(oe,X),oe.return=Q,Q=oe;break e}a(Q,F);break}else n(Q,F);F=F.sibling}X.type===v?(oe=Ma(X.props.children,Q.mode,oe,X.key),oe.return=Q,Q=oe):(oe=lu(X.type,X.key,X.props,null,Q.mode,oe),Bo(oe,X),oe.return=Q,Q=oe)}return N(Q);case b:e:{for(we=X.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){a(Q,F.sibling),oe=d(F,X.children||[]),oe.return=Q,Q=oe;break e}else{a(Q,F);break}else n(Q,F);F=F.sibling}oe=Tf(X,Q.mode,oe),oe.return=Q,Q=oe}return N(Q);case S:return we=X._init,X=we(X._payload),_t(Q,F,X,oe)}if(pe(X))return Ue(Q,F,X,oe);if($(X)){if(we=$(X),typeof we!="function")throw Error(s(150));return X=we.call(X),Ve(Q,F,X,oe)}if(typeof X.then=="function")return _t(Q,F,Au(X),oe);if(X.$$typeof===D)return _t(Q,F,hu(Q,X),oe);Ru(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(a(Q,F.sibling),oe=d(F,X),oe.return=Q,Q=oe):(a(Q,F),oe=Ef(X,Q.mode,oe),oe.return=Q,Q=oe),N(Q)):a(Q,F)}return function(Q,F,X,oe){try{$o=0;var we=_t(Q,F,X,oe);return Ds=null,we}catch(De){if(De===Mo||De===mu)throw De;var Ye=Ln(29,De,null,Q.mode);return Ye.lanes=oe,Ye.return=Q,Ye}finally{}}}var Os=ig(!0),ag=ig(!1),ar=ne(null),kr=null;function Pi(t){var n=t.alternate;ce(Ft,Ft.current&1),ce(ar,t),kr===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(kr=t)}function sg(t){if(t.tag===22){if(ce(Ft,Ft.current),ce(ar,t),kr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(kr=t)}}else Ui()}function Ui(){ce(Ft,Ft.current),ce(ar,ar.current)}function hi(t){de(ar),kr===t&&(kr=null),de(Ft)}var Ft=ne(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function th(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=zn(),d=ki(l);d.payload=n,a!=null&&(d.callback=a),n=Li(t,d,l),n!==null&&($n(n,t,l),Vo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=zn(),d=ki(l);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=Li(t,d,l),n!==null&&($n(n,t,l),Vo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=zn(),l=ki(a);l.tag=2,n!=null&&(l.callback=n),n=Li(t,l,a),n!==null&&($n(n,t,a),Vo(n,t,a))}};function og(t,n,a,l,d,w,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,w,N):n.prototype&&n.prototype.isPureReactComponent?!So(a,l)||!So(d,w):!0}function lg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&nh.enqueueReplaceState(n,n.state,null)}function $a(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ug(t){Cu(t)}function cg(t){console.error(t)}function fg(t){Cu(t)}function Du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rh(t,n,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(t,n)},a}function dg(t){return t=ki(t),t.tag=3,t}function mg(t,n,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var w=l.value;t.payload=function(){return d(w)},t.callback=function(){hg(n,a,l)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){hg(n,a,l),typeof d!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function bE(t,n,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Do(n,a,d,!0),a=ar.current,a!==null){switch(a.tag){case 13:return kr===null?xh():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Mf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Dh(t,l,d)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Dh(t,l,d)),!1}throw Error(s(435,a.tag))}return Dh(t,l,d),xh(),!1}if(ut)return n=ar.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Af&&(t=Error(s(422),{cause:l}),Co(tr(t,a)))):(l!==Af&&(n=Error(s(423),{cause:l}),Co(tr(n,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=tr(l,a),d=rh(t.stateNode,l,d),kf(t,d),Ot!==4&&(Ot=2)),!1;var w=Error(s(520),{cause:l});if(w=tr(w,a),Ko===null?Ko=[w]:Ko.push(w),Ot!==4&&(Ot=2),n===null)return!0;l=tr(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=rh(a.stateNode,l,t),kf(a,t),!1;case 1:if(n=a.type,w=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fi===null||!Fi.has(w))))return a.flags|=65536,d&=-d,a.lanes|=d,d=dg(d),mg(d,t,a,l),kf(a,d),!1}a=a.return}while(a!==null);return!1}var pg=Error(s(461)),Zt=!1;function an(t,n,a,l){n.child=t===null?ag(n,null,a,l):Os(n,t.child,a,l)}function gg(t,n,a,l,d){a=a.render;var w=n.ref;if("ref"in l){var N={};for(var P in l)P!=="ref"&&(N[P]=l[P])}else N=l;return Pa(n),l=zf(t,n,a,N,w,d),P=$f(),t!==null&&!Zt?(Bf(t,n,d),di(t,n,d)):(ut&&P&&wf(n),n.flags|=1,an(t,n,l,d),n.child)}function yg(t,n,a,l,d){if(t===null){var w=a.type;return typeof w=="function"&&!bf(w)&&w.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=w,vg(t,n,w,l,d)):(t=lu(a.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(w=t.child,!fh(t,d)){var N=w.memoizedProps;if(a=a.compare,a=a!==null?a:So,a(N,l)&&t.ref===n.ref)return di(t,n,d)}return n.flags|=1,t=si(w,l),t.ref=n.ref,t.return=n,n.child=t}function vg(t,n,a,l,d){if(t!==null){var w=t.memoizedProps;if(So(w,l)&&t.ref===n.ref)if(Zt=!1,n.pendingProps=l=w,fh(t,d))(t.flags&131072)!==0&&(Zt=!0);else return n.lanes=t.lanes,di(t,n,d)}return ih(t,n,a,l,d)}function _g(t,n,a){var l=n.pendingProps,d=l.children,w=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=w!==null?w.baseLanes|a:a,t!==null){for(d=n.child=t.child,w=0;d!==null;)w=w|d.lanes|d.childLanes,d=d.sibling;n.childLanes=w&~l}else n.childLanes=0,n.child=null;return bg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(n,w!==null?w.cachePool:null),w!==null?vp(n,w):jf(),sg(n);else return n.lanes=n.childLanes=536870912,bg(t,n,w!==null?w.baseLanes|a:a,a)}else w!==null?(du(n,w.cachePool),vp(n,w),Ui(),n.memoizedState=null):(t!==null&&du(n,null),jf(),Ui());return an(t,n,d,a),n.child}function bg(t,n,a,l){var d=If();return d=d===null?null:{parent:Ht._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&du(n,null),jf(),sg(n),t!==null&&Do(t,n,l,!0),null}function Ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ih(t,n,a,l,d){return Pa(n),a=zf(t,n,a,l,void 0,d),l=$f(),t!==null&&!Zt?(Bf(t,n,d),di(t,n,d)):(ut&&l&&wf(n),n.flags|=1,an(t,n,a,d),n.child)}function Eg(t,n,a,l,d,w){return Pa(n),n.updateQueue=null,a=bp(n,l,a,d),_p(t),l=$f(),t!==null&&!Zt?(Bf(t,n,w),di(t,n,w)):(ut&&l&&wf(n),n.flags|=1,an(t,n,a,w),n.child)}function Tg(t,n,a,l,d){if(Pa(n),n.stateNode===null){var w=bs,N=a.contextType;typeof N=="object"&&N!==null&&(w=mn(N)),w=new a(l,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=nh,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=l,w.state=n.memoizedState,w.refs={},Nf(n),N=a.contextType,w.context=typeof N=="object"&&N!==null?mn(N):bs,w.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(th(n,a,N,l),w.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&nh.enqueueReplaceState(w,w.state,null),Lo(n,l,w,d),ko(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){w=n.stateNode;var P=n.memoizedProps,q=$a(a,P);w.props=q;var J=w.context,ae=a.contextType;N=bs,typeof ae=="object"&&ae!==null&&(N=mn(ae));var ue=a.getDerivedStateFromProps;ae=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||J!==N)&&lg(n,w,l,N),Vi=!1;var ee=n.memoizedState;w.state=ee,Lo(n,l,w,d),ko(),J=n.memoizedState,P||ee!==J||Vi?(typeof ue=="function"&&(th(n,a,ue,l),J=n.memoizedState),(q=Vi||og(n,a,q,l,ee,J,N))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=J),w.props=l,w.state=J,w.context=N,l=q):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,Vf(t,n),N=n.memoizedProps,ae=$a(a,N),w.props=ae,ue=n.pendingProps,ee=w.context,J=a.contextType,q=bs,typeof J=="object"&&J!==null&&(q=mn(J)),P=a.getDerivedStateFromProps,(J=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==ue||ee!==q)&&lg(n,w,l,q),Vi=!1,ee=n.memoizedState,w.state=ee,Lo(n,l,w,d),ko();var te=n.memoizedState;N!==ue||ee!==te||Vi||t!==null&&t.dependencies!==null&&fu(t.dependencies)?(typeof P=="function"&&(th(n,a,P,l),te=n.memoizedState),(ae=Vi||og(n,a,ae,l,ee,te,q)||t!==null&&t.dependencies!==null&&fu(t.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,te,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,te,q)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=te),w.props=l,w.state=te,w.context=q,l=ae):(typeof w.componentDidUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),l=!1)}return w=l,Ou(t,n),l=(n.flags&128)!==0,w||l?(w=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,t!==null&&l?(n.child=Os(n,t.child,null,d),n.child=Os(n,null,a,d)):an(t,n,a,d),n.memoizedState=w.state,t=n.child):t=di(t,n,d),t}function wg(t,n,a,l){return xo(),n.flags|=256,an(t,n,a,l),n.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sh(t){return{baseLanes:t,cachePool:cp()}}function oh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=sr),t}function Sg(t,n,a){var l=n.pendingProps,d=!1,w=(n.flags&128)!==0,N;if((N=w)||(N=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),N&&(d=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,t===null){if(ut){if(d?Pi(n):Ui(),ut){var P=Dt,q;if(q=P){e:{for(q=P,P=Vr;q.nodeType!==8;){if(!P){P=null;break e}if(q=gr(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(n.memoizedState={dehydrated:P,treeContext:Na!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},q=Ln(18,null,null,0),q.stateNode=P,q.return=n,n.child=q,An=n,Dt=null,q=!0):q=!1}q||La(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Hh(P)?n.lanes=32:n.lanes=536870912,null;hi(n)}return P=l.children,l=l.fallback,d?(Ui(),d=n.mode,P=Iu({mode:"hidden",children:P},d),l=Ma(l,d,a,null),P.return=n,l.return=n,P.sibling=l,n.child=P,d=n.child,d.memoizedState=sh(a),d.childLanes=oh(t,N,a),n.memoizedState=ah,l):(Pi(n),lh(n,P))}if(q=t.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(w)n.flags&256?(Pi(n),n.flags&=-257,n=uh(t,n,a)):n.memoizedState!==null?(Ui(),n.child=t.child,n.flags|=128,n=null):(Ui(),d=l.fallback,P=n.mode,l=Iu({mode:"visible",children:l.children},P),d=Ma(d,P,a,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,Os(n,t.child,null,a),l=n.child,l.memoizedState=sh(a),l.childLanes=oh(t,N,a),n.memoizedState=ah,n=d);else if(Pi(n),Hh(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var J=N.dgst;N=J,l=Error(s(419)),l.stack="",l.digest=N,Co({value:l,source:null,stack:null}),n=uh(t,n,a)}else if(Zt||Do(t,n,a,!1),N=(a&t.childLanes)!==0,Zt||N){if(N=wt,N!==null&&(l=a&-a,l=(l&42)!==0?1:Sr(l),l=(l&(N.suspendedLanes|a))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,_s(t,l),$n(N,t,l),pg;P.data==="$?"||xh(),n=uh(t,n,a)}else P.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=q.treeContext,Dt=gr(P.nextSibling),An=n,ut=!0,ka=null,Vr=!1,t!==null&&(rr[ir++]=oi,rr[ir++]=li,rr[ir++]=Na,oi=t.id,li=t.overflow,Na=n),n=lh(n,l.children),n.flags|=4096);return n}return d?(Ui(),d=l.fallback,P=n.mode,q=t.child,J=q.sibling,l=si(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,J!==null?d=si(J,d):(d=Ma(d,P,a,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,P=t.child.memoizedState,P===null?P=sh(a):(q=P.cachePool,q!==null?(J=Ht._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=cp(),P={baseLanes:P.baseLanes|a,cachePool:q}),d.memoizedState=P,d.childLanes=oh(t,N,a),n.memoizedState=ah,l):(Pi(n),a=t.child,t=a.sibling,a=si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(N=n.deletions,N===null?(n.deletions=[t],n.flags|=16):N.push(t)),n.child=a,n.memoizedState=null,a)}function lh(t,n){return n=Iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Iu(t,n){return t=Ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function uh(t,n,a){return Os(n,t.child,null,a),t=lh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ag(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xf(t.return,n,a)}function ch(t,n,a,l,d){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=d)}function Rg(t,n,a){var l=n.pendingProps,d=l.revealOrder,w=l.tail;if(an(t,n,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,a,n);else if(t.tag===19)Ag(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Ft,l),d){case"forwards":for(a=n.child,d=null;a!==null;)t=a.alternate,t!==null&&xu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),ch(n,!1,d,a,w);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&xu(t)===null){n.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}ch(n,!0,a,null,w);break;case"together":ch(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Do(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fu(t)))}function EE(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Ni(n,Ht,t.memoizedState.cache),xo();break;case 27:case 5:St(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sg(t,n,a):(Pi(n),t=di(t,n,a),t!==null?t.sibling:null);Pi(n);break;case 19:var d=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Do(t,n,a,!1),l=(a&n.childLanes)!==0),d){if(l)return Rg(t,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(Ft,Ft.current),l)break;return null;case 22:case 23:return n.lanes=0,_g(t,n,a);case 24:Ni(n,Ht,t.memoizedState.cache)}return di(t,n,a)}function xg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Zt=!0;else{if(!fh(t,a)&&(n.flags&128)===0)return Zt=!1,EE(t,n,a);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(n.flags&1048576)!==0&&rp(n,cu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")bf(l)?(t=$a(l,t),n.tag=1,n=Tg(null,n,l,t,a)):(n.tag=0,n=ih(null,n,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===V){n.tag=11,n=gg(null,n,l,t,a);break e}else if(d===I){n.tag=14,n=yg(null,n,l,t,a);break e}}throw n=he(l)||l,Error(s(306,n,""))}}return n;case 0:return ih(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,d=$a(l,n.pendingProps),Tg(t,n,l,d,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var w=n.memoizedState;d=w.element,Vf(t,n),Lo(n,l,null,a);var N=n.memoizedState;if(l=N.cache,Ni(n,Ht,l),l!==w.cache&&Cf(n,[Ht],a,!0),ko(),l=N.element,w.isDehydrated)if(w={element:l,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=wg(t,n,l,a);break e}else if(l!==d){d=tr(Error(s(424)),n),Co(d),n=wg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=gr(t.firstChild),An=n,ut=!0,ka=null,Vr=!0,a=ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xo(),l===d){n=di(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Ou(t,n),t===null?(a=Iy(n.type,null,n.pendingProps,null))?n.memoizedState=a:ut||(a=n.type,t=n.pendingProps,l=Fu(xe.current).createElement(a),l[le]=n,l[ge]=t,on(l,a,t),et(l),n.stateNode=l):n.memoizedState=Iy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return St(n),t===null&&ut&&(l=n.stateNode=Cy(n.type,n.pendingProps,xe.current),An=n,Vr=!0,d=Dt,Yi(n.type)?(Fh=d,Dt=gr(l.firstChild)):Dt=d),an(t,n,n.pendingProps.children,a),Ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ut&&((d=l=Dt)&&(l=KE(l,n.type,n.pendingProps,Vr),l!==null?(n.stateNode=l,An=n,Dt=gr(l.firstChild),Vr=!1,d=!0):d=!1),d||La(n)),St(n),d=n.type,w=n.pendingProps,N=t!==null?t.memoizedProps:null,l=w.children,$h(d,w)?l=null:N!==null&&$h(d,N)&&(n.flags|=32),n.memoizedState!==null&&(d=zf(t,n,dE,null,null,a),il._currentValue=d),Ou(t,n),an(t,n,l,a),n.child;case 6:return t===null&&ut&&((t=a=Dt)&&(a=XE(a,n.pendingProps,Vr),a!==null?(n.stateNode=a,An=n,Dt=null,t=!0):t=!1),t||La(n)),null;case 13:return Sg(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Os(n,null,l,a):an(t,n,l,a),n.child;case 11:return gg(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ni(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Pa(n),d=mn(d),l=l(d),n.flags|=1,an(t,n,l,a),n.child;case 14:return yg(t,n,n.type,n.pendingProps,a);case 15:return vg(t,n,n.type,n.pendingProps,a);case 19:return Rg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Iu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=si(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return _g(t,n,a);case 24:return Pa(n),l=mn(Ht),t===null?(d=If(),d===null&&(d=wt,w=Df(),d.pooledCache=w,w.refCount++,w!==null&&(d.pooledCacheLanes|=a),d=w),n.memoizedState={parent:l,cache:d},Nf(n),Ni(n,Ht,d)):((t.lanes&a)!==0&&(Vf(t,n),Lo(n,null,null,a),ko()),d=t.memoizedState,w=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ni(n,Ht,l)):(l=w.cache,Ni(n,Ht,l),l!==d.cache&&Cf(n,[Ht],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function mi(t){t.flags|=4}function Cg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ly(n)){if(n=ar.current,n!==null&&((rt&4194048)===rt?kr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||n!==kr))throw No=Mf,fp;t.flags|=8192}}function Mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?va():536870912,t.lanes|=n,Vs|=n)}function qo(t,n){if(!ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function TE(t,n,a){var l=n.pendingProps;switch(Sf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ci(Ht),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ro(n)?mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sp())),xt(n),null;case 26:return a=n.memoizedState,t===null?(mi(n),a!==null?(xt(n),Cg(n,a)):(xt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(mi(n),xt(n),Cg(n,a)):(xt(n),n.flags&=-16777217):(t.memoizedProps!==l&&mi(n),xt(n),n.flags&=-16777217),null;case 27:fn(n),a=xe.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}t=_e.current,Ro(n)?ip(n):(t=Cy(d,l,a),n.stateNode=t,mi(n))}return xt(n),null;case 5:if(fn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}if(t=_e.current,Ro(n))ip(n);else{switch(d=Fu(xe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[le]=n,t[ge]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(on(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&mi(n)}}return xt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=xe.current,Ro(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,d=An,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[le]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ey(t.nodeValue,a)),t||La(n)}else t=Fu(t).createTextNode(l),t[le]=n,n.stateNode=t}return xt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ro(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[le]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),d=!1}else d=sp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(hi(n),n):(hi(n),null)}if(hi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var w=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==d&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Mu(n,n.updateQueue),xt(n),null;case 4:return Hn(),t===null&&Lh(n.stateNode.containerInfo),xt(n),null;case 10:return ci(n.type),xt(n),null;case 19:if(de(Ft),d=n.memoizedState,d===null)return xt(n),null;if(l=(n.flags&128)!==0,w=d.rendering,w===null)if(l)qo(d,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=xu(t),w!==null){for(n.flags|=128,qo(d,!1),t=w.updateQueue,n.updateQueue=t,Mu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)np(a,t),a=a.sibling;return ce(Ft,Ft.current&1|2),n.child}t=t.sibling}d.tail!==null&&bn()>ku&&(n.flags|=128,l=!0,qo(d,!1),n.lanes=4194304)}else{if(!l)if(t=xu(w),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Mu(n,t),qo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!ut)return xt(n),null}else 2*bn()-d.renderingStartTime>ku&&a!==536870912&&(n.flags|=128,l=!0,qo(d,!1),n.lanes=4194304);d.isBackwards?(w.sibling=n.child,n.child=w):(t=d.last,t!==null?t.sibling=w:n.child=w,d.last=w)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=bn(),n.sibling=null,t=Ft.current,ce(Ft,l?t&1|2:t&1),n):(xt(n),null);case 22:case 23:return hi(n),Pf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),a=n.updateQueue,a!==null&&Mu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&de(Ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ci(Ht),xt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function wE(t,n){switch(Sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ci(Ht),Hn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fn(n),null;case 13:if(hi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return de(Ft),null;case 4:return Hn(),null;case 10:return ci(n.type),null;case 22:case 23:return hi(n),Pf(),t!==null&&de(Ua),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ci(Ht),null;case 25:return null;default:return null}}function Dg(t,n){switch(Sf(n),n.tag){case 3:ci(Ht),Hn();break;case 26:case 27:case 5:fn(n);break;case 4:Hn();break;case 13:hi(n);break;case 19:de(Ft);break;case 10:ci(n.type);break;case 22:case 23:hi(n),Pf(),t!==null&&de(Ua);break;case 24:ci(Ht)}}function Ho(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var w=a.create,N=a.inst;l=w(),N.destroy=l}a=a.next}while(a!==d)}}catch(P){Et(n,n.return,P)}}function zi(t,n,a){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var w=d.next;l=w;do{if((l.tag&t)===t){var N=l.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,d=n;var q=a,J=P;try{J()}catch(ae){Et(d,q,ae)}}}l=l.next}while(l!==w)}}catch(ae){Et(n,n.return,ae)}}function Og(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yp(n,a)}catch(l){Et(t,t.return,l)}}}function Ig(t,n,a){a.props=$a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Et(t,n,l)}}function Fo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Et(t,n,d)}}function Lr(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Et(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Et(t,n,d)}else a.current=null}function Mg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Et(t,t.return,d)}}function hh(t,n,a){try{var l=t.stateNode;HE(l,t.type,a,n),l[ge]=n}catch(d){Et(t,t.return,d)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function dh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(mh(t,n,a),t=t.sibling;t!==null;)mh(t,n,a),t=t.sibling}function Nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,n,a),t=t.sibling;t!==null;)Nu(t,n,a),t=t.sibling}function Vg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);on(n,l,a),n[le]=t,n[ge]=a}catch(w){Et(t,t.return,w)}}var pi=!1,Mt=!1,ph=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function SE(t,n){if(t=t.containerInfo,Uh=Zu,t=Gm(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,w=l.focusNode;l=l.focusOffset;try{a.nodeType,w.nodeType}catch{a=null;break e}var N=0,P=-1,q=-1,J=0,ae=0,ue=t,ee=null;t:for(;;){for(var te;ue!==a||d!==0&&ue.nodeType!==3||(P=N+d),ue!==w||l!==0&&ue.nodeType!==3||(q=N+l),ue.nodeType===3&&(N+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===t)break t;if(ee===a&&++J===d&&(P=N),ee===w&&++ae===l&&(q=N),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}a=P===-1||q===-1?null:{start:P,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(zh={focusedElem:t,selectionRange:a},Zu=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,w=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&w!==null){t=void 0,a=n,d=w.memoizedProps,w=w.memoizedState,l=a.stateNode;try{var Ue=$a(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ue,w),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Et(a,a.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)qh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Lg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&Ho(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(N){Et(a,a.return,N)}else{var d=$a(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Et(a,a.return,N)}}l&64&&Og(a),l&512&&Fo(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yp(t,n)}catch(N){Et(a,a.return,N)}}break;case 27:n===null&&l&4&&Vg(a);case 26:case 5:$i(t,a),n===null&&l&4&&Mg(a),l&512&&Fo(a,a.return);break;case 12:$i(t,a);break;case 13:$i(t,a),l&4&&Ug(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=NE.bind(null,a),ZE(t,a))));break;case 22:if(l=a.memoizedState!==null||pi,!l){n=n!==null&&n.memoizedState!==null||Mt,d=pi;var w=Mt;pi=l,(Mt=n)&&!w?Bi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),pi=d,Mt=w}break;case 30:break;default:$i(t,a)}}function jg(t){var n=t.alternate;n!==null&&(t.alternate=null,jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ae(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Cn=!1;function gi(t,n,a){for(a=a.child;a!==null;)Pg(t,n,a),a=a.sibling}function Pg(t,n,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:Mt||Lr(a,n),gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Lr(a,n);var l=At,d=Cn;Yi(a.type)&&(At=a.stateNode,Cn=!1),gi(t,n,a),el(a.stateNode),At=l,Cn=d;break;case 5:Mt||Lr(a,n);case 6:if(l=At,d=Cn,At=null,gi(t,n,a),At=l,Cn=d,At!==null)if(Cn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(w){Et(a,n,w)}else try{At.removeChild(a.stateNode)}catch(w){Et(a,n,w)}break;case 18:At!==null&&(Cn?(t=At,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ll(t)):Ry(At,a.stateNode));break;case 4:l=At,d=Cn,At=a.stateNode.containerInfo,Cn=!0,gi(t,n,a),At=l,Cn=d;break;case 0:case 11:case 14:case 15:Mt||zi(2,a,n),Mt||zi(4,a,n),gi(t,n,a);break;case 1:Mt||(Lr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ig(a,n,l)),gi(t,n,a);break;case 21:gi(t,n,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,gi(t,n,a),Mt=l;break;default:gi(t,n,a)}}function Ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ll(t)}catch(a){Et(n,n.return,a)}}function AE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function gh(t,n){var a=AE(t);n.forEach(function(l){var d=VE.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function jn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],w=t,N=n,P=N;e:for(;P!==null;){switch(P.tag){case 27:if(Yi(P.type)){At=P.stateNode,Cn=!1;break e}break;case 5:At=P.stateNode,Cn=!1;break e;case 3:case 4:At=P.stateNode.containerInfo,Cn=!0;break e}P=P.return}if(At===null)throw Error(s(160));Pg(w,N,d),At=null,Cn=!1,w=d.alternate,w!==null&&(w.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,t),n=n.sibling}var pr=null;function zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(n,t),Pn(t),l&4&&(zi(3,t,t.return),Ho(3,t),zi(5,t,t.return));break;case 1:jn(n,t),Pn(t),l&512&&(Mt||a===null||Lr(a,a.return)),l&64&&pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=pr;if(jn(n,t),Pn(t),l&512&&(Mt||a===null||Lr(a,a.return)),l&4){var w=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":w=d.getElementsByTagName("title")[0],(!w||w[Ne]||w[le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=d.createElement(l),d.head.insertBefore(w,d.querySelector("head > title"))),on(w,l,a),w[le]=t,et(w),l=w;break e;case"link":var N=Vy("link","href",d).get(l+(a.href||""));if(N){for(var P=0;P<N.length;P++)if(w=N[P],w.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&w.getAttribute("rel")===(a.rel==null?null:a.rel)&&w.getAttribute("title")===(a.title==null?null:a.title)&&w.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(P,1);break t}}w=d.createElement(l),on(w,l,a),d.head.appendChild(w);break;case"meta":if(N=Vy("meta","content",d).get(l+(a.content||""))){for(P=0;P<N.length;P++)if(w=N[P],w.getAttribute("content")===(a.content==null?null:""+a.content)&&w.getAttribute("name")===(a.name==null?null:a.name)&&w.getAttribute("property")===(a.property==null?null:a.property)&&w.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&w.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(P,1);break t}}w=d.createElement(l),on(w,l,a),d.head.appendChild(w);break;default:throw Error(s(468,l))}w[le]=t,et(w),l=w}t.stateNode=l}else ky(d,t.type,t.stateNode);else t.stateNode=Ny(d,l,t.memoizedProps);else w!==l?(w===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):w.count--,l===null?ky(d,t.type,t.stateNode):Ny(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hh(t,t.memoizedProps,a.memoizedProps)}break;case 27:jn(n,t),Pn(t),l&512&&(Mt||a===null||Lr(a,a.return)),a!==null&&l&4&&hh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(jn(n,t),Pn(t),l&512&&(Mt||a===null||Lr(a,a.return)),t.flags&32){d=t.stateNode;try{Zn(d,"")}catch(te){Et(t,t.return,te)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,hh(t,d,a!==null?a.memoizedProps:d)),l&1024&&(ph=!0);break;case 6:if(jn(n,t),Pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(te){Et(t,t.return,te)}}break;case 3:if(Yu=null,d=pr,pr=Gu(n.containerInfo),jn(n,t),pr=d,Pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(te){Et(t,t.return,te)}ph&&(ph=!1,$g(t));break;case 4:l=pr,pr=Gu(t.stateNode.containerInfo),jn(n,t),Pn(t),pr=l;break;case 12:jn(n,t),Pn(t);break;case 13:jn(n,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Th=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gh(t,l)));break;case 22:d=t.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,J=pi,ae=Mt;if(pi=J||d,Mt=ae||q,jn(n,t),Mt=ae,pi=J,Pn(t),l&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||q||pi||Mt||Ba(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){q=a=n;try{if(w=q.stateNode,d)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Et(q,q.return,te)}}}else if(n.tag===6){if(a===null){q=n;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(te){Et(q,q.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gh(t,a))));break;case 19:jn(n,t),Pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gh(t,l)));break;case 30:break;case 21:break;default:jn(n,t),Pn(t)}}function Pn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ng(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,w=dh(t);Nu(t,w,d);break;case 5:var N=a.stateNode;a.flags&32&&(Zn(N,""),a.flags&=-33);var P=dh(t);Nu(t,P,N);break;case 3:case 4:var q=a.stateNode.containerInfo,J=dh(t);mh(t,J,q);break;default:throw Error(s(161))}}catch(ae){Et(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function $g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;$g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lg(t,n.alternate,n),n=n.sibling}function Ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),Ba(n);break;case 1:Lr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ig(n,n.return,a),Ba(n);break;case 27:el(n.stateNode);case 26:case 5:Lr(n,n.return),Ba(n);break;case 22:n.memoizedState===null&&Ba(n);break;case 30:Ba(n);break;default:Ba(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,w=n,N=w.flags;switch(w.tag){case 0:case 11:case 15:Bi(d,w,a),Ho(4,w);break;case 1:if(Bi(d,w,a),l=w,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(J){Et(l,l.return,J)}if(l=w,d=l.updateQueue,d!==null){var P=l.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)gp(q[d],P)}catch(J){Et(l,l.return,J)}}a&&N&64&&Og(w),Fo(w,w.return);break;case 27:Vg(w);case 26:case 5:Bi(d,w,a),a&&l===null&&N&4&&Mg(w),Fo(w,w.return);break;case 12:Bi(d,w,a);break;case 13:Bi(d,w,a),a&&N&4&&Ug(d,w);break;case 22:w.memoizedState===null&&Bi(d,w,a),Fo(w,w.return);break;case 30:break;default:Bi(d,w,a)}n=n.sibling}}function yh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Oo(a))}function vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Oo(t))}function jr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(t,n,a,l),n=n.sibling}function Bg(t,n,a,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:jr(t,n,a,l),d&2048&&Ho(9,n);break;case 1:jr(t,n,a,l);break;case 3:jr(t,n,a,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Oo(t)));break;case 12:if(d&2048){jr(t,n,a,l),t=n.stateNode;try{var w=n.memoizedProps,N=w.id,P=w.onPostCommit;typeof P=="function"&&P(N,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Et(n,n.return,q)}}else jr(t,n,a,l);break;case 13:jr(t,n,a,l);break;case 23:break;case 22:w=n.stateNode,N=n.alternate,n.memoizedState!==null?w._visibility&2?jr(t,n,a,l):Go(t,n):w._visibility&2?jr(t,n,a,l):(w._visibility|=2,Is(t,n,a,l,(n.subtreeFlags&10256)!==0)),d&2048&&yh(N,n);break;case 24:jr(t,n,a,l),d&2048&&vh(n.alternate,n);break;default:jr(t,n,a,l)}}function Is(t,n,a,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var w=t,N=n,P=a,q=l,J=N.flags;switch(N.tag){case 0:case 11:case 15:Is(w,N,P,q,d),Ho(8,N);break;case 23:break;case 22:var ae=N.stateNode;N.memoizedState!==null?ae._visibility&2?Is(w,N,P,q,d):Go(w,N):(ae._visibility|=2,Is(w,N,P,q,d)),d&&J&2048&&yh(N.alternate,N);break;case 24:Is(w,N,P,q,d),d&&J&2048&&vh(N.alternate,N);break;default:Is(w,N,P,q,d)}n=n.sibling}}function Go(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,d=l.flags;switch(l.tag){case 22:Go(a,l),d&2048&&yh(l.alternate,l);break;case 24:Go(a,l),d&2048&&vh(l.alternate,l);break;default:Go(a,l)}n=n.sibling}}var Qo=8192;function Ms(t){if(t.subtreeFlags&Qo)for(t=t.child;t!==null;)qg(t),t=t.sibling}function qg(t){switch(t.tag){case 26:Ms(t),t.flags&Qo&&t.memoizedState!==null&&cT(pr,t.memoizedState,t.memoizedProps);break;case 5:Ms(t);break;case 3:case 4:var n=pr;pr=Gu(t.stateNode.containerInfo),Ms(t),pr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Qo,Qo=16777216,Ms(t),Qo=n):Ms(t));break;default:Ms(t)}}function Hg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Gg(l,t)}Hg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fg(t),t=t.sibling}function Fg(t){switch(t.tag){case 0:case 11:case 15:Yo(t),t.flags&2048&&zi(9,t,t.return);break;case 3:Yo(t);break;case 12:Yo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Vu(t)):Yo(t);break;default:Yo(t)}}function Vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Gg(l,t)}Hg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zi(8,n,n.return),Vu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Vu(n));break;default:Vu(n)}t=t.sibling}}function Gg(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Oo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var d=l.sibling,w=l.return;if(jg(l),l===a){Jt=null;break e}if(d!==null){d.return=w,Jt=d;break e}Jt=w}}}var RE={getCacheForType:function(t){var n=mn(Ht),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},xE=typeof WeakMap=="function"?WeakMap:Map,dt=0,wt=null,Xe=null,rt=0,mt=0,Un=null,qi=!1,Ns=!1,_h=!1,yi=0,Ot=0,Hi=0,qa=0,bh=0,sr=0,Vs=0,Ko=null,Dn=null,Eh=!1,Th=0,ku=1/0,Lu=null,Fi=null,sn=0,Gi=null,ks=null,Ls=0,wh=0,Sh=null,Qg=null,Xo=0,Ah=null;function zn(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=ws;return t!==0?t:Mh()}return H()}function Yg(){sr===0&&(sr=(rt&536870912)===0||ut?Zr():536870912);var t=ar.current;return t!==null&&(t.flags|=32),sr}function $n(t,n,a){(t===wt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(js(t,0),Qi(t,rt,sr,!1)),hr(t,a),((dt&2)===0||t!==wt)&&(t===wt&&((dt&2)===0&&(qa|=a),Ot===4&&Qi(t,rt,sr,!1)),Pr(t))}function Kg(t,n,a){if((dt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Qn(t,n),d=l?OE(t,n):Ch(t,n,!0),w=l;do{if(d===0){Ns&&!l&&Qi(t,n,0,!1);break}else{if(a=t.current.alternate,w&&!CE(a)){d=Ch(t,n,!1),w=!1;continue}if(d===2){if(w=n,t.errorRecoveryDisabledLanes&w)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var P=t;d=Ko;var q=P.current.memoizedState.isDehydrated;if(q&&(js(P,N).flags|=256),N=Ch(P,N,!1),N!==2){if(_h&&!q){P.errorRecoveryDisabledLanes|=w,qa|=w,d=4;break e}w=Dn,Dn=d,w!==null&&(Dn===null?Dn=w:Dn.push.apply(Dn,w))}d=N}if(w=!1,d!==2)continue}}if(d===1){js(t,0),Qi(t,n,0,!0);break}e:{switch(l=t,w=d,w){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qi(l,n,sr,!qi);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=Th+300-bn(),10<d)){if(Qi(l,n,sr,!qi),Xr(l,0,!0)!==0)break e;l.timeoutHandle=Sy(Xg.bind(null,l,a,Dn,Lu,Eh,n,sr,qa,Vs,qi,w,2,-0,0),d);break e}Xg(l,a,Dn,Lu,Eh,n,sr,qa,Vs,qi,w,0,-0,0)}}break}while(!0);Pr(t)}function Xg(t,n,a,l,d,w,N,P,q,J,ae,ue,ee,te){if(t.timeoutHandle=-1,ue=n.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:uT},qg(n),ue=fT(),ue!==null)){t.cancelPendingCommit=ue(ry.bind(null,t,n,w,a,l,d,N,P,q,ae,1,ee,te)),Qi(t,w,N,!J);return}ry(t,n,w,a,l,d,N,P,q)}function CE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],w=d.getSnapshot;d=d.value;try{if(!kn(w(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(t,n,a,l){n&=~bh,n&=~qa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var w=31-kt(d),N=1<<w;l[w]=-1,d&=~N}a!==0&&En(t,a,n)}function ju(){return(dt&6)===0?(Zo(0),!1):!0}function Rh(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,ui=ja=null,qf(t),Ds=null,$o=0,t=Xe;for(;t!==null;)Dg(t.alternate,t),t=t.return;Xe=null}}function js(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,GE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rh(),wt=t,Xe=a=si(t.current,null),rt=n,mt=0,Un=null,qi=!1,Ns=Qn(t,n),_h=!1,Vs=sr=bh=qa=Hi=Ot=0,Dn=Ko=null,Eh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-kt(l),w=1<<d;n|=t[d],l&=~w}return yi=n,au(),a}function Zg(t,n){Fe=null,G.H=Su,n===Mo||n===mu?(n=mp(),mt=3):n===fp?(n=mp(),mt=4):mt=n===pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Xe===null&&(Ot=1,Du(t,tr(n,t.current)))}function Jg(){var t=G.H;return G.H=Su,t===null?Su:t}function Wg(){var t=G.A;return G.A=RE,t}function xh(){Ot=4,qi||(rt&4194048)!==rt&&ar.current!==null||(Ns=!0),(Hi&134217727)===0&&(qa&134217727)===0||wt===null||Qi(wt,rt,sr,!1)}function Ch(t,n,a){var l=dt;dt|=2;var d=Jg(),w=Wg();(wt!==t||rt!==n)&&(Lu=null,js(t,n)),n=!1;var N=Ot;e:do try{if(mt!==0&&Xe!==null){var P=Xe,q=Un;switch(mt){case 8:Rh(),N=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(n=!0);var J=mt;if(mt=0,Un=null,Ps(t,P,q,J),a&&Ns){N=0;break e}break;default:J=mt,mt=0,Un=null,Ps(t,P,q,J)}}DE(),N=Ot;break}catch(ae){Zg(t,ae)}while(!0);return n&&t.shellSuspendCounter++,ui=ja=null,dt=l,G.H=d,G.A=w,Xe===null&&(wt=null,rt=0,au()),N}function DE(){for(;Xe!==null;)ey(Xe)}function OE(t,n){var a=dt;dt|=2;var l=Jg(),d=Wg();wt!==t||rt!==n?(Lu=null,ku=bn()+500,js(t,n)):Ns=Qn(t,n);e:do try{if(mt!==0&&Xe!==null){n=Xe;var w=Un;t:switch(mt){case 1:mt=0,Un=null,Ps(t,n,w,1);break;case 2:case 9:if(hp(w)){mt=0,Un=null,ty(n);break}n=function(){mt!==2&&mt!==9||wt!==t||(mt=7),Pr(t)},w.then(n,n);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:hp(w)?(mt=0,Un=null,ty(n)):(mt=0,Un=null,Ps(t,n,w,7));break;case 5:var N=null;switch(Xe.tag){case 26:N=Xe.memoizedState;case 5:case 27:var P=Xe;if(!N||Ly(N)){mt=0,Un=null;var q=P.sibling;if(q!==null)Xe=q;else{var J=P.return;J!==null?(Xe=J,Pu(J)):Xe=null}break t}}mt=0,Un=null,Ps(t,n,w,5);break;case 6:mt=0,Un=null,Ps(t,n,w,6);break;case 8:Rh(),Ot=6;break e;default:throw Error(s(462))}}IE();break}catch(ae){Zg(t,ae)}while(!0);return ui=ja=null,G.H=l,G.A=d,dt=a,Xe!==null?0:(wt=null,rt=0,au(),Ot)}function IE(){for(;Xe!==null&&!ga();)ey(Xe)}function ey(t){var n=xg(t.alternate,t,yi);t.memoizedProps=t.pendingProps,n===null?Pu(t):Xe=n}function ty(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Eg(a,n,n.pendingProps,n.type,void 0,rt);break;case 11:n=Eg(a,n,n.pendingProps,n.type.render,n.ref,rt);break;case 5:qf(n);default:Dg(a,n),n=Xe=np(n,yi),n=xg(a,n,yi)}t.memoizedProps=t.pendingProps,n===null?Pu(t):Xe=n}function Ps(t,n,a,l){ui=ja=null,qf(n),Ds=null,$o=0;var d=n.return;try{if(bE(t,d,n,a,rt)){Ot=1,Du(t,tr(a,t.current)),Xe=null;return}}catch(w){if(d!==null)throw Xe=d,w;Ot=1,Du(t,tr(a,t.current)),Xe=null;return}n.flags&32768?(ut||l===1?t=!0:Ns||(rt&536870912)!==0?t=!1:(qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=ar.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):Pu(n)}function Pu(t){var n=t;do{if((n.flags&32768)!==0){ny(n,qi);return}t=n.return;var a=TE(n.alternate,n,yi);if(a!==null){Xe=a;return}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=t}while(n!==null);Ot===0&&(Ot=5)}function ny(t,n){do{var a=wE(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);Ot=6,Xe=null}function ry(t,n,a,l,d,w,N,P,q){t.cancelPendingCommit=null;do Uu();while(sn!==0);if((dt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(w=n.lanes|n.childLanes,w|=vf,Ci(t,a,w,N,P,q),t===wt&&(Xe=wt=null,rt=0),ks=n,Gi=t,Ls=a,wh=w,Sh=d,Qg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kE(Kr,function(){return ly(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,d=se.p,se.p=2,N=dt,dt|=4;try{SE(t,n,a)}finally{dt=N,se.p=d,G.T=l}}sn=1,iy(),ay(),sy()}}function iy(){if(sn===1){sn=0;var t=Gi,n=ks,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var d=dt;dt|=4;try{zg(n,t);var w=zh,N=Gm(t.containerInfo),P=w.focusedElem,q=w.selectionRange;if(N!==P&&P&&P.ownerDocument&&Fm(P.ownerDocument.documentElement,P)){if(q!==null&&df(P)){var J=q.start,ae=q.end;if(ae===void 0&&(ae=J),"selectionStart"in P)P.selectionStart=J,P.selectionEnd=Math.min(ae,P.value.length);else{var ue=P.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ue=P.textContent.length,Ve=Math.min(q.start,Ue),_t=q.end===void 0?Ve:Math.min(q.end,Ue);!te.extend&&Ve>_t&&(N=_t,_t=Ve,Ve=N);var Q=Hm(P,Ve),F=Hm(P,_t);if(Q&&F&&(te.rangeCount!==1||te.anchorNode!==Q.node||te.anchorOffset!==Q.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var X=ue.createRange();X.setStart(Q.node,Q.offset),te.removeAllRanges(),Ve>_t?(te.addRange(X),te.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),te.addRange(X))}}}}for(ue=[],te=P;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var oe=ue[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Zu=!!Uh,zh=Uh=null}finally{dt=d,se.p=l,G.T=a}}t.current=n,sn=2}}function ay(){if(sn===2){sn=0;var t=Gi,n=ks,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var d=dt;dt|=4;try{Lg(t,n.alternate,n)}finally{dt=d,se.p=l,G.T=a}}sn=3}}function sy(){if(sn===4||sn===3){sn=0,is();var t=Gi,n=ks,a=Ls,l=Qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,ks=Gi=null,oy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Fi=null),Di(a),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,d=se.p,se.p=2,G.T=null;try{for(var w=t.onRecoverableError,N=0;N<l.length;N++){var P=l[N];w(P.value,{componentStack:P.stack})}}finally{G.T=n,se.p=d}}(Ls&3)!==0&&Uu(),Pr(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Ah?Xo++:(Xo=0,Ah=t):Xo=0,Zo(0)}}function oy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Oo(n)))}function Uu(t){return iy(),ay(),sy(),ly()}function ly(){if(sn!==5)return!1;var t=Gi,n=wh;wh=0;var a=Di(Ls),l=G.T,d=se.p;try{se.p=32>a?32:a,G.T=null,a=Sh,Sh=null;var w=Gi,N=Ls;if(sn=0,ks=Gi=null,Ls=0,(dt&6)!==0)throw Error(s(331));var P=dt;if(dt|=4,Fg(w.current),Bg(w,w.current,N,a),dt=P,Zo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,w)}catch{}return!0}finally{se.p=d,G.T=l,oy(t,n)}}function uy(t,n,a){n=tr(a,n),n=rh(t.stateNode,n,2),t=Li(t,n,2),t!==null&&(hr(t,2),Pr(t))}function Et(t,n,a){if(t.tag===3)uy(t,t,a);else for(;n!==null;){if(n.tag===3){uy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fi===null||!Fi.has(l))){t=tr(a,t),a=dg(2),l=Li(n,a,2),l!==null&&(mg(a,l,n,t),hr(l,2),Pr(l));break}}n=n.return}}function Dh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xE;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(_h=!0,d.add(a),t=ME.bind(null,t,n,a),n.then(t,t))}function ME(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,wt===t&&(rt&a)===a&&(Ot===4||Ot===3&&(rt&62914560)===rt&&300>bn()-Th?(dt&2)===0&&js(t,0):bh|=a,Vs===rt&&(Vs=0)),Pr(t)}function cy(t,n){n===0&&(n=va()),t=_s(t,n),t!==null&&(hr(t,n),Pr(t))}function NE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),cy(t,a)}function VE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),cy(t,a)}function kE(t,n){return Yr(t,n)}var zu=null,Us=null,Oh=!1,$u=!1,Ih=!1,Ha=0;function Pr(t){t!==Us&&t.next===null&&(Us===null?zu=Us=t:Us=Us.next=t),$u=!0,Oh||(Oh=!0,jE())}function Zo(t,n){if(!Ih&&$u){Ih=!0;do for(var a=!1,l=zu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var w=0;else{var N=l.suspendedLanes,P=l.pingedLanes;w=(1<<31-kt(42|t)+1)-1,w&=d&~(N&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(a=!0,my(l,w))}else w=rt,w=Xr(l,l===wt?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(w&3)===0||Qn(l,w)||(a=!0,my(l,w));l=l.next}while(a);Ih=!1}}function LE(){fy()}function fy(){$u=Oh=!1;var t=0;Ha!==0&&(FE()&&(t=Ha),Ha=0);for(var n=bn(),a=null,l=zu;l!==null;){var d=l.next,w=hy(l,n);w===0?(l.next=null,a===null?zu=d:a.next=d,d===null&&(Us=a)):(a=l,(t!==0||(w&3)!==0)&&($u=!0)),l=d}Zo(t)}function hy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var N=31-kt(w),P=1<<N,q=d[N];q===-1?((P&a)===0||(P&l)!==0)&&(d[N]=xi(P,n)):q<=n&&(t.expiredLanes|=P),w&=~P}if(n=wt,a=rt,a=Xr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&_n(l),Di(a)){case 2:case 8:a=Si;break;case 32:a=Kr;break;case 268435456:a=Fn;break;default:a=Kr}return l=dy.bind(null,t),a=Yr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uu()&&t.callbackNode!==a)return null;var l=rt;return l=Xr(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kg(t,l,n),hy(t,bn()),t.callbackNode!=null&&t.callbackNode===a?dy.bind(null,t):null)}function my(t,n){if(Uu())return null;Kg(t,n,!0)}function jE(){QE(function(){(dt&6)!==0?Yr(ya,LE):fy()})}function Mh(){return Ha===0&&(Ha=Zr()),Ha}function py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function gy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function PE(t,n,a,l,d){if(n==="submit"&&a&&a.stateNode===d){var w=py((d[ge]||null).action),N=l.submitter;N&&(n=(n=N[ge]||null)?py(n.formAction):N.getAttribute("formAction"),n!==null&&(w=n,N=null));var P=new ls("action","action",null,l,d);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ha!==0){var q=N?gy(d,N):new FormData(d);Jf(a,{pending:!0,data:q,method:d.method,action:w},null,q)}}else typeof w=="function"&&(P.preventDefault(),q=N?gy(d,N):new FormData(d),Jf(a,{pending:!0,data:q,method:d.method,action:w},w,q))},currentTarget:d}]})}}for(var Nh=0;Nh<yf.length;Nh++){var Vh=yf[Nh],UE=Vh.toLowerCase(),zE=Vh[0].toUpperCase()+Vh.slice(1);mr(UE,"on"+zE)}mr(Km,"onAnimationEnd"),mr(Xm,"onAnimationIteration"),mr(Zm,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(rE,"onTransitionRun"),mr(iE,"onTransitionStart"),mr(aE,"onTransitionCancel"),mr(Jm,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function yy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var w=void 0;if(n)for(var N=l.length-1;0<=N;N--){var P=l[N],q=P.instance,J=P.currentTarget;if(P=P.listener,q!==w&&d.isPropagationStopped())break e;w=P,d.currentTarget=J;try{w(d)}catch(ae){Cu(ae)}d.currentTarget=null,w=q}else for(N=0;N<l.length;N++){if(P=l[N],q=P.instance,J=P.currentTarget,P=P.listener,q!==w&&d.isPropagationStopped())break e;w=P,d.currentTarget=J;try{w(d)}catch(ae){Cu(ae)}d.currentTarget=null,w=q}}}}function Ze(t,n){var a=n[Ie];a===void 0&&(a=n[Ie]=new Set);var l=t+"__bubble";a.has(l)||(vy(n,t,2,!1),a.add(l))}function kh(t,n,a){var l=0;n&&(l|=4),vy(a,t,l,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[Bu]){t[Bu]=!0,Qe.forEach(function(a){a!=="selectionchange"&&($E.has(a)||kh(a,!1,t),kh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,kh("selectionchange",!1,n))}}function vy(t,n,a,l){switch(By(n)){case 2:var d=mT;break;case 8:d=pT;break;default:d=Xh}a=d.bind(null,n,a,t),d=void 0,!Wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,a,{capture:!0,passive:d}):t.addEventListener(n,a,!0):d!==void 0?t.addEventListener(n,a,{passive:d}):t.addEventListener(n,a,!1)}function jh(t,n,a,l,d){var w=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var P=l.stateNode.containerInfo;if(P===d)break;if(N===4)for(N=l.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===d)return;N=N.return}for(;P!==null;){if(N=ke(P),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){l=w=N;continue e}P=P.parentNode}}l=l.return}Hl(function(){var J=w,ae=Jn(a),ue=[];e:{var ee=Wm.get(t);if(ee!==void 0){var te=ls,Ue=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":te=ms;break;case"focusin":Ue="focus",te=fs;break;case"focusout":Ue="blur",te=fs;break;case"beforeblur":case"afterblur":te=fs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Jl;break;case Km:case Xm:case Zm:te=hs;break;case Jm:te=eu;break;case"scroll":case"scrollend":te=Fl;break;case"wheel":te=ps;break;case"copy":case"cut":case"paste":te=ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=To;break;case"toggle":case"beforetoggle":te=nu}var Ve=(n&4)!==0,_t=!Ve&&(t==="scroll"||t==="scrollend"),Q=Ve?ee!==null?ee+"Capture":null:ee;Ve=[];for(var F=J,X;F!==null;){var oe=F;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Q===null||(oe=wa(F,Q),oe!=null&&Ve.push(Wo(F,oe,X))),_t)break;F=F.return}0<Ve.length&&(ee=new te(ee,Ue,null,a,ae),ue.push({event:ee,listeners:Ve}))}}if((n&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",ee&&a!==ei&&(Ue=a.relatedTarget||a.fromElement)&&(ke(Ue)||Ue[Ee]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ue=a.relatedTarget||a.toElement,te=J,Ue=Ue?ke(Ue):null,Ue!==null&&(_t=u(Ue),Ve=Ue.tag,Ue!==_t||Ve!==5&&Ve!==27&&Ve!==6)&&(Ue=null)):(te=null,Ue=J),te!==Ue)){if(Ve=er,oe="onMouseLeave",Q="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=To,oe="onPointerLeave",Q="onPointerEnter",F="pointer"),_t=te==null?ee:ct(te),X=Ue==null?ee:ct(Ue),ee=new Ve(oe,F+"leave",te,a,ae),ee.target=_t,ee.relatedTarget=X,oe=null,ke(ae)===J&&(Ve=new Ve(Q,F+"enter",Ue,a,ae),Ve.target=X,Ve.relatedTarget=_t,oe=Ve),_t=oe,te&&Ue)t:{for(Ve=te,Q=Ue,F=0,X=Ve;X;X=zs(X))F++;for(X=0,oe=Q;oe;oe=zs(oe))X++;for(;0<F-X;)Ve=zs(Ve),F--;for(;0<X-F;)Q=zs(Q),X--;for(;F--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=zs(Ve),Q=zs(Q)}Ve=null}else Ve=null;te!==null&&_y(ue,ee,te,Ve,!1),Ue!==null&&_t!==null&&_y(ue,_t,Ue,Ve,!0)}}e:{if(ee=J?ct(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var we=Pm;else if(qt(ee))if(Um)we=eE;else{we=Jb;var Ye=Zb}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&po(J.elementType)&&(we=Pm):we=Wb;if(we&&(we=we(t,J))){ai(ue,we,a,ae);break e}Ye&&Ye(t,ee,J),t==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Ii(ee,"number",ee.value)}switch(Ye=J?ct(J):window,t){case"focusin":(qt(Ye)||Ye.contentEditable==="true")&&(gs=Ye,mf=J,Ao=null);break;case"focusout":Ao=mf=gs=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Qm(ue,a,ae);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":Qm(ue,a,ae)}var De;if(Mr)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else tt?ie(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(M&&a.locale!=="ko"&&(tt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&tt&&(De=yo()):(Cr=ae,Mi="value"in Cr?Cr.value:Cr.textContent,tt=!0)),Ye=qu(J,Le),0<Ye.length&&(Le=new bo(Le,t,null,a,ae),ue.push({event:Le,listeners:Ye}),De?Le.data=De:(De=ve(a),De!==null&&(Le.data=De)))),(De=C?Bt(t,a):nt(t,a))&&(Le=qu(J,"onBeforeInput"),0<Le.length&&(Ye=new bo("onBeforeInput","beforeinput",null,a,ae),ue.push({event:Ye,listeners:Le}),Ye.data=De)),PE(ue,t,J,a,ae)}yy(ue,n)})}function Wo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function qu(t,n){for(var a=n+"Capture",l=[];t!==null;){var d=t,w=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||w===null||(d=wa(t,a),d!=null&&l.unshift(Wo(t,d,w)),d=wa(t,n),d!=null&&l.push(Wo(t,d,w))),t.tag===3)return l;t=t.return}return[]}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _y(t,n,a,l,d){for(var w=n._reactName,N=[];a!==null&&a!==l;){var P=a,q=P.alternate,J=P.stateNode;if(P=P.tag,q!==null&&q===l)break;P!==5&&P!==26&&P!==27||J===null||(q=J,d?(J=wa(a,w),J!=null&&N.unshift(Wo(a,J,q))):d||(J=wa(a,w),J!=null&&N.push(Wo(a,J,q)))),a=a.return}N.length!==0&&t.push({event:n,listeners:N})}var BE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(BE,`
`).replace(qE,"")}function Ey(t,n){return n=by(n),by(t)===n}function Hu(){}function vt(t,n,a,l,d,w){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Zn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":mo(t,l,w);break;case"data":if(n!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=os(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(a==="formAction"?(n!=="input"&&vt(t,n,"name",d.name,d,null),vt(t,n,"formEncType",d.formEncType,d,null),vt(t,n,"formMethod",d.formMethod,d,null),vt(t,n,"formTarget",d.formTarget,d,null)):(vt(t,n,"encType",d.encType,d,null),vt(t,n,"method",d.method,d,null),vt(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=os(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),dn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,dn(t,a,l))}}function Ph(t,n,a,l,d,w){switch(a){case"style":mo(t,l,w);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&Zn(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),w=t[ge]||null,w=w!=null?w[a]:null,typeof w=="function"&&t.removeEventListener(n,w,d),typeof l=="function")){typeof w!="function"&&w!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dn(t,a,l)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,d=!1,w;for(w in a)if(a.hasOwnProperty(w)){var N=a[w];if(N!=null)switch(w){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,w,N,a,null)}}d&&vt(t,n,"srcSet",a.srcSet,a,null),l&&vt(t,n,"src",a.src,a,null);return;case"input":Ze("invalid",t);var P=w=N=d=null,q=null,J=null;for(l in a)if(a.hasOwnProperty(l)){var ae=a[l];if(ae!=null)switch(l){case"name":d=ae;break;case"type":N=ae;break;case"checked":q=ae;break;case"defaultChecked":J=ae;break;case"value":w=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,n));break;default:vt(t,n,l,ae,a,null)}}ba(t,w,P,q,J,N,d,!1),ss(t);return;case"select":Ze("invalid",t),l=N=w=null;for(d in a)if(a.hasOwnProperty(d)&&(P=a[d],P!=null))switch(d){case"value":w=P;break;case"defaultValue":N=P;break;case"multiple":l=P;default:vt(t,n,d,P,a,null)}n=w,a=N,t.multiple=!!l,n!=null?Wr(t,!!l,n,!1):a!=null&&Wr(t,!!l,a,!0);return;case"textarea":Ze("invalid",t),w=d=l=null;for(N in a)if(a.hasOwnProperty(N)&&(P=a[N],P!=null))switch(N){case"value":l=P;break;case"defaultValue":d=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:vt(t,n,N,P,a,null)}Ea(t,l,d,w),ss(t);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,n,q,l,a,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Ze(Jo[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(l=a[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,J,l,a,null)}return;default:if(po(n)){for(ae in a)a.hasOwnProperty(ae)&&(l=a[ae],l!==void 0&&Ph(t,n,ae,l,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null&&vt(t,n,P,l,a,null))}function HE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,w=null,N=null,P=null,q=null,J=null,ae=null;for(te in a){var ue=a[te];if(a.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":q=ue;default:l.hasOwnProperty(te)||vt(t,n,te,null,l,ue)}}for(var ee in l){var te=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":w=te;break;case"name":d=te;break;case"checked":J=te;break;case"defaultChecked":ae=te;break;case"value":N=te;break;case"defaultValue":P=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:te!==ue&&vt(t,n,ee,te,l,ue)}}Vn(t,N,P,q,J,ae,w,d);return;case"select":te=N=P=ee=null;for(w in a)if(q=a[w],a.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":te=q;default:l.hasOwnProperty(w)||vt(t,n,w,null,l,q)}for(d in l)if(w=l[d],q=a[d],l.hasOwnProperty(d)&&(w!=null||q!=null))switch(d){case"value":ee=w;break;case"defaultValue":P=w;break;case"multiple":N=w;default:w!==q&&vt(t,n,d,w,l,q)}n=P,a=N,l=te,ee!=null?Wr(t,!!a,ee,!1):!!l!=!!a&&(n!=null?Wr(t,!!a,n,!0):Wr(t,!!a,a?[]:"",!1));return;case"textarea":te=ee=null;for(P in a)if(d=a[P],a.hasOwnProperty(P)&&d!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:vt(t,n,P,null,l,d)}for(N in l)if(d=l[N],w=a[N],l.hasOwnProperty(N)&&(d!=null||w!=null))switch(N){case"value":ee=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==w&&vt(t,n,N,d,l,w)}gt(t,ee,te);return;case"option":for(var Ue in a)if(ee=a[Ue],a.hasOwnProperty(Ue)&&ee!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:vt(t,n,Ue,null,l,ee)}for(q in l)if(ee=l[q],te=a[q],l.hasOwnProperty(q)&&ee!==te&&(ee!=null||te!=null))switch(q){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(t,n,q,ee,l,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)ee=a[Ve],a.hasOwnProperty(Ve)&&ee!=null&&!l.hasOwnProperty(Ve)&&vt(t,n,Ve,null,l,ee);for(J in l)if(ee=l[J],te=a[J],l.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:vt(t,n,J,ee,l,te)}return;default:if(po(n)){for(var _t in a)ee=a[_t],a.hasOwnProperty(_t)&&ee!==void 0&&!l.hasOwnProperty(_t)&&Ph(t,n,_t,void 0,l,ee);for(ae in l)ee=l[ae],te=a[ae],!l.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||Ph(t,n,ae,ee,l,te);return}}for(var Q in a)ee=a[Q],a.hasOwnProperty(Q)&&ee!=null&&!l.hasOwnProperty(Q)&&vt(t,n,Q,null,l,ee);for(ue in l)ee=l[ue],te=a[ue],!l.hasOwnProperty(ue)||ee===te||ee==null&&te==null||vt(t,n,ue,ee,l,te)}var Uh=null,zh=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function Ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bh=null;function FE(){var t=window.event;return t&&t.type==="popstate"?t===Bh?!1:(Bh=t,!0):(Bh=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(YE)}:Sy;function YE(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function Ry(t,n){var a=n,l=0,d=0;do{var w=a.nextSibling;if(t.removeChild(a),w&&w.nodeType===8)if(a=w.data,a==="/$"){if(0<l&&8>l){a=l;var N=t.ownerDocument;if(a&1&&el(N.documentElement),a&2&&el(N.body),a&4)for(a=N.head,el(a),N=a.firstChild;N;){var P=N.nextSibling,q=N.nodeName;N[Ne]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=P}}if(d===0){t.removeChild(w),ll(n);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=w}while(a);ll(n)}function qh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qh(a),Ae(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function KE(t,n,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ne])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var w=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=gr(t.nextSibling),t===null)break}return null}function XE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=gr(t.nextSibling),t===null))return null;return t}function Hh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ZE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function gr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Fh=null;function xy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Cy(t,n,a){switch(n=Fu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function el(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ae(t)}var or=new Map,Dy=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vi=se.d;se.d={f:JE,r:WE,D:eT,C:tT,L:nT,m:rT,X:aT,S:iT,M:sT};function JE(){var t=vi.f(),n=ju();return t||n}function WE(t){var n=Ke(t);n!==null&&n.tag===5&&n.type==="form"?Kp(n):vi.r(t)}var $s=typeof document>"u"?null:document;function Oy(t,n,a){var l=$s;if(l&&typeof n=="string"&&n){var d=jt(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Dy.has(d)||(Dy.add(d),t={rel:t,crossOrigin:a,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function eT(t){vi.D(t),Oy("dns-prefetch",t,null)}function tT(t,n){vi.C(t,n),Oy("preconnect",t,n)}function nT(t,n,a){vi.L(t,n,a);var l=$s;if(l&&t&&n){var d='link[rel="preload"][as="'+jt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+jt(a.imageSizes)+'"]')):d+='[href="'+jt(t)+'"]';var w=d;switch(n){case"style":w=Bs(t);break;case"script":w=qs(t)}or.has(w)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),or.set(w,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(tl(w))||n==="script"&&l.querySelector(nl(w))||(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function rT(t,n){vi.m(t,n);var a=$s;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(t)+'"]',w=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=qs(t)}if(!or.has(w)&&(t=T({rel:"modulepreload",href:t},n),or.set(w,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nl(w)))return}l=a.createElement("link"),on(l,"link",t),et(l),a.head.appendChild(l)}}}function iT(t,n,a){vi.S(t,n,a);var l=$s;if(l&&t){var d=st(l).hoistableStyles,w=Bs(t);n=n||"default";var N=d.get(w);if(!N){var P={loading:0,preload:null};if(N=l.querySelector(tl(w)))P.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=or.get(w))&&Gh(t,a);var q=N=l.createElement("link");et(q),on(q,"link",t),q._p=new Promise(function(J,ae){q.onload=J,q.onerror=ae}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Qu(N,n,l)}N={type:"stylesheet",instance:N,count:1,state:P},d.set(w,N)}}}function aT(t,n){vi.X(t,n);var a=$s;if(a&&t){var l=st(a).hoistableScripts,d=qs(t),w=l.get(d);w||(w=a.querySelector(nl(d)),w||(t=T({src:t,async:!0},n),(n=or.get(d))&&Qh(t,n),w=a.createElement("script"),et(w),on(w,"link",t),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(d,w))}}function sT(t,n){vi.M(t,n);var a=$s;if(a&&t){var l=st(a).hoistableScripts,d=qs(t),w=l.get(d);w||(w=a.querySelector(nl(d)),w||(t=T({src:t,async:!0,type:"module"},n),(n=or.get(d))&&Qh(t,n),w=a.createElement("script"),et(w),on(w,"link",t),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},l.set(d,w))}}function Iy(t,n,a,l){var d=(d=xe.current)?Gu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Bs(a.href),a=st(d).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Bs(a.href);var w=st(d).hoistableStyles,N=w.get(t);if(N||(d=d.ownerDocument||d,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,N),(w=d.querySelector(tl(t)))&&!w._p&&(N.instance=w,N.state.loading=5),or.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},or.set(t,a),w||oT(d,t,a,N.state))),n&&l===null)throw Error(s(528,""));return N}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qs(a),a=st(d).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Bs(t){return'href="'+jt(t)+'"'}function tl(t){return'link[rel="stylesheet"]['+t+"]"}function My(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",a),et(n),t.head.appendChild(n))}function qs(t){return'[src="'+jt(t)+'"]'}function nl(t){return"script[async]"+t}function Ny(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+jt(a.href)+'"]');if(l)return n.instance=l,et(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),on(l,"style",d),Qu(l,a.precedence,t),n.instance=l;case"stylesheet":d=Bs(a.href);var w=t.querySelector(tl(d));if(w)return n.state.loading|=4,n.instance=w,et(w),w;l=My(a),(d=or.get(d))&&Gh(l,d),w=(t.ownerDocument||t).createElement("link"),et(w);var N=w;return N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(w,"link",l),n.state.loading|=4,Qu(w,a.precedence,t),n.instance=w;case"script":return w=qs(a.src),(d=t.querySelector(nl(w)))?(n.instance=d,et(d),d):(l=a,(d=or.get(w))&&(l=T({},a),Qh(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),et(d),on(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,a.precedence,t));return n.instance}function Qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,w=d,N=0;N<l.length;N++){var P=l[N];if(P.dataset.precedence===n)w=P;else if(w!==d)break}w?w.parentNode.insertBefore(t,w.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Gh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Qh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function Vy(t,n,a){if(Yu===null){var l=new Map,d=Yu=new Map;d.set(a,l)}else d=Yu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var w=a[d];if(!(w[Ne]||w[le]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(n)||"";N=t+N;var P=l.get(N);P?P.push(w):l.set(N,[w])}}return l}function ky(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function lT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var rl=null;function uT(){}function cT(t,n,a){if(rl===null)throw Error(s(475));var l=rl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Bs(a.href),w=t.querySelector(tl(d));if(w){t=w._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=w,et(w);return}w=t.ownerDocument||t,a=My(a),(d=or.get(d))&&Gh(a,d),w=w.createElement("link"),et(w);var N=w;N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(w,"link",a),n.instance=w}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function fT(){if(rl===null)throw Error(s(475));var t=rl;return t.stylesheets&&t.count===0&&Yh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Yh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Yh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(hT,t),Xu=null,Ku.call(t))}function hT(t,n){if(!(n.state.loading&4)){var a=Xu.get(t);if(a)var l=a.get(null);else{a=new Map,Xu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<d.length;w++){var N=d[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),l=N)}l&&a.set(null,l)}d=n.instance,N=d.getAttribute("data-precedence"),w=a.get(N)||l,w===l&&a.set(null,d),a.set(N,d),this.count++,l=Ku.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),w?w.parentNode.insertBefore(d,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var il={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function dT(t,n,a,l,d,w,N,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function jy(t,n,a,l,d,w,N,P,q,J,ae,ue){return t=new dT(t,n,a,N,P,q,J,ue),n=1,w===!0&&(n|=24),w=Ln(3,null,null,n),t.current=w,w.stateNode=t,n=Df(),n.refCount++,t.pooledCache=n,n.refCount++,w.memoizedState={element:l,isDehydrated:a,cache:n},Nf(w),t}function Py(t){return t?(t=bs,t):bs}function Uy(t,n,a,l,d,w){d=Py(d),l.context===null?l.context=d:l.pendingContext=d,l=ki(n),l.payload={element:a},w=w===void 0?null:w,w!==null&&(l.callback=w),a=Li(t,l,n),a!==null&&($n(a,t,n),Vo(a,t,n))}function zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Kh(t,n){zy(t,n),(t=t.alternate)&&zy(t,n)}function $y(t){if(t.tag===13){var n=_s(t,67108864);n!==null&&$n(n,t,67108864),Kh(t,67108864)}}var Zu=!0;function mT(t,n,a,l){var d=G.T;G.T=null;var w=se.p;try{se.p=2,Xh(t,n,a,l)}finally{se.p=w,G.T=d}}function pT(t,n,a,l){var d=G.T;G.T=null;var w=se.p;try{se.p=8,Xh(t,n,a,l)}finally{se.p=w,G.T=d}}function Xh(t,n,a,l){if(Zu){var d=Zh(l);if(d===null)jh(t,n,l,Ju,a),qy(t,l);else if(yT(d,t,n,a,l))l.stopPropagation();else if(qy(t,l),n&4&&-1<gT.indexOf(t)){for(;d!==null;){var w=Ke(d);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=In(w.pendingLanes);if(N!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var q=1<<31-kt(N);P.entanglements[1]|=q,N&=~q}Pr(w),(dt&6)===0&&(ku=bn()+500,Zo(0))}}break;case 13:P=_s(w,2),P!==null&&$n(P,w,2),ju(),Kh(w,2)}if(w=Zh(l),w===null&&jh(t,n,l,Ju,a),w===d)break;d=w}d!==null&&l.stopPropagation()}else jh(t,n,l,null,a)}}function Zh(t){return t=Jn(t),Jh(t)}var Ju=null;function Jh(t){if(Ju=null,t=ke(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ju=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(co()){case ya:return 2;case Si:return 8;case Kr:case fr:return 32;case Fn:return 268435456;default:return 32}default:return 32}}var Wh=!1,Ki=null,Xi=null,Zi=null,al=new Map,sl=new Map,Ji=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(t,n){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function ol(t,n,a,l,d,w){return t===null||t.nativeEvent!==w?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:w,targetContainers:[d]},n!==null&&(n=Ke(n),n!==null&&$y(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function yT(t,n,a,l,d){switch(n){case"focusin":return Ki=ol(Ki,t,n,a,l,d),!0;case"dragenter":return Xi=ol(Xi,t,n,a,l,d),!0;case"mouseover":return Zi=ol(Zi,t,n,a,l,d),!0;case"pointerover":var w=d.pointerId;return al.set(w,ol(al.get(w)||null,t,n,a,l,d)),!0;case"gotpointercapture":return w=d.pointerId,sl.set(w,ol(sl.get(w)||null,t,n,a,l,d)),!0}return!1}function Hy(t){var n=ke(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Y(t.priority,function(){if(a.tag===13){var l=zn();l=Sr(l);var d=_s(a,l);d!==null&&$n(d,a,l),Kh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Zh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ei=l,a.target.dispatchEvent(l),ei=null}else return n=Ke(a),n!==null&&$y(n),t.blockedOn=a,!1;n.shift()}return!0}function Fy(t,n,a){Wu(t)&&a.delete(n)}function vT(){Wh=!1,Ki!==null&&Wu(Ki)&&(Ki=null),Xi!==null&&Wu(Xi)&&(Xi=null),Zi!==null&&Wu(Zi)&&(Zi=null),al.forEach(Fy),sl.forEach(Fy)}function ec(t,n){t.blockedOn===n&&(t.blockedOn=null,Wh||(Wh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vT)))}var tc=null;function Gy(t){tc!==t&&(tc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(Jh(l||a)===null)continue;break}var w=Ke(a);w!==null&&(t.splice(n,3),n-=3,Jf(w,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function ll(t){function n(q){return ec(q,t)}Ki!==null&&ec(Ki,t),Xi!==null&&ec(Xi,t),Zi!==null&&ec(Zi,t),al.forEach(n),sl.forEach(n);for(var a=0;a<Ji.length;a++){var l=Ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)Hy(a),a.blockedOn===null&&Ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],w=a[l+1],N=d[ge]||null;if(typeof w=="function")N||Gy(a);else if(N){var P=null;if(w&&w.hasAttribute("formAction")){if(d=w,N=w[ge]||null)P=N.formAction;else if(Jh(d)!==null)continue}else P=N.action;typeof P=="function"?a[l+1]=P:(a.splice(l,3),l-=3),Gy(a)}}}function ed(t){this._internalRoot=t}nc.prototype.render=ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=zn();Uy(a,l,t,n,null,null)},nc.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uy(t.current,2,null,t,null,null),ju(),n[Ee]=null}};function nc(t){this._internalRoot=t}nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=H();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ji.length&&n!==0&&n<Ji[a].priority;a++);Ji.splice(a,0,t),a===0&&Hy(t)}};var Qy=e.version;if(Qy!=="19.1.0")throw Error(s(527,Qy,"19.1.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{lt=rc.inject(_T),He=rc}catch{}}return cl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",d=ug,w=cg,N=fg,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=jy(t,1,!1,null,null,a,l,d,w,N,P,null),t[Ee]=n.current,Lh(t),new ed(n)},cl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,d="",w=ug,N=cg,P=fg,q=null,J=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks),a.formState!==void 0&&(J=a.formState)),n=jy(t,1,!0,n,a??null,l,d,w,N,P,q,J),n.context=Py(null),a=n.current,l=zn(),l=Sr(l),d=ki(l),d.callback=null,Li(a,d,l),a=l,n.current.lanes=a,hr(n,a),Pr(n),t[Ee]=n.current,Lh(t),new nc(n)},cl.version="19.1.0",cl}var iv;function DT(){if(iv)return rd.exports;iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rd.exports=CT(),rd.exports}var OT=DT(),fl={},av;function IT(){if(av)return fl;av=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=f,fl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,b){const v=new u,_=y.length;if(_<2)return v;const R=(b==null?void 0:b.decode)||T;let E=0;do{const A=y.indexOf("=",E);if(A===-1)break;const D=y.indexOf(";",E),V=D===-1?_:D;if(A>V){E=y.lastIndexOf(";",A-1)+1;continue}const L=c(y,E,A),k=p(y,A,L),I=y.slice(L,k);if(v[I]===void 0){let S=c(y,A+1,V),x=p(y,V,S);const O=R(y.slice(S,x));v[I]=O}E=V+1}while(E<_);return v}function c(y,b,v){do{const _=y.charCodeAt(b);if(_!==32&&_!==9)return b}while(++b<v);return v}function p(y,b,v){for(;b>v;){const _=y.charCodeAt(--b);if(_!==32&&_!==9)return b+1}return v}function g(y,b,v){const _=(v==null?void 0:v.encode)||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const R=_(b);if(!e.test(R))throw new TypeError(`argument val is invalid: ${b}`);let E=y+"="+R;if(!v)return E;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);E+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);E+="; Domain="+v.domain}if(v.path){if(!s.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);E+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);E+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(E+="; HttpOnly"),v.secure&&(E+="; Secure"),v.partitioned&&(E+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return E}function T(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return o.call(y)==="[object Date]"}return fl}IT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U_=i=>{throw TypeError(i)},MT=(i,e,r)=>e.has(i)||U_("Cannot "+r),od=(i,e,r)=>(MT(i,e,"read from private field"),r?r.call(i):e.get(i)),NT=(i,e,r)=>e.has(i)?U_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,r),sv="popstate";function VT(i={}){function e(o,u){let{pathname:f="/",search:c="",hash:p=""}=Ti(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Sl("",{pathname:f,search:c,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");c=g===-1?p:p.slice(0,g)}return c+"#"+(typeof u=="string"?u:ua(u))}function s(o,u){Vt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return LT(e,r,s,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kT(){return Math.random().toString(36).substring(2,10)}function ov(i,e){return{usr:i.state,key:i.key,idx:e}}function Sl(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ti(e):e,state:r,key:e&&e.key||s||kT()}}function ua({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ti(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function LT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,c="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function m(){c="POP";let R=T(),E=R==null?null:R-g;g=R,p&&p({action:c,location:_.location,delta:E})}function y(R,E){c="PUSH";let A=Sl(_.location,R,E);r&&r(A,R),g=T()+1;let D=ov(A,g),V=_.createHref(A);try{f.pushState(D,"",V)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(V)}u&&p&&p({action:c,location:_.location,delta:1})}function b(R,E){c="REPLACE";let A=Sl(_.location,R,E);r&&r(A,R),g=T();let D=ov(A,g),V=_.createHref(A);f.replaceState(D,"",V),u&&p&&p({action:c,location:_.location,delta:0})}function v(R){let E=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof R=="string"?R:ua(R);return A=A.replace(/ $/,"%20"),Je(E,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,E)}let _={get action(){return c},get location(){return i(o,f)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,m),p=R,()=>{o.removeEventListener(sv,m),p=null}},createHref(R){return e(o,R)},createURL:v,encodeLocation(R){let E=v(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(R){return f.go(R)}};return _}var pl,lv=class{constructor(i){if(NT(this,pl,new Map),i)for(let[e,r]of i)this.set(e,r)}get(i){if(od(this,pl).has(i))return od(this,pl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){od(this,pl).set(i,e)}};pl=new WeakMap;var jT=new Set(["lazy","caseSensitive","path","id","index","children"]);function PT(i){return jT.has(i)}var UT=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function zT(i){return UT.has(i)}function $T(i){return i.index===!0}function Ec(i,e,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],c=typeof o.id=="string"?o.id:f.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!s[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),$T(o)){let p={...o,...e(o),id:c};return s[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return s[c]=p,o.children&&(p.children=Ec(o.children,e,f,s)),p}})}function ta(i,e,r="/"){return hc(i,e,r,!1)}function hc(i,e,r,s){let o=typeof e=="string"?Ti(e):e,u=cr(o.pathname||"/",r);if(u==null)return null;let f=z_(i);qT(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let g=ew(u);c=JT(f[p],g,s)}return c}function BT(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function z_(i,e=[],r=[],s=""){let o=(u,f,c)=>{let p={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=zr([s,p.relativePath]),T=r.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),z_(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:XT(g,u.index),routesMeta:T})};return i.forEach((u,f)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,f);else for(let p of $_(u.path))o(u,f,p)}),e}function $_(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=$_(s.join("/")),c=[];return c.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&c.push(...f),c.map(p=>i.startsWith("/")&&p===""?"/":p)}function qT(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:ZT(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var HT=/^:[\w-]+$/,FT=3,GT=2,QT=1,YT=10,KT=-2,uv=i=>i==="*";function XT(i,e){let r=i.split("/"),s=r.length;return r.some(uv)&&(s+=KT),e&&(s+=GT),r.filter(o=>!uv(o)).reduce((o,u)=>o+(HT.test(u)?FT:u===""?QT:YT),s)}function ZT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function JT(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let c=0;c<s.length;++c){let p=s[c],g=c===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",m=Tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),y=p.route;if(!m&&g&&r&&!s[s.length-1].route.index&&(m=Tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!m)return null;Object.assign(o,m.params),f.push({params:o,pathname:zr([u,m.pathname]),pathnameBase:rw(zr([u,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(u=zr([u,m.pathnameBase]))}return f}function Tc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=WT(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:m},y)=>{if(T==="*"){let v=c[y]||"";f=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?g[T]=void 0:g[T]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function WT(i,e=!1,r=!0){Vt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(s.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ew(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function tw(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Ti(i):i;return{pathname:r?r.startsWith("/")?r:nw(r,e):e,search:iw(s),hash:aw(o)}}function nw(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ld(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B_(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Qd(i){let e=B_(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Yd(i,e,r,s=!1){let o;typeof i=="string"?o=Ti(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,c;if(f==null)c=r;else{let m=e.length-1;if(!s&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),m-=1;o.pathname=y.join("/")}c=m>=0?e[m]:"/"}let p=tw(o,c),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var zr=i=>i.join("/").replace(/\/\/+/g,"/"),rw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,aw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,wc=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Al(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var q_=["POST","PUT","PATCH","DELETE"],sw=new Set(q_),ow=["GET",...q_],lw=new Set(ow),uw=new Set([301,302,303,307,308]),cw=new Set([307,308]),ud={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Kd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),H_="remix-router-transitions",F_=Symbol("ResetLoaderData");function dw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||hw,u={},f=Ec(i.routes,o,void 0,u),c,p=i.basename||"/",g=i.dataStrategy||vw,T={unstable_middleware:!1,...i.future},m=null,y=new Set,b=null,v=null,_=null,R=i.hydrationData!=null,E=ta(f,i.history.location,p),A=!1,D=null;if(E==null&&!i.patchRoutesOnNavigation){let H=lr(404,{pathname:i.history.location.pathname}),{matches:Y,route:Z}=Ev(f);E=Y,D={[Z.id]:H}}E&&!i.hydrationData&&En(E,f,i.history.location.pathname).active&&(E=null);let V;if(E)if(E.some(H=>H.route.lazy))V=!1;else if(!E.some(H=>H.route.loader))V=!0;else{let H=i.hydrationData?i.hydrationData.loaderData:null,Y=i.hydrationData?i.hydrationData.errors:null;if(Y){let Z=E.findIndex(le=>Y[le.route.id]!==void 0);V=E.slice(0,Z+1).every(le=>!Td(le.route,H,Y))}else V=E.every(Z=>!Td(Z.route,H,Y))}else{V=!1,E=[];let H=En(null,f,i.history.location.pathname);H.active&&H.matches&&(A=!0,E=H.matches)}let L,k={historyAction:i.history.action,location:i.history.location,matches:E,initialized:V,navigation:ud,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I="POP",S=!1,x,O=!1,j=new Map,$=null,U=!1,he=!1,pe=new Set,G=new Map,se=0,ye=-1,Re=new Map,B=new Set,ne=new Map,de=new Map,ce=new Set,_e=new Map,je,xe=null;function Tt(){if(m=i.history.listen(({action:H,location:Y,delta:Z})=>{if(je){je(),je=void 0;return}Vt(_e.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=xi({currentLocation:k.location,nextLocation:Y,historyAction:H});if(le&&Z!=null){let ge=new Promise(Ee=>{je=Ee});i.history.go(Z*-1),Qn(le,{state:"blocked",location:Y,proceed(){Qn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ge.then(()=>i.history.go(Z))},reset(){let Ee=new Map(k.blockers);Ee.set(le,hl),St({blockers:Ee})}});return}return _n(H,Y)}),r){Dw(e,j);let H=()=>Ow(e,j);e.addEventListener("pagehide",H),$=()=>e.removeEventListener("pagehide",H)}return k.initialized||_n("POP",k.location,{initialHydration:!0}),L}function pt(){m&&m(),$&&$(),y.clear(),x&&x.abort(),k.fetchers.forEach((H,Y)=>kt(Y)),k.blockers.forEach((H,Y)=>Xr(Y))}function Hn(H){return y.add(H),()=>y.delete(H)}function St(H,Y={}){k={...k,...H};let Z=[],le=[];k.fetchers.forEach((ge,Ee)=>{ge.state==="idle"&&(ce.has(Ee)?Z.push(Ee):le.push(Ee))}),ce.forEach(ge=>{!k.fetchers.has(ge)&&!G.has(ge)&&Z.push(ge)}),[...y].forEach(ge=>ge(k,{deletedFetchers:Z,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),Z.forEach(ge=>kt(ge)),le.forEach(ge=>k.fetchers.delete(ge))}function fn(H,Y,{flushSync:Z}={}){var Ce,Ne;let le=k.actionData!=null&&k.navigation.formMethod!=null&&qn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((Ce=H.state)==null?void 0:Ce._isRedirect)!==!0,ge;Y.actionData?Object.keys(Y.actionData).length>0?ge=Y.actionData:ge=null:le?ge=k.actionData:ge=null;let Ee=Y.loaderData?_v(k.loaderData,Y.loaderData,Y.matches||[],Y.errors):k.loaderData,Ie=k.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Ae,ke)=>Ie.set(ke,hl)));let Te=S===!0||k.navigation.formMethod!=null&&qn(k.navigation.formMethod)&&((Ne=H.state)==null?void 0:Ne._isRedirect)!==!0;c&&(f=c,c=void 0),U||I==="POP"||(I==="PUSH"?i.history.push(H,H.state):I==="REPLACE"&&i.history.replace(H,H.state));let Se;if(I==="POP"){let Ae=j.get(k.location.pathname);Ae&&Ae.has(H.pathname)?Se={currentLocation:k.location,nextLocation:H}:j.has(H.pathname)&&(Se={currentLocation:H,nextLocation:k.location})}else if(O){let Ae=j.get(k.location.pathname);Ae?Ae.add(H.pathname):(Ae=new Set([H.pathname]),j.set(k.location.pathname,Ae)),Se={currentLocation:k.location,nextLocation:H}}St({...Y,actionData:ge,loaderData:Ee,historyAction:I,location:H,initialized:!0,navigation:ud,revalidation:"idle",restoreScrollPosition:Ci(H,Y.matches||k.matches),preventScrollReset:Te,blockers:Ie},{viewTransitionOpts:Se,flushSync:Z===!0}),I="POP",S=!1,O=!1,U=!1,he=!1,xe==null||xe.resolve(),xe=null}async function _r(H,Y){if(typeof H=="number"){i.history.go(H);return}let Z=Ed(k.location,k.matches,p,H,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:le,submission:ge,error:Ee}=cv(!1,Z,Y),Ie=k.location,Te=Sl(k.location,le,Y&&Y.state);Te={...Te,...i.history.encodeLocation(Te)};let Se=Y&&Y.replace!=null?Y.replace:void 0,Ce="PUSH";Se===!0?Ce="REPLACE":Se===!1||ge!=null&&qn(ge.formMethod)&&ge.formAction===k.location.pathname+k.location.search&&(Ce="REPLACE");let Ne=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Ae=(Y&&Y.flushSync)===!0,ke=xi({currentLocation:Ie,nextLocation:Te,historyAction:Ce});if(ke){Qn(ke,{state:"blocked",location:Te,proceed(){Qn(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),_r(H,Y)},reset(){let Ke=new Map(k.blockers);Ke.set(ke,hl),St({blockers:Ke})}});return}await _n(Ce,Te,{submission:ge,pendingError:Ee,preventScrollReset:Ne,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Ae})}function Yr(){xe||(xe=Iw()),Ri(),St({revalidation:"loading"});let H=xe.promise;return k.navigation.state==="submitting"?H:k.navigation.state==="idle"?(_n(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),H):(_n(I||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:O===!0}),H)}async function _n(H,Y,Z){x&&x.abort(),x=null,I=H,U=(Z&&Z.startUninterruptedRevalidation)===!0,hr(k.location,k.matches),S=(Z&&Z.preventScrollReset)===!0,O=(Z&&Z.enableViewTransition)===!0;let le=c||f,ge=Z&&Z.overrideNavigation,Ee=Z!=null&&Z.initialHydration&&k.matches&&k.matches.length>0&&!A?k.matches:ta(le,Y,p),Ie=(Z&&Z.flushSync)===!0;if(Ee&&k.initialized&&!he&&Sw(k.location,Y)&&!(Z&&Z.submission&&qn(Z.submission.formMethod))){fn(Y,{matches:Ee},{flushSync:Ie});return}let Te=En(Ee,le,Y.pathname);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){let{error:st,notFoundMatches:et,route:Qe}=Zr(Y.pathname);fn(Y,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:Ie});return}x=new AbortController;let Se=Hs(i.history,Y,x.signal,Z&&Z.submission),Ce=new lv(i.unstable_getContext?await i.unstable_getContext():void 0),Ne;if(Z&&Z.pendingError)Ne=[Qa(Ee).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&qn(Z.submission.formMethod)){let st=await ga(Se,Y,Z.submission,Ee,Ce,Te.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Ie});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if(Bn(Qe)&&Al(Qe.error)&&Qe.error.status===404){x=null,fn(Y,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}Ee=st.matches||Ee,Ne=st.pendingActionResult,ge=cd(Y,Z.submission),Ie=!1,Te.active=!1,Se=Hs(i.history,Se.url,Se.signal)}let{shortCircuited:Ae,matches:ke,loaderData:Ke,errors:ct}=await is(Se,Y,Ee,Ce,Te.active,ge,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ie,Ne);Ae||(x=null,fn(Y,{matches:ke||Ee,...bv(Ne),loaderData:Ke,errors:ct}))}async function ga(H,Y,Z,le,ge,Ee,Ie,Te={}){Ri();let Se=xw(Y,Z);if(St({navigation:Se},{flushSync:Te.flushSync===!0}),Ee){let Ae=await wr(le,Y.pathname,H.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let ke=Qa(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[ke,{type:"error",error:Ae.error}]}}else if(Ae.matches)le=Ae.matches;else{let{notFoundMatches:ke,error:Ke,route:ct}=Zr(Y.pathname);return{matches:ke,pendingActionResult:[ct.id,{type:"error",error:Ke}]}}}let Ce,Ne=gl(le,Y);if(!Ne.route.action&&!Ne.route.lazy)Ce={type:"error",error:lr(405,{method:H.method,pathname:Y.pathname,routeId:Ne.route.id})};else{let Ae=Ks(o,u,H,le,Ne,Ie?[]:s,ge),ke=await Fn(H,Ae,ge,null);if(Ce=ke[Ne.route.id],!Ce){for(let Ke of le)if(ke[Ke.route.id]){Ce=ke[Ke.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Ya(Ce)){let Ae;return Te&&Te.replace!=null?Ae=Te.replace:Ae=gv(Ce.response.headers.get("Location"),new URL(H.url),p)===k.location.pathname+k.location.search,await fr(H,Ce,!0,{submission:Z,replace:Ae}),{shortCircuited:!0}}if(Bn(Ce)){let Ae=Qa(le,Ne.route.id);return(Te&&Te.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Ae.route.id,Ce,Ne.route.id]}}return{matches:le,pendingActionResult:[Ne.route.id,Ce]}}async function is(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce,Ne,Ae){let ke=Ee||cd(Y,Ie),Ke=Ie||Te||wv(ke),ct=!U&&!Ce;if(ge){if(ct){let Lt=bn(Ae);St({navigation:ke,...Lt!==void 0?{actionData:Lt}:{}},{flushSync:Ne})}let ze=await wr(Z,Y.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Lt=Qa(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Lt]:ze.error}}}else if(ze.matches)Z=ze.matches;else{let{error:Lt,notFoundMatches:Nn,route:Rn}=Zr(Y.pathname);return{matches:Nn,loaderData:{},errors:{[Rn.id]:Lt}}}}let st=c||f,{dsMatches:et,revalidatingFetchers:Qe}=fv(H,le,o,u,i.history,k,Z,Ke,Y,Ce?[]:s,Ce===!0,he,pe,ce,ne,B,st,p,Ae);if(ye=++se,!i.dataStrategy&&!et.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Er();return fn(Y,{matches:Z,loaderData:{},errors:Ae&&Bn(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...bv(Ae),...ze?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ct){let ze={};if(!ge){ze.navigation=ke;let Lt=bn(Ae);Lt!==void 0&&(ze.actionData=Lt)}Qe.length>0&&(ze.fetchers=co(Qe)),St(ze,{flushSync:Ne})}Qe.forEach(ze=>{Gn(ze.key),ze.controller&&G.set(ze.key,ze.controller)});let Kn=()=>Qe.forEach(ze=>Gn(ze.key));x&&x.signal.addEventListener("abort",Kn);let{loaderResults:$t,fetcherResults:Tn}=await Ai(et,Qe,H,le);if(H.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Kn),Qe.forEach(ze=>G.delete(ze.key));let tn=ic($t);if(tn)return await fr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};if(tn=ic(Tn),tn)return B.add(tn.key),await fr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Ar,errors:Mn}=vv(k,Z,$t,Ae,Qe,Tn);Ce&&k.errors&&(Mn={...k.errors,...Mn});let Oi=Er(),dn=Tr(ye),wn=Oi||dn||Qe.length>0;return{matches:Z,loaderData:Ar,errors:Mn,...wn?{fetchers:new Map(k.fetchers)}:{}}}function bn(H){if(H&&!Bn(H[1]))return{[H[0]]:H[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function co(H){return H.forEach(Y=>{let Z=k.fetchers.get(Y.key),le=dl(void 0,Z?Z.data:void 0);k.fetchers.set(Y.key,le)}),new Map(k.fetchers)}async function ya(H,Y,Z,le){Gn(H);let ge=(le&&le.flushSync)===!0,Ee=c||f,Ie=Ed(k.location,k.matches,p,Z,Y,le==null?void 0:le.relative),Te=ta(Ee,Ie,p),Se=En(Te,Ee,Ie);if(Se.active&&Se.matches&&(Te=Se.matches),!Te){He(H,Y,lr(404,{pathname:Ie}),{flushSync:ge});return}let{path:Ce,submission:Ne,error:Ae}=cv(!0,Ie,le);if(Ae){He(H,Y,Ae,{flushSync:ge});return}let ke=gl(Te,Ce),Ke=new lv(i.unstable_getContext?await i.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Ne&&qn(Ne.formMethod)){await Si(H,Y,Ce,ke,Te,Ke,Se.active,ge,ct,Ne);return}ne.set(H,{routeId:Y,path:Ce}),await Kr(H,Y,Ce,ke,Te,Ke,Se.active,ge,ct,Ne)}async function Si(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce){Ri(),ne.delete(H);function Ne(bt){if(!bt.route.action&&!bt.route.lazy){let Xn=lr(405,{method:Ce.formMethod,pathname:Z,routeId:Y});return He(H,Y,Xn,{flushSync:Te}),!0}return!1}if(!Ie&&Ne(le))return;let Ae=k.fetchers.get(H);lt(H,Cw(Ce,Ae),{flushSync:Te});let ke=new AbortController,Ke=Hs(i.history,Z,ke.signal,Ce);if(Ie){let bt=await wr(ge,Z,Ke.signal,H);if(bt.type==="aborted")return;if(bt.type==="error"){He(H,Y,bt.error,{flushSync:Te});return}else if(bt.matches){if(ge=bt.matches,le=gl(ge,Z),Ne(le))return}else{He(H,Y,lr(404,{pathname:Z}),{flushSync:Te});return}}G.set(H,ke);let ct=se,st=Ks(o,u,Ke,ge,le,s,Ee),Qe=(await Fn(Ke,st,Ee,H))[le.route.id];if(Ke.signal.aborted){G.get(H)===ke&&G.delete(H);return}if(ce.has(H)){if(Ya(Qe)||Bn(Qe)){lt(H,ea(void 0));return}}else{if(Ya(Qe))if(G.delete(H),ye>ct){lt(H,ea(void 0));return}else return B.add(H),lt(H,dl(Ce)),fr(Ke,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(Bn(Qe)){He(H,Y,Qe.error);return}}let Kn=k.navigation.location||k.location,$t=Hs(i.history,Kn,ke.signal),Tn=c||f,tn=k.navigation.state!=="idle"?ta(Tn,k.navigation.location,p):k.matches;Je(tn,"Didn't find any matches after fetcher action");let Ar=++se;Re.set(H,Ar);let Mn=dl(Ce,Qe.data);k.fetchers.set(H,Mn);let{dsMatches:Oi,revalidatingFetchers:dn}=fv($t,Ee,o,u,i.history,k,tn,Ce,Kn,s,!1,he,pe,ce,ne,B,Tn,p,[le.route.id,Qe]);dn.filter(bt=>bt.key!==H).forEach(bt=>{let Xn=bt.key,Jr=k.fetchers.get(Xn),nn=dl(void 0,Jr?Jr.data:void 0);k.fetchers.set(Xn,nn),Gn(Xn),bt.controller&&G.set(Xn,bt.controller)}),St({fetchers:new Map(k.fetchers)});let wn=()=>dn.forEach(bt=>Gn(bt.key));ke.signal.addEventListener("abort",wn);let{loaderResults:ze,fetcherResults:Lt}=await Ai(Oi,dn,$t,Ee);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",wn),Re.delete(H),G.delete(H),dn.forEach(bt=>G.delete(bt.key));let Nn=ic(ze);if(Nn)return fr($t,Nn.result,!1,{preventScrollReset:Se});if(Nn=ic(Lt),Nn)return B.add(Nn.key),fr($t,Nn.result,!1,{preventScrollReset:Se});let{loaderData:Rn,errors:Rr}=vv(k,tn,ze,void 0,dn,Lt);if(k.fetchers.has(H)){let bt=ea(Qe.data);k.fetchers.set(H,bt)}Tr(Ar),k.navigation.state==="loading"&&Ar>ye?(Je(I,"Expected pending action"),x&&x.abort(),fn(k.navigation.location,{matches:tn,loaderData:Rn,errors:Rr,fetchers:new Map(k.fetchers)})):(St({errors:Rr,loaderData:_v(k.loaderData,Rn,tn,Rr),fetchers:new Map(k.fetchers)}),he=!1)}async function Kr(H,Y,Z,le,ge,Ee,Ie,Te,Se,Ce){let Ne=k.fetchers.get(H);lt(H,dl(Ce,Ne?Ne.data:void 0),{flushSync:Te});let Ae=new AbortController,ke=Hs(i.history,Z,Ae.signal);if(Ie){let Qe=await wr(ge,Z,ke.signal,H);if(Qe.type==="aborted")return;if(Qe.type==="error"){He(H,Y,Qe.error,{flushSync:Te});return}else if(Qe.matches)ge=Qe.matches,le=gl(ge,Z);else{He(H,Y,lr(404,{pathname:Z}),{flushSync:Te});return}}G.set(H,Ae);let Ke=se,ct=Ks(o,u,ke,ge,le,s,Ee),et=(await Fn(ke,ct,Ee,H))[le.route.id];if(G.get(H)===Ae&&G.delete(H),!ke.signal.aborted){if(ce.has(H)){lt(H,ea(void 0));return}if(Ya(et))if(ye>Ke){lt(H,ea(void 0));return}else{B.add(H),await fr(ke,et,!1,{preventScrollReset:Se});return}if(Bn(et)){He(H,Y,et.error);return}lt(H,ea(et.data))}}async function fr(H,Y,Z,{submission:le,fetcherSubmission:ge,preventScrollReset:Ee,replace:Ie}={}){Y.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Te=Y.response.headers.get("Location");Je(Te,"Expected a Location header on the redirect Response"),Te=gv(Te,new URL(H.url),p);let Se=Sl(k.location,Te,{_isRedirect:!0});if(r){let ct=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(Kd.test(Te)){const st=i.history.createURL(Te);ct=st.origin!==e.location.origin||cr(st.pathname,p)==null}if(ct){Ie?e.location.replace(Te):e.location.assign(Te);return}}x=null;let Ce=Ie===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ae,formEncType:ke}=k.navigation;!le&&!ge&&Ne&&Ae&&ke&&(le=wv(k.navigation));let Ke=le||ge;if(cw.has(Y.response.status)&&Ke&&qn(Ke.formMethod))await _n(Ce,Se,{submission:{...Ke,formAction:Te},preventScrollReset:Ee||S,enableViewTransition:Z?O:void 0});else{let ct=cd(Se,le);await _n(Ce,Se,{overrideNavigation:ct,fetcherSubmission:ge,preventScrollReset:Ee||S,enableViewTransition:Z?O:void 0})}}async function Fn(H,Y,Z,le){let ge,Ee={};try{ge=await _w(g,H,Y,le,Z,!1)}catch(Ie){return Y.filter(Te=>Te.shouldLoad).forEach(Te=>{Ee[Te.route.id]={type:"error",error:Ie}}),Ee}for(let[Ie,Te]of Object.entries(ge))if(Aw(Te)){let Se=Te.result;Ee[Ie]={type:"redirect",response:Tw(Se,H,Ie,Y,p)}}else Ee[Ie]=await Ew(Te);return Ee}async function Ai(H,Y,Z,le){let ge=Fn(Z,H,le,null),Ee=Promise.all(Y.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ne=(await Fn(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Ne}}else return Promise.resolve({[Se.key]:{type:"error",error:lr(404,{pathname:Se.path})}})})),Ie=await ge,Te=(await Ee).reduce((Se,Ce)=>Object.assign(Se,Ce),{});return{loaderResults:Ie,fetcherResults:Te}}function Ri(){he=!0,ne.forEach((H,Y)=>{G.has(Y)&&pe.add(Y),Gn(Y)})}function lt(H,Y,Z={}){k.fetchers.set(H,Y),St({fetchers:new Map(k.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function He(H,Y,Z,le={}){let ge=Qa(k.matches,Y);kt(H),St({errors:{[ge.route.id]:Z},fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function hn(H){return de.set(H,(de.get(H)||0)+1),ce.has(H)&&ce.delete(H),k.fetchers.get(H)||fw}function kt(H){let Y=k.fetchers.get(H);G.has(H)&&!(Y&&Y.state==="loading"&&Re.has(H))&&Gn(H),ne.delete(H),Re.delete(H),B.delete(H),ce.delete(H),pe.delete(H),k.fetchers.delete(H)}function as(H){let Y=(de.get(H)||0)-1;Y<=0?(de.delete(H),ce.add(H)):de.set(H,Y),St({fetchers:new Map(k.fetchers)})}function Gn(H){let Y=G.get(H);Y&&(Y.abort(),G.delete(H))}function br(H){for(let Y of H){let Z=hn(Y),le=ea(Z.data);k.fetchers.set(Y,le)}}function Er(){let H=[],Y=!1;for(let Z of B){let le=k.fetchers.get(Z);Je(le,`Expected fetcher: ${Z}`),le.state==="loading"&&(B.delete(Z),H.push(Z),Y=!0)}return br(H),Y}function Tr(H){let Y=[];for(let[Z,le]of Re)if(le<H){let ge=k.fetchers.get(Z);Je(ge,`Expected fetcher: ${Z}`),ge.state==="loading"&&(Gn(Z),Re.delete(Z),Y.push(Z))}return br(Y),Y.length>0}function In(H,Y){let Z=k.blockers.get(H)||hl;return _e.get(H)!==Y&&_e.set(H,Y),Z}function Xr(H){k.blockers.delete(H),_e.delete(H)}function Qn(H,Y){let Z=k.blockers.get(H)||hl;Je(Z.state==="unblocked"&&Y.state==="blocked"||Z.state==="blocked"&&Y.state==="blocked"||Z.state==="blocked"&&Y.state==="proceeding"||Z.state==="blocked"&&Y.state==="unblocked"||Z.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${Y.state}`);let le=new Map(k.blockers);le.set(H,Y),St({blockers:le})}function xi({currentLocation:H,nextLocation:Y,historyAction:Z}){if(_e.size===0)return;_e.size>1&&Vt(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ge,Ee]=le[le.length-1],Ie=k.blockers.get(ge);if(!(Ie&&Ie.state==="proceeding")&&Ee({currentLocation:H,nextLocation:Y,historyAction:Z}))return ge}function Zr(H){let Y=lr(404,{pathname:H}),Z=c||f,{matches:le,route:ge}=Ev(Z);return{notFoundMatches:le,route:ge,error:Y}}function va(H,Y,Z){if(b=H,_=Y,v=Z||null,!R&&k.navigation===ud){R=!0;let le=Ci(k.location,k.matches);le!=null&&St({restoreScrollPosition:le})}return()=>{b=null,_=null,v=null}}function Yn(H,Y){return v&&v(H,Y.map(le=>BT(le,k.loaderData)))||H.key}function hr(H,Y){if(b&&_){let Z=Yn(H,Y);b[Z]=_()}}function Ci(H,Y){if(b){let Z=Yn(H,Y),le=b[Z];if(typeof le=="number")return le}return null}function En(H,Y,Z){if(i.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:hc(Y,Z,p,!0)}}else return{active:!0,matches:hc(Y,Z,p,!0)||[]};return{active:!1,matches:null}}async function wr(H,Y,Z,le){if(!i.patchRoutesOnNavigation)return{type:"success",matches:H};let ge=H;for(;;){let Ee=c==null,Ie=c||f,Te=u;try{await i.patchRoutesOnNavigation({signal:Z,path:Y,matches:ge,fetcherKey:le,patch:(Ne,Ae)=>{Z.aborted||hv(Ne,Ae,Ie,Te,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:ge}}finally{Ee&&!Z.aborted&&(f=[...f])}if(Z.aborted)return{type:"aborted"};let Se=ta(Ie,Y,p);if(Se)return{type:"success",matches:Se};let Ce=hc(Ie,Y,p,!0);if(!Ce||ge.length===Ce.length&&ge.every((Ne,Ae)=>Ne.route.id===Ce[Ae].route.id))return{type:"success",matches:null};ge=Ce}}function Sr(H){u={},c=Ec(H,o,void 0,u)}function Di(H,Y){let Z=c==null;hv(H,Y,c||f,u,o),Z&&(f=[...f],St({}))}return L={get basename(){return p},get future(){return T},get state(){return k},get routes(){return f},get window(){return e},initialize:Tt,subscribe:Hn,enableScrollRestoration:va,navigate:_r,fetch:ya,revalidate:Yr,createHref:H=>i.history.createHref(H),encodeLocation:H=>i.history.encodeLocation(H),getFetcher:hn,deleteFetcher:as,dispose:pt,getBlocker:In,deleteBlocker:Xr,patchRoutes:Di,_internalFetchControllers:G,_internalSetRoutes:Sr},L}function mw(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Ed(i,e,r,s,o,u){let f,c;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){c=g;break}}else f=e,c=e[e.length-1];let p=Yd(s||".",Qd(f),cr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&c){let g=Xd(p.search);if(c.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&g){let T=new URLSearchParams(p.search),m=T.getAll("index");T.delete("index"),m.filter(b=>b).forEach(b=>T.append("index",b));let y=T.toString();p.search=y?`?${y}`:""}}return r!=="/"&&(p.pathname=p.pathname==="/"?r:zr([r,p.pathname])),ua(p)}function cv(i,e,r){if(!r||!mw(r))return{path:e};if(r.formMethod&&!Rw(r.formMethod))return{path:e,error:lr(405,{method:r.formMethod})};let s=()=>({path:e,error:lr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=Z_(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!qn(u))return s();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[b,v])=>`${y}${b}=${v}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!qn(u))return s();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let c,p;if(r.formData)c=Sd(r.formData),p=r.formData;else if(r.body instanceof FormData)c=Sd(r.body),p=r.body;else if(r.body instanceof URLSearchParams)c=r.body,p=yv(c);else if(r.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(r.body),p=yv(c)}catch{return s()}let g={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(qn(g.formMethod))return{path:e,submission:g};let T=Ti(e);return i&&T.search&&Xd(T.search)&&c.append("index",""),T.search=`?${c}`,{path:ua(T),submission:g}}function fv(i,e,r,s,o,u,f,c,p,g,T,m,y,b,v,_,R,E,A){var $;let D=A?Bn(A[1])?A[1].error:A[1].data:void 0,V=o.createURL(u.location),L=o.createURL(p),k;if(T&&u.errors){let U=Object.keys(u.errors)[0];k=f.findIndex(he=>he.route.id===U)}else if(A&&Bn(A[1])){let U=A[0];k=f.findIndex(he=>he.route.id===U)-1}let I=A?A[1].statusCode:void 0,S=I&&I>=400,x={currentUrl:V,currentParams:(($=u.matches[0])==null?void 0:$.params)||{},nextUrl:L,nextParams:f[0].params,...c,actionResult:D,actionStatus:I},O=f.map((U,he)=>{let{route:pe}=U,G=null;if(k!=null&&he>k?G=!1:pe.lazy?G=!0:pe.loader==null?G=!1:T?G=Td(pe,u.loaderData,u.errors):pw(u.loaderData,u.matches[he],U)&&(G=!0),G!==null)return wd(r,s,i,U,g,e,G);let se=S?!1:m||V.pathname+V.search===L.pathname+L.search||V.search!==L.search||gw(u.matches[he],U),ye={...x,defaultShouldRevalidate:se},Re=Sc(U,ye);return wd(r,s,i,U,g,e,Re,ye)}),j=[];return v.forEach((U,he)=>{if(T||!f.some(ne=>ne.route.id===U.routeId)||b.has(he))return;let pe=ta(R,U.path,E);if(!pe){j.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(_.has(he))return;let G=u.fetchers.get(he),se=gl(pe,U.path),ye=new AbortController,Re=Hs(o,U.path,ye.signal),B=null;if(y.has(he))y.delete(he),B=Ks(r,s,Re,pe,se,g,e);else if(G&&G.state!=="idle"&&G.data===void 0)m&&(B=Ks(r,s,Re,pe,se,g,e));else{let ne={...x,defaultShouldRevalidate:S?!1:m};Sc(se,ne)&&(B=Ks(r,s,Re,pe,se,g,e,ne))}B&&j.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:Re,controller:ye})}),{dsMatches:O,revalidatingFetchers:j}}function Td(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function pw(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function gw(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function Sc(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function hv(i,e,r,s,o){let u;if(i){let p=s[i];Je(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=r;let f=e.filter(p=>!u.some(g=>G_(p,g))),c=Ec(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...c)}function G_(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>G_(r,u))}):!1}var dv=new WeakMap,Q_=({key:i,route:e,manifest:r,mapRouteProperties:s})=>{let o=r[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=dv.get(o);f||(f={},dv.set(o,f));let c=f[i];if(c)return c;let p=(async()=>{let g=PT(i),m=o[i]!==void 0&&i!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(m)Vt(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let y=await u();y!=null&&(Object.assign(o,{[i]:y}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(y=>y===void 0)&&(o.lazy=void 0))})();return f[i]=p,p},mv=new WeakMap;function yw(i,e,r,s,o){let u=r[i.id];if(Je(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let T=mv.get(u);if(T)return{lazyRoutePromise:T,lazyHandlerPromise:T};let m=(async()=>{Je(typeof i.lazy=="function","No lazy route function found");let y=await i.lazy(),b={};for(let v in y){let _=y[v];if(_===void 0)continue;let R=zT(v),A=u[v]!==void 0&&v!=="hasErrorBoundary";R?Vt(!R,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Vt(!A,`Route "${u.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):b[v]=_}Object.assign(u,b),Object.assign(u,{...s(u),lazy:void 0})})();return mv.set(u,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let f=Object.keys(i.lazy),c=[],p;for(let T of f){if(o&&o.includes(T))continue;let m=Q_({key:T,route:i,manifest:r,mapRouteProperties:s});m&&(c.push(m),T===e&&(p=m))}let g=c.length>0?Promise.all(c).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function pv(i){let e=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{r[e[u].route.id]=o}),r}async function vw(i){return i.matches.some(e=>e.route.unstable_middleware)?Y_(i,!1,()=>pv(i),(e,r)=>({[r]:{type:"error",result:e}})):pv(i)}async function Y_(i,e,r,s){let{matches:o,request:u,params:f,context:c}=i,p={handlerResult:void 0};try{let g=o.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(y=>[m.route.id,y]):[]),T=await K_({request:u,params:f,context:c},g,e,p,r);return e?T:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let T=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,T):T}}async function K_(i,e,r,s,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[u];if(!c)return s.handlerResult=await o(),s.handlerResult;let[p,g]=c,T=!1,m,y=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");T=!0,await K_(i,e,r,s,o,u+1)};try{let b=await g({request:i.request,params:i.params,context:i.context},y);return T?b===void 0?m:b:y()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:p,error:b}):s.middlewareError={routeId:p,error:b},b}}function X_(i,e,r,s,o){let u=Q_({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:i}),f=yw(s.route,qn(r.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function wd(i,e,r,s,o,u,f,c=null){let p=!1,g=X_(i,e,r,s,o);return{...s,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(T){return p=!0,c?typeof T=="boolean"?Sc(s,{...c,defaultShouldRevalidate:T}):Sc(s,c):f},resolve(T){return p||f||T&&r.method==="GET"&&(s.route.lazy||s.route.loader)?bw({request:r,match:s,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:T,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Ks(i,e,r,s,o,u,f,c=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:X_(i,e,r,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:wd(i,e,r,p,u,f,!0,c))}async function _w(i,e,r,s,o,u){r.some(g=>{var T;return(T=g._lazyPromises)==null?void 0:T.middleware})&&await Promise.all(r.map(g=>{var T;return(T=g._lazyPromises)==null?void 0:T.middleware}));let f={request:e,params:r[0].params,context:o,matches:r},p=await i({...f,fetcherKey:s,unstable_runClientMiddleware:g=>{let T=f;return Y_(T,!1,()=>g({...T,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,y)=>({[y]:{type:"error",result:m}}))}});try{await Promise.all(r.flatMap(g=>{var T,m;return[(T=g._lazyPromises)==null?void 0:T.handler,(m=g._lazyPromises)==null?void 0:m.route]}))}catch{}return p}async function bw({request:i,match:e,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let f,c,p=qn(i.method),g=p?"action":"loader",T=m=>{let y,b=new Promise((R,E)=>y=E);c=()=>y(),i.signal.addEventListener("abort",c);let v=R=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):m({request:i,params:e.params,context:u},...R!==void 0?[R]:[]),_=(async()=>{try{return{type:"data",result:await(o?o(E=>v(E)):v())}}catch(R){return{type:"error",result:R}}})();return Promise.race([_,b])};try{let m=p?e.route.action:e.route.loader;if(r||s)if(m){let y,[b]=await Promise.all([T(m).catch(v=>{y=v}),r,s]);if(y!==void 0)throw y;f=b}else{await r;let y=p?e.route.action:e.route.loader;if(y)[f]=await Promise.all([T(y),s]);else if(g==="action"){let b=new URL(i.url),v=b.pathname+b.search;throw lr(405,{method:i.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)f=await T(m);else{let y=new URL(i.url),b=y.pathname+y.search;throw lr(404,{pathname:b})}}catch(m){return{type:"error",result:m}}finally{c&&i.signal.removeEventListener("abort",c)}return f}async function Ew(i){var s,o,u,f,c,p;let{result:e,type:r}=i;if(J_(e)){let g;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(T){return{type:"error",error:T}}return r==="error"?{type:"error",error:new wc(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return r==="error"?Tv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Al(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Al(e)?e.status:void 0}:Tv(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Tw(i,e,r,s,o){let u=i.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Kd.test(u)){let f=s.slice(0,s.findIndex(c=>c.route.id===r)+1);u=Ed(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function gv(i,e,r){if(Kd.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=cr(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Hs(i,e,r,s){let o=i.createURL(Z_(e)).toString(),u={signal:r};if(s&&qn(s.formMethod)){let{formMethod:f,formEncType:c}=s;u.method=f.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(s.json)):c==="text/plain"?u.body=s.text:c==="application/x-www-form-urlencoded"&&s.formData?u.body=Sd(s.formData):u.body=s.formData}return new Request(o,u)}function Sd(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function yv(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function ww(i,e,r,s=!1,o=!1){let u={},f=null,c,p=!1,g={},T=r&&Bn(r[1])?r[1].error:void 0;return i.forEach(m=>{if(!(m.route.id in e))return;let y=m.route.id,b=e[y];if(Je(!Ya(b),"Cannot handle redirect results in processLoaderData"),Bn(b)){let v=b.error;if(T!==void 0&&(v=T,T=void 0),f=f||{},o)f[y]=v;else{let _=Qa(i,y);f[_.route.id]==null&&(f[_.route.id]=v)}s||(u[y]=F_),p||(p=!0,c=Al(b.error)?b.error.status:500),b.headers&&(g[y]=b.headers)}else u[y]=b.data,b.statusCode&&b.statusCode!==200&&!p&&(c=b.statusCode),b.headers&&(g[y]=b.headers)}),T!==void 0&&r&&(f={[r[0]]:T},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:f,statusCode:c||200,loaderHeaders:g}}function vv(i,e,r,s,o,u){let{loaderData:f,errors:c}=ww(e,r,s);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:T,controller:m}=p,y=u[g];if(Je(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Bn(y)){let b=Qa(i.matches,T==null?void 0:T.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:y.error}),i.fetchers.delete(g)}else if(Ya(y))Je(!1,"Unhandled fetcher revalidation redirect");else{let b=ea(y.data);i.fetchers.set(g,b)}}),{loaderData:f,errors:c}}function _v(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==F_).reduce((u,[f,c])=>(u[f]=c,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function bv(i){return i?Bn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Qa(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Ev(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function lr(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?c=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):i===403?(f="Forbidden",c=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",c=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?c=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(c=`Invalid request method "${s.toUpperCase()}"`)),new wc(i||500,f,new Error(c),!0)}function ic(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Ya(o))return{key:s,result:o}}}function Z_(i){let e=typeof i=="string"?Ti(i):i;return ua({...e,hash:""})}function Sw(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function Aw(i){return J_(i.result)&&uw.has(i.result.status)}function Bn(i){return i.type==="error"}function Ya(i){return(i&&i.type)==="redirect"}function Tv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function J_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function Rw(i){return lw.has(i.toUpperCase())}function qn(i){return sw.has(i.toUpperCase())}function Xd(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function gl(i,e){let r=typeof e=="string"?Ti(e).search:e.search;if(i[i.length-1].route.index&&Xd(r||""))return i[i.length-1];let s=B_(i);return s[s.length-1]}function wv(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function cd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xw(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function dl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Cw(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ea(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Dw(i,e){try{let r=i.sessionStorage.getItem(H_);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Ow(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(H_,JSON.stringify(r))}catch(s){Vt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function Iw(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var Ja=re.createContext(null);Ja.displayName="DataRouter";var Ll=re.createContext(null);Ll.displayName="DataRouterState";var Zd=re.createContext({isTransitioning:!1});Zd.displayName="ViewTransition";var W_=re.createContext(new Map);W_.displayName="Fetchers";var Mw=re.createContext(null);Mw.displayName="Await";var Gr=re.createContext(null);Gr.displayName="Navigation";var $c=re.createContext(null);$c.displayName="Location";var Qr=re.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var Jd=re.createContext(null);Jd.displayName="RouteError";function Nw(i,{relative:e}={}){Je(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=re.useContext(Gr),{hash:o,pathname:u,search:f}=Pl(i,{relative:e}),c=u;return r!=="/"&&(c=u==="/"?r:zr([r,u])),s.createHref({pathname:c,search:f,hash:o})}function jl(){return re.useContext($c)!=null}function wi(){return Je(jl(),"useLocation() may be used only in the context of a <Router> component."),re.useContext($c).location}var e0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t0(i){re.useContext(Gr).static||re.useLayoutEffect(i)}function Wd(){let{isDataRoute:i}=re.useContext(Qr);return i?Yw():Vw()}function Vw(){Je(jl(),"useNavigate() may be used only in the context of a <Router> component.");let i=re.useContext(Ja),{basename:e,navigator:r}=re.useContext(Gr),{matches:s}=re.useContext(Qr),{pathname:o}=wi(),u=JSON.stringify(Qd(s)),f=re.useRef(!1);return t0(()=>{f.current=!0}),re.useCallback((p,g={})=>{if(Vt(f.current,e0),!f.current)return;if(typeof p=="number"){r.go(p);return}let T=Yd(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:zr([e,T.pathname])),(g.replace?r.replace:r.push)(T,g.state,g)},[e,r,u,o,i])}var kw=re.createContext(null);function Lw(i){let e=re.useContext(Qr).outlet;return e&&re.createElement(kw.Provider,{value:i},e)}function Pl(i,{relative:e}={}){let{matches:r}=re.useContext(Qr),{pathname:s}=wi(),o=JSON.stringify(Qd(r));return re.useMemo(()=>Yd(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function jw(i,e,r,s){Je(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=re.useContext(Gr),{matches:f}=re.useContext(Qr),c=f[f.length-1],p=c?c.params:{},g=c?c.pathname:"/",T=c?c.pathnameBase:"/",m=c&&c.route;{let A=m&&m.path||"";n0(g,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=wi(),b;b=y;let v=b.pathname||"/",_=v;if(T!=="/"){let A=T.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=!u&&r&&r.matches&&r.matches.length>0?r.matches:ta(i,{pathname:_});return Vt(m||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Bw(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:zr([T,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?T:zr([T,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),f,r,s)}function Pw(){let i=Qw(),e=Al(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=re.createElement(re.Fragment,null,re.createElement("p",null,"💿 Hey developer 👋"),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:u},"ErrorBoundary")," or"," ",re.createElement("code",{style:u},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),r?re.createElement("pre",{style:o},r):null,f)}var Uw=re.createElement(Pw,null),zw=class extends re.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?re.createElement(Qr.Provider,{value:this.props.routeContext},re.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $w({routeContext:i,match:e,children:r}){let s=re.useContext(Ja);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(Qr.Provider,{value:i},r)}function Bw(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(r)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=p),g.route.id){let{loaderData:T,errors:m}=r,y=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||y){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let m,y=!1,b=null,v=null;r&&(m=u&&g.route.id?u[g.route.id]:void 0,b=g.route.errorElement||Uw,f&&(c<0&&T===0?(n0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===T&&(y=!0,v=g.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,T+1)),R=()=>{let E;return m?E=b:y?E=v:g.route.Component?E=re.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=p,re.createElement($w,{match:g,routeContext:{outlet:p,matches:_,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?re.createElement(zw,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:R(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):R()},null)}function em(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(i){let e=re.useContext(Ja);return Je(e,em(i)),e}function Hw(i){let e=re.useContext(Ll);return Je(e,em(i)),e}function Fw(i){let e=re.useContext(Qr);return Je(e,em(i)),e}function tm(i){let e=Fw(i),r=e.matches[e.matches.length-1];return Je(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Gw(){return tm("useRouteId")}function Qw(){var s;let i=re.useContext(Jd),e=Hw("useRouteError"),r=tm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function Yw(){let{router:i}=qw("useNavigate"),e=tm("useNavigate"),r=re.useRef(!1);return t0(()=>{r.current=!0}),re.useCallback(async(o,u={})=>{Vt(r.current,e0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Sv={};function n0(i,e,r){!e&&!Sv[i]&&(Sv[i]=!0,Vt(!1,r))}var Av={};function Rv(i,e){!i&&!Av[e]&&(Av[e]=!0,console.warn(e))}function Kw(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:re.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:re.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:re.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var Xw=["HydrateFallback","hydrateFallbackElement"],Zw=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function Jw({router:i,flushSync:e}){let[r,s]=re.useState(i.state),[o,u]=re.useState(),[f,c]=re.useState({isTransitioning:!1}),[p,g]=re.useState(),[T,m]=re.useState(),[y,b]=re.useState(),v=re.useRef(new Map),_=re.useCallback((D,{deletedFetchers:V,flushSync:L,viewTransitionOpts:k})=>{D.fetchers.forEach((S,x)=>{S.data!==void 0&&v.current.set(x,S.data)}),V.forEach(S=>v.current.delete(S)),Rv(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Rv(k==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!I){e&&L?e(()=>s(D)):re.startTransition(()=>s(D));return}if(e&&L){e(()=>{T&&(p&&p.resolve(),T.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let S=i.window.document.startViewTransition(()=>{e(()=>s(D))});S.finished.finally(()=>{e(()=>{g(void 0),m(void 0),u(void 0),c({isTransitioning:!1})})}),e(()=>m(S));return}T?(p&&p.resolve(),T.skipTransition(),b({state:D,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(u(D),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[i.window,e,T,p]);re.useLayoutEffect(()=>i.subscribe(_),[i,_]),re.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new Zw)},[f]),re.useEffect(()=>{if(p&&o&&i.window){let D=o,V=p.promise,L=i.window.document.startViewTransition(async()=>{re.startTransition(()=>s(D)),await V});L.finished.finally(()=>{g(void 0),m(void 0),u(void 0),c({isTransitioning:!1})}),m(L)}},[o,p,i.window]),re.useEffect(()=>{p&&o&&r.location.key===o.location.key&&p.resolve()},[p,T,r.location,o]),re.useEffect(()=>{!f.isTransitioning&&y&&(u(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[f.isTransitioning,y]);let R=re.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:D=>i.navigate(D),push:(D,V,L)=>i.navigate(D,{state:V,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(D,V,L)=>i.navigate(D,{replace:!0,state:V,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[i]),E=i.basename||"/",A=re.useMemo(()=>({router:i,navigator:R,static:!1,basename:E}),[i,R,E]);return re.createElement(re.Fragment,null,re.createElement(Ja.Provider,{value:A},re.createElement(Ll.Provider,{value:r},re.createElement(W_.Provider,{value:v.current},re.createElement(Zd.Provider,{value:f},re.createElement(nS,{basename:E,location:r.location,navigationType:r.historyAction,navigator:R},re.createElement(Ww,{routes:i.routes,future:i.future,state:r})))))),null)}var Ww=re.memo(eS);function eS({routes:i,future:e,state:r}){return jw(i,void 0,r,e)}function tS(i){return Lw(i.context)}function nS({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Je(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),c=re.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=Ti(r));let{pathname:p="/",search:g="",hash:T="",state:m=null,key:y="default"}=r,b=re.useMemo(()=>{let v=cr(p,f);return v==null?null:{location:{pathname:v,search:g,hash:T,state:m,key:y},navigationType:s}},[f,p,g,T,m,y,s]);return Vt(b!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:re.createElement(Gr.Provider,{value:c},re.createElement($c.Provider,{children:e,value:b}))}var dc="get",mc="application/x-www-form-urlencoded";function Bc(i){return i!=null&&typeof i.tagName=="string"}function rS(i){return Bc(i)&&i.tagName.toLowerCase()==="button"}function iS(i){return Bc(i)&&i.tagName.toLowerCase()==="form"}function aS(i){return Bc(i)&&i.tagName.toLowerCase()==="input"}function sS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function oS(i,e){return i.button===0&&(!e||e==="_self")&&!sS(i)}var ac=null;function lS(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var uS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(i){return i!=null&&!uS.has(i)?(Vt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):i}function cS(i,e){let r,s,o,u,f;if(iS(i)){let c=i.getAttribute("action");s=c?cr(c,e):null,r=i.getAttribute("method")||dc,o=fd(i.getAttribute("enctype"))||mc,u=new FormData(i)}else if(rS(i)||aS(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||c.getAttribute("action");if(s=p?cr(p,e):null,r=i.getAttribute("formmethod")||c.getAttribute("method")||dc,o=fd(i.getAttribute("formenctype"))||fd(c.getAttribute("enctype"))||mc,u=new FormData(c,i),!lS()){let{name:g,type:T,value:m}=i;if(T==="image"){let y=g?`${g}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else g&&u.append(g,m)}}else{if(Bc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=dc,s=null,o=mc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function nm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function fS(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function dS(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await fS(u,r);return f.links?f.links():[]}return[]}));return yS(s.flat(1).filter(hS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(i,e,r,s,o,u){let f=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,c=(p,g)=>{var T;return r[g].pathname!==p.pathname||((T=r[g].route.path)==null?void 0:T.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||c(p,g)):u==="data"?e.filter((p,g)=>{var m;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||c(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function mS(i,e,{includeHydrateFallback:r}={}){return pS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pS(i){return[...new Set(i)]}function gS(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function yS(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(gS(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}var vS=new Set([100,101,204,205]);function _S(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&cr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function r0(){let i=re.useContext(Ja);return nm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bS(){let i=re.useContext(Ll);return nm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var rm=re.createContext(void 0);rm.displayName="FrameworkContext";function i0(){let i=re.useContext(rm);return nm(i,"You must render this element inside a <HydratedRouter> element"),i}function ES(i,e){let r=re.useContext(rm),[s,o]=re.useState(!1),[u,f]=re.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:m}=e,y=re.useRef(null);re.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let _=E=>{E.forEach(A=>{f(A.isIntersecting)})},R=new IntersectionObserver(_,{threshold:.5});return y.current&&R.observe(y.current),()=>{R.disconnect()}}},[i]),re.useEffect(()=>{if(s){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[s]);let b=()=>{o(!0)},v=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,y,{}]:[u,y,{onFocus:ml(c,b),onBlur:ml(p,v),onMouseEnter:ml(g,b),onMouseLeave:ml(T,v),onTouchStart:ml(m,b)}]:[!1,y,{}]}function ml(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function TS({page:i,...e}){let{router:r}=r0(),s=re.useMemo(()=>ta(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?re.createElement(SS,{page:i,matches:s,...e}):null}function wS(i){let{manifest:e,routeModules:r}=i0(),[s,o]=re.useState([]);return re.useEffect(()=>{let u=!1;return dS(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),s}function SS({page:i,matches:e,...r}){let s=wi(),{manifest:o,routeModules:u}=i0(),{basename:f}=r0(),{loaderData:c,matches:p}=bS(),g=re.useMemo(()=>xv(i,e,p,o,s,"data"),[i,e,p,o,s]),T=re.useMemo(()=>xv(i,e,p,o,s,"assets"),[i,e,p,o,s]),m=re.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let v=new Set,_=!1;if(e.forEach(E=>{var D;let A=o.routes[E.route.id];!A||!A.hasLoader||(!g.some(V=>V.route.id===E.route.id)&&E.route.id in c&&((D=u[E.route.id])!=null&&D.shouldRevalidate)||A.hasClientLoader?_=!0:v.add(E.route.id))}),v.size===0)return[];let R=_S(i,f);return _&&v.size>0&&R.searchParams.set("_routes",e.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[f,c,s,o,g,e,i,u]),y=re.useMemo(()=>mS(T,o),[T,o]),b=wS(T);return re.createElement(re.Fragment,null,m.map(v=>re.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),y.map(v=>re.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),b.map(({key:v,link:_})=>re.createElement("link",{key:v,..._})))}function AS(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var a0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a0&&(window.__reactRouterVersion="7.5.3")}catch{}function RS(i,e){return dw({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:VT({window:e==null?void 0:e.window}),hydrationData:xS(),routes:i,mapRouteProperties:Kw,hydrationRouteProperties:Xw,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function xS(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:CS(i.errors)}),i}function CS(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new wc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o0=re.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:c,target:p,to:g,preventScrollReset:T,viewTransition:m,...y},b){let{basename:v}=re.useContext(Gr),_=typeof g=="string"&&s0.test(g),R,E=!1;if(typeof g=="string"&&_&&(R=g,a0))try{let x=new URL(window.location.href),O=g.startsWith("//")?new URL(x.protocol+g):new URL(g),j=cr(O.pathname,v);O.origin===x.origin&&j!=null?g=j+O.search+O.hash:E=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Nw(g,{relative:o}),[D,V,L]=ES(s,y),k=IS(g,{replace:f,state:c,target:p,preventScrollReset:T,relative:o,viewTransition:m});function I(x){e&&e(x),x.defaultPrevented||k(x)}let S=re.createElement("a",{...y,...L,href:R||A,onClick:E||u?e:I,ref:AS(b,V),target:p,"data-discover":!_&&r==="render"?"true":void 0});return D&&!_?re.createElement(re.Fragment,null,S,re.createElement(TS,{page:A})):S});o0.displayName="Link";var na=re.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:c,children:p,...g},T){let m=Pl(f,{relative:g.relative}),y=wi(),b=re.useContext(Ll),{navigator:v,basename:_}=re.useContext(Gr),R=b!=null&&LS(m)&&c===!0,E=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,A=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(A=A.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&_&&(D=cr(D,_)||D);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=A===E||!o&&A.startsWith(E)&&A.charAt(V)==="/",k=D!=null&&(D===E||!o&&D.startsWith(E)&&D.charAt(E.length)==="/"),I={isActive:L,isPending:k,isTransitioning:R},S=L?e:void 0,x;typeof s=="function"?x=s(I):x=[s,L?"active":null,k?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return re.createElement(o0,{...g,"aria-current":S,className:x,ref:T,style:O,to:f,viewTransition:c},typeof p=="function"?p(I):p)});na.displayName="NavLink";var DS=re.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:f=dc,action:c,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:m,...y},b)=>{let v=VS(),_=kS(c,{relative:g}),R=f.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&s0.test(c),A=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,L=(V==null?void 0:V.getAttribute("formmethod"))||f;v(V||D.currentTarget,{fetcherKey:e,method:L,navigate:r,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:m})};return re.createElement("form",{ref:b,method:R,action:_,onSubmit:s?p:A,...y,"data-discover":!E&&i==="render"?"true":void 0})});DS.displayName="Form";function OS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l0(i){let e=re.useContext(Ja);return Je(e,OS(i)),e}function IS(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let c=Wd(),p=wi(),g=Pl(i,{relative:u});return re.useCallback(T=>{if(oS(T,e)){T.preventDefault();let m=r!==void 0?r:ua(p)===ua(g);c(i,{replace:m,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,c,g,r,s,e,i,o,u,f])}var MS=0,NS=()=>`__${String(++MS)}__`;function VS(){let{router:i}=l0("useSubmit"),{basename:e}=re.useContext(Gr),r=Gw();return re.useCallback(async(s,o={})=>{let{action:u,method:f,encType:c,formData:p,body:g}=cS(s,e);if(o.navigate===!1){let T=o.fetcherKey||NS();await i.fetch(T,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function kS(i,{relative:e}={}){let{basename:r}=re.useContext(Gr),s=re.useContext(Qr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pl(i||".",{relative:e})},f=wi();if(i==null){u.search=f.search;let c=new URLSearchParams(u.search),p=c.getAll("index");if(p.some(T=>T==="")){c.delete("index"),p.filter(m=>m).forEach(m=>c.append("index",m));let T=c.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:zr([r,u.pathname])),ua(u)}function LS(i,e={}){let r=re.useContext(Zd);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=l0("useViewTransitionState"),o=Pl(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=cr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=cr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Tc(o.pathname,f)!=null||Tc(o.pathname,u)!=null}new TextEncoder;[...vS];const jS="data:image/svg+xml,%3csvg%20width='34'%20height='34'%20viewBox='0%200%2034%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24.0833%2025.5C24.8348%2025.5%2025.5554%2025.7985%2026.0868%2026.3299C26.6181%2026.8612%2026.9167%2027.5819%2026.9167%2028.3333C26.9167%2029.0848%2026.6181%2029.8055%2026.0868%2030.3368C25.5554%2030.8682%2024.8348%2031.1667%2024.0833%2031.1667C23.3319%2031.1667%2022.6112%2030.8682%2022.0799%2030.3368C21.5485%2029.8055%2021.25%2029.0848%2021.25%2028.3333C21.25%2026.7608%2022.5108%2025.5%2024.0833%2025.5ZM1.41666%202.83333H6.04916L7.38082%205.66667H28.3333C28.709%205.66667%2029.0694%205.81592%2029.3351%206.0816C29.6007%206.34728%2029.75%206.70761%2029.75%207.08333C29.75%207.32417%2029.6792%207.565%2029.58%207.79167L24.5083%2016.9575C24.0267%2017.8217%2023.0917%2018.4167%2022.0292%2018.4167H11.475L10.2%2020.7258L10.1575%2020.8958C10.1575%2020.9898%2010.1948%2021.0798%2010.2612%2021.1463C10.3276%2021.2127%2010.4177%2021.25%2010.5117%2021.25H26.9167V24.0833H9.91666C9.16521%2024.0833%208.44454%2023.7848%207.91319%2023.2535C7.38183%2022.7221%207.08332%2022.0014%207.08332%2021.25C7.08332%2020.7542%207.21082%2020.2867%207.42332%2019.89L9.34999%2016.4192L4.24999%205.66667H1.41666V2.83333ZM9.91666%2025.5C10.6681%2025.5%2011.3888%2025.7985%2011.9201%2026.3299C12.4515%2026.8612%2012.75%2027.5819%2012.75%2028.3333C12.75%2029.0848%2012.4515%2029.8055%2011.9201%2030.3368C11.3888%2030.8682%2010.6681%2031.1667%209.91666%2031.1667C9.16521%2031.1667%208.44454%2030.8682%207.91319%2030.3368C7.38183%2029.8055%207.08332%2029.0848%207.08332%2028.3333C7.08332%2026.7608%208.34416%2025.5%209.91666%2025.5ZM22.6667%2015.5833L26.605%208.5H8.69832L12.0417%2015.5833H22.6667Z'%20fill='black'/%3e%3c/svg%3e",PS=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},US=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],c=i[r++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,c=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,m=(u&3)<<4|c>>4;let y=(c&15)<<2|g>>6,b=g&63;p||(b=64,f||(y=64)),s.push(r[T],r[m],r[y],r[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(u0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):US(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],c=o<i.length?r[i.charAt(o)]:0;++o;const g=o<i.length?r[i.charAt(o)]:64;++o;const m=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||c==null||g==null||m==null)throw new zS;const y=u<<2|c>>4;if(s.push(y),g!==64){const b=c<<4&240|g>>2;if(s.push(b),m!==64){const v=g<<6&192|m;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $S=function(i){const e=u0(i);return c0.encodeByteArray(e,!0)},Ac=function(i){return $S(i).replace(/\./g,"")},BS=function(i){try{return c0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=()=>qS().__FIREBASE_DEFAULTS__,FS=()=>{if(typeof process>"u"||typeof Cv>"u")return;const i=Cv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&BS(i[1]);return e&&JSON.parse(e)},im=()=>{try{return PS()||HS()||FS()||GS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QS=i=>{var e,r;return(r=(e=im())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},YS=i=>{const e=QS(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},f0=()=>{var i;return(i=im())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ac(JSON.stringify(r)),Ac(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){var i;const e=(i=im())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WS(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eA(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="FirebaseError";class ao extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=nA,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h0.prototype.create)}}class h0{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rA(u,s):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new ao(o,c,s)}}function rA(i,e){return i.replace(iA,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iA=/\{\$([^}]+)}/g;function Rc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Dv(u)&&Dv(f)){if(!Rc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Dv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(i){return i&&i._delegate?i._delegate:i}class xl{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new KS;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oA(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);s===c&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sA(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sA(i){return i===Ga?void 0:i}function oA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new aA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const uA={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},cA=at.INFO,fA={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},hA=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=fA[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=cA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const dA=(i,e)=>e.some(r=>i instanceof r);let Ov,Iv;function mA(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pA(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,Ad=new WeakMap,p0=new WeakMap,hd=new WeakMap,am=new WeakMap;function gA(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ia(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&m0.set(r,i)}).catch(()=>{}),am.set(e,i),e}function yA(i){if(Ad.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Ad.set(i,e)}let Rd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Ad.get(i);if(e==="objectStoreNames")return i.objectStoreNames||p0.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function vA(i){Rd=i(Rd)}function _A(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(dd(this),e,...r);return p0.set(s,e.sort?e.sort():[e]),ia(s)}:pA().includes(i)?function(...e){return i.apply(dd(this),e),ia(m0.get(this))}:function(...e){return ia(i.apply(dd(this),e))}}function bA(i){return typeof i=="function"?_A(i):(i instanceof IDBTransaction&&yA(i),dA(i,mA())?new Proxy(i,Rd):i)}function ia(i){if(i instanceof IDBRequest)return gA(i);if(hd.has(i))return hd.get(i);const e=bA(i);return e!==i&&(hd.set(i,e),am.set(e,i)),e}const dd=i=>am.get(i);function EA(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),c=ia(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ia(f.result),p.oldVersion,p.newVersion,ia(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),c.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const TA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],md=new Map;function Mv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=wA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||TA.includes(r)))return;const u=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(c.shift())),(await Promise.all([g[r](...c),o&&p.done]))[0]};return md.set(e,u),u}vA(i=>({...i,get:(e,r,s)=>Mv(e,r)||i.get(e,r,s),has:(e,r)=>!!Mv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(AA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function AA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xd="@firebase/app",Nv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new d0("@firebase/app"),RA="@firebase/app-compat",xA="@firebase/analytics-compat",CA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",IA="@firebase/auth",MA="@firebase/auth-compat",NA="@firebase/database",VA="@firebase/data-connect",kA="@firebase/database-compat",LA="@firebase/functions",jA="@firebase/functions-compat",PA="@firebase/installations",UA="@firebase/installations-compat",zA="@firebase/messaging",$A="@firebase/messaging-compat",BA="@firebase/performance",qA="@firebase/performance-compat",HA="@firebase/remote-config",FA="@firebase/remote-config-compat",GA="@firebase/storage",QA="@firebase/storage-compat",YA="@firebase/firestore",KA="@firebase/vertexai",XA="@firebase/firestore-compat",ZA="firebase",JA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",WA={[xd]:"fire-core",[RA]:"fire-core-compat",[CA]:"fire-analytics",[xA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[IA]:"fire-auth",[MA]:"fire-auth-compat",[NA]:"fire-rtdb",[VA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[LA]:"fire-fn",[jA]:"fire-fn-compat",[PA]:"fire-iid",[UA]:"fire-iid-compat",[zA]:"fire-fcm",[$A]:"fire-fcm-compat",[BA]:"fire-perf",[qA]:"fire-perf-compat",[HA]:"fire-rc",[FA]:"fire-rc-compat",[GA]:"fire-gcs",[QA]:"fire-gcs-compat",[YA]:"fire-fst",[XA]:"fire-fst-compat",[KA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,e1=new Map,Dd=new Map;function Vv(i,e){try{i.container.addComponent(e)}catch(r){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Cc(i){const e=i.name;if(Dd.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Dd.set(e,i);for(const r of xc.values())Vv(r,i);for(const r of e1.values())Vv(r,i);return!0}function t1(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function n1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new h0("app","Firebase",r1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=JA;function g0(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(r||(r=f0()),!r)throw aa.create("no-options");const u=xc.get(o);if(u){if(Rc(r,u.options)&&Rc(s,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const f=new lA(o);for(const p of Dd.values())f.addComponent(p);const c=new i1(r,s,f);return xc.set(o,c),c}function s1(i=Cd){const e=xc.get(i);if(!e&&i===Cd&&f0())return g0();if(!e)throw aa.create("no-app",{appName:i});return e}function Xs(i,e,r){var s;let o=(s=WA[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(c.join(" "));return}Cc(new xl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",l1=1,Cl="firebase-heartbeat-store";let pd=null;function y0(){return pd||(pd=EA(o1,l1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Cl)}catch(r){console.warn(r)}}}}).catch(i=>{throw aa.create("idb-open",{originalErrorMessage:i.message})})),pd}async function u1(i){try{const r=(await y0()).transaction(Cl),s=await r.objectStore(Cl).get(v0(i));return await r.done,s}catch(e){if(e instanceof ao)_i.warn(e.message);else{const r=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(r.message)}}}async function kv(i,e){try{const s=(await y0()).transaction(Cl,"readwrite");await s.objectStore(Cl).put(e,v0(i)),await s.done}catch(r){if(r instanceof ao)_i.warn(r.message);else{const s=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(s.message)}}}function v0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,f1=30;class h1{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new m1(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Lv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>f1){const f=p1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Lv(),{heartbeatsToSend:s,unsentEntries:o}=d1(this._heartbeatsCache.heartbeats),u=Ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return _i.warn(r),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function d1(i,e=c1){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),jv(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),jv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class m1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eA()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await u1(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return kv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return kv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jv(i){return Ac(JSON.stringify({version:2,heartbeats:i})).length}function p1(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(i){Cc(new xl("platform-logger",e=>new SA(e),"PRIVATE")),Cc(new xl("heartbeat",e=>new h1(e),"PRIVATE")),Xs(xd,Nv,i),Xs(xd,Nv,"esm2017"),Xs("fire-js","")}g1("");var y1="firebase",v1="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(y1,v1,"app");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,_0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function x(){}x.prototype=S.prototype,I.D=S.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(O,j,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return S.prototype[j].apply(O,U)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,x){x||(x=0);var O=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)O[j]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(j=0;16>j;++j)O[j]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=I.g[0],x=I.g[1],j=I.g[2];var $=I.g[3],U=S+($^x&(j^$))+O[0]+3614090360&4294967295;S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[1]+3905402710&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[2]+606105819&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[3]+3250441966&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+($^x&(j^$))+O[4]+4118548399&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[5]+1200080426&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[6]+2821735955&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[7]+4249261313&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+($^x&(j^$))+O[8]+1770035416&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[9]+2336552879&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[10]+4294925233&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[11]+2304563134&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+($^x&(j^$))+O[12]+1804603682&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(j^S&(x^j))+O[13]+4254626195&4294967295,$=S+(U<<12&4294967295|U>>>20),U=j+(x^$&(S^x))+O[14]+2792965006&4294967295,j=$+(U<<17&4294967295|U>>>15),U=x+(S^j&($^S))+O[15]+1236535329&4294967295,x=j+(U<<22&4294967295|U>>>10),U=S+(j^$&(x^j))+O[1]+4129170786&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[6]+3225465664&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[11]+643717713&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[0]+3921069994&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(j^$&(x^j))+O[5]+3593408605&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[10]+38016083&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[15]+3634488961&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[4]+3889429448&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(j^$&(x^j))+O[9]+568446438&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[14]+3275163606&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[3]+4107603335&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[8]+1163531501&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(j^$&(x^j))+O[13]+2850285829&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^j&(S^x))+O[2]+4243563512&4294967295,$=S+(U<<9&4294967295|U>>>23),U=j+(S^x&($^S))+O[7]+1735328473&4294967295,j=$+(U<<14&4294967295|U>>>18),U=x+($^S&(j^$))+O[12]+2368359562&4294967295,x=j+(U<<20&4294967295|U>>>12),U=S+(x^j^$)+O[5]+4294588738&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[8]+2272392833&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[11]+1839030562&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[14]+4259657740&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(x^j^$)+O[1]+2763975236&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[4]+1272893353&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[7]+4139469664&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[10]+3200236656&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(x^j^$)+O[13]+681279174&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[0]+3936430074&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[3]+3572445317&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[6]+76029189&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(x^j^$)+O[9]+3654602809&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^j)+O[12]+3873151461&4294967295,$=S+(U<<11&4294967295|U>>>21),U=j+($^S^x)+O[15]+530742520&4294967295,j=$+(U<<16&4294967295|U>>>16),U=x+(j^$^S)+O[2]+3299628645&4294967295,x=j+(U<<23&4294967295|U>>>9),U=S+(j^(x|~$))+O[0]+4096336452&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[7]+1126891415&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[14]+2878612391&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[5]+4237533241&4294967295,x=j+(U<<21&4294967295|U>>>11),U=S+(j^(x|~$))+O[12]+1700485571&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[3]+2399980690&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[10]+4293915773&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[1]+2240044497&4294967295,x=j+(U<<21&4294967295|U>>>11),U=S+(j^(x|~$))+O[8]+1873313359&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[15]+4264355552&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[6]+2734768916&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[13]+1309151649&4294967295,x=j+(U<<21&4294967295|U>>>11),U=S+(j^(x|~$))+O[4]+4149444226&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~j))+O[11]+3174756917&4294967295,$=S+(U<<10&4294967295|U>>>22),U=j+(S^($|~x))+O[2]+718787259&4294967295,j=$+(U<<15&4294967295|U>>>17),U=x+($^(j|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+$&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var x=S-this.blockSize,O=this.B,j=this.h,$=0;$<S;){if(j==0)for(;$<=x;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<S;)if(O[j++]=I.charCodeAt($++),j==this.blockSize){o(this,O),j=0;break}}else for(;$<S;)if(O[j++]=I[$++],j==this.blockSize){o(this,O),j=0;break}}this.h=j,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var x=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=x&255,x/=256;for(this.u(I),I=Array(16),S=x=0;4>S;++S)for(var O=0;32>O;O+=8)I[x++]=this.g[S]>>>O&255;return I};function u(I,S){var x=c;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=S(I)}function f(I,S){this.h=S;for(var x=[],O=!0,j=I.length-1;0<=j;j--){var $=I[j]|0;O&&$==S||(x[j]=$,O=!1)}this.g=x}var c={};function p(I){return-128<=I&&128>I?u(I,function(S){return new f([S|0],0>S?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return R(g(-I));for(var S=[],x=1,O=0;I>=x;O++)S[O]=I/x|0,x*=4294967296;return new f(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return R(T(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(S,8)),O=m,j=0;j<I.length;j+=8){var $=Math.min(8,I.length-j),U=parseInt(I.substring(j,j+$),S);8>$?($=g(Math.pow(S,$)),O=O.j($).add(g(U))):(O=O.j(x),O=O.add(g(U)))}return O}var m=p(0),y=p(1),b=p(16777216);i=f.prototype,i.m=function(){if(_(this))return-R(this).m();for(var I=0,S=1,x=0;x<this.g.length;x++){var O=this.i(x);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(_(this))return"-"+R(this).toString(I);for(var S=g(Math.pow(I,6)),x=this,O="";;){var j=V(x,S).g;x=E(x,j.j(S));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=j,v(x))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function _(I){return I.h==-1}i.l=function(I){return I=E(this,I),_(I)?-1:v(I)?0:1};function R(I){for(var S=I.g.length,x=[],O=0;O<S;O++)x[O]=~I.g[O];return new f(x,~I.h).add(y)}i.abs=function(){return _(this)?R(this):this},i.add=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0,j=0;j<=S;j++){var $=O+(this.i(j)&65535)+(I.i(j)&65535),U=($>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);O=U>>>16,$&=65535,U&=65535,x[j]=U<<16|$}return new f(x,x[x.length-1]&-2147483648?-1:0)};function E(I,S){return I.add(R(S))}i.j=function(I){if(v(this)||v(I))return m;if(_(this))return _(I)?R(this).j(R(I)):R(R(this).j(I));if(_(I))return R(this.j(R(I)));if(0>this.l(b)&&0>I.l(b))return g(this.m()*I.m());for(var S=this.g.length+I.g.length,x=[],O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<I.g.length;j++){var $=this.i(O)>>>16,U=this.i(O)&65535,he=I.i(j)>>>16,pe=I.i(j)&65535;x[2*O+2*j]+=U*pe,A(x,2*O+2*j),x[2*O+2*j+1]+=$*pe,A(x,2*O+2*j+1),x[2*O+2*j+1]+=U*he,A(x,2*O+2*j+1),x[2*O+2*j+2]+=$*he,A(x,2*O+2*j+2)}for(O=0;O<S;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=S;O<2*S;O++)x[O]=0;return new f(x,0)};function A(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function D(I,S){this.g=I,this.h=S}function V(I,S){if(v(S))throw Error("division by zero");if(v(I))return new D(m,m);if(_(I))return S=V(R(I),S),new D(R(S.g),R(S.h));if(_(S))return S=V(I,R(S)),new D(R(S.g),S.h);if(30<I.g.length){if(_(I)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var x=y,O=S;0>=O.l(I);)x=L(x),O=L(O);var j=k(x,1),$=k(O,1);for(O=k(O,2),x=k(x,2);!v(O);){var U=$.add(O);0>=U.l(I)&&(j=j.add(x),$=U),O=k(O,1),x=k(x,1)}return S=E(I,j.j(S)),new D(j,S)}for(j=m;0<=I.l(S);){for(x=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=g(x),U=$.j(S);_(U)||0<U.l(I);)x-=O,$=g(x),U=$.j(S);v($)&&($=y),j=j.add($),I=E(I,U)}return new D(j,I)}i.A=function(I){return V(this,I).h},i.and=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)&I.i(O);return new f(x,this.h&I.h)},i.or=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)|I.i(O);return new f(x,this.h|I.h)},i.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)^I.i(O);return new f(x,this.h^I.h)};function L(I){for(var S=I.g.length+1,x=[],O=0;O<S;O++)x[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(x,I.h)}function k(I,S){var x=S>>5;S%=32;for(var O=I.g.length-x,j=[],$=0;$<O;$++)j[$]=0<S?I.i($+x)>>>S|I.i($+x+1)<<32-S:I.i($+x);return new f(j,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,sa=f}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b0,yl,E0,pc,Od,T0,w0,S0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,M){return h==Array.prototype||h==Object.prototype||(h[C]=M.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var C=0;C<h.length;++C){var M=h[C];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var s=r(this);function o(h,C){if(C)e:{var M=s;h=h.split(".");for(var z=0;z<h.length-1;z++){var K=h[z];if(!(K in M))break e;M=M[K]}h=h[h.length-1],z=M[h],C=C(z),C!=z&&C!=null&&e(M,h,{configurable:!0,writable:!0,value:C})}}function u(h,C){h instanceof String&&(h+="");var M=0,z=!1,K={next:function(){if(!z&&M<h.length){var ie=M++;return{value:C(ie,h[ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(h){return h||function(){return u(this,function(C,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function g(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function T(h,C,M){return h.call.apply(h.bind,arguments)}function m(h,C,M){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,z),h.apply(C,K)}}return function(){return h.apply(C,arguments)}}function y(h,C,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:m,y.apply(null,arguments)}function b(h,C){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,C){function M(){}M.prototype=C.prototype,h.aa=C.prototype,h.prototype=new M,h.prototype.constructor=h,h.Qb=function(z,K,ie){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return C.prototype[K].apply(z,ve)}}function _(h){const C=h.length;if(0<C){const M=Array(C);for(let z=0;z<C;z++)M[z]=h[z];return M}return[]}function R(h,C){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(p(z)){const K=h.length||0,ie=z.length||0;h.length=K+ie;for(let ve=0;ve<ie;ve++)h[K+ve]=z[ve]}else h.push(z)}}class E{constructor(C,M){this.i=C,this.j=M,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var L=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function k(h,C,M){for(const z in h)C.call(M,h[z],z,h)}function I(h,C){for(const M in h)C.call(void 0,h[M],M,h)}function S(h){const C={};for(const M in h)C[M]=h[M];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,C){let M,z;for(let K=1;K<arguments.length;K++){z=arguments[K];for(M in z)h[M]=z[M];for(let ie=0;ie<x.length;ie++)M=x[ie],Object.prototype.hasOwnProperty.call(z,M)&&(h[M]=z[M])}}function j(h){var C=1;h=h.split(":");const M=[];for(;0<C&&h.length;)M.push(h.shift()),C--;return h.length&&M.push(h.join(":")),M}function $(h){c.setTimeout(()=>{throw h},0)}function U(){var h=Re;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class he{constructor(){this.h=this.g=null}add(C,M){const z=pe.get();z.set(C,M),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new E(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(C,M){this.h=C,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ye=!1,Re=new he,B=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(ne)}};var ne=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(M){$(M)}var C=pe;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}ye=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const M=()=>{};c.addEventListener("test",M,C),c.removeEventListener("test",M,C)}catch{}return h}();function je(h,C){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var M=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(L){e:{try{V(C.nodeName);var K=!0;break e}catch{}K=!1}K||(C=null)}}else M=="mouseover"?C=h.fromElement:M=="mouseout"&&(C=h.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}v(je,ce);var xe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Hn(h,C,M,z,K){this.listener=h,this.proxy=null,this.src=C,this.type=M,this.capture=!!z,this.ha=K,this.key=++pt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fn(h){this.src=h,this.g={},this.h=0}fn.prototype.add=function(h,C,M,z,K){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=Yr(h,C,z,K);return-1<ve?(C=h[ve],M||(C.fa=!1)):(C=new Hn(C,this.src,ie,!!z,K),C.fa=M,h.push(C)),C};function _r(h,C){var M=C.type;if(M in h.g){var z=h.g[M],K=Array.prototype.indexOf.call(z,C,void 0),ie;(ie=0<=K)&&Array.prototype.splice.call(z,K,1),ie&&(St(C),h.g[M].length==0&&(delete h.g[M],h.h--))}}function Yr(h,C,M,z){for(var K=0;K<h.length;++K){var ie=h[K];if(!ie.da&&ie.listener==C&&ie.capture==!!M&&ie.ha==z)return K}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),ga={};function is(h,C,M,z,K){if(Array.isArray(C)){for(var ie=0;ie<C.length;ie++)is(h,C[ie],M,z,K);return null}return M=Ri(M),h&&h[Tt]?h.K(C,M,g(z)?!!z.capture:!1,K):bn(h,C,M,!1,z,K)}function bn(h,C,M,z,K,ie){if(!C)throw Error("Invalid event type");var ve=g(K)?!!K.capture:!!K,tt=Fn(h);if(tt||(h[_n]=tt=new fn(h)),M=tt.add(C,M,z,ve,ie),M.proxy)return M;if(z=co(),M.proxy=z,z.src=h,z.listener=M,h.addEventListener)_e||(K=ve),K===void 0&&(K=!1),h.addEventListener(C.toString(),z,K);else if(h.attachEvent)h.attachEvent(Kr(C.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function co(){function h(M){return C.call(h.src,h.listener,M)}const C=fr;return h}function ya(h,C,M,z,K){if(Array.isArray(C))for(var ie=0;ie<C.length;ie++)ya(h,C[ie],M,z,K);else z=g(z)?!!z.capture:!!z,M=Ri(M),h&&h[Tt]?(h=h.i,C=String(C).toString(),C in h.g&&(ie=h.g[C],M=Yr(ie,M,z,K),-1<M&&(St(ie[M]),Array.prototype.splice.call(ie,M,1),ie.length==0&&(delete h.g[C],h.h--)))):h&&(h=Fn(h))&&(C=h.g[C.toString()],h=-1,C&&(h=Yr(C,M,z,K)),(M=-1<h?C[h]:null)&&Si(M))}function Si(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[Tt])_r(C.i,h);else{var M=h.type,z=h.proxy;C.removeEventListener?C.removeEventListener(M,z,h.capture):C.detachEvent?C.detachEvent(Kr(M),z):C.addListener&&C.removeListener&&C.removeListener(z),(M=Fn(C))?(_r(M,h),M.h==0&&(M.src=null,C[_n]=null)):St(h)}}}function Kr(h){return h in ga?ga[h]:ga[h]="on"+h}function fr(h,C){if(h.da)h=!0;else{C=new je(C,this);var M=h.listener,z=h.ha||h.src;h.fa&&Si(h),h=M.call(z,C)}return h}function Fn(h){return h=h[_n],h instanceof fn?h:null}var Ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(h){return typeof h=="function"?h:(h[Ai]||(h[Ai]=function(C){return h.handleEvent(C)}),h[Ai])}function lt(){de.call(this),this.i=new fn(this),this.M=this,this.F=null}v(lt,de),lt.prototype[Tt]=!0,lt.prototype.removeEventListener=function(h,C,M,z){ya(this,h,C,M,z)};function He(h,C){var M,z=h.F;if(z)for(M=[];z;z=z.F)M.push(z);if(h=h.M,z=C.type||C,typeof C=="string")C=new ce(C,h);else if(C instanceof ce)C.target=C.target||h;else{var K=C;C=new ce(z,h),O(C,K)}if(K=!0,M)for(var ie=M.length-1;0<=ie;ie--){var ve=C.g=M[ie];K=hn(ve,z,!0,C)&&K}if(ve=C.g=h,K=hn(ve,z,!0,C)&&K,K=hn(ve,z,!1,C)&&K,M)for(ie=0;ie<M.length;ie++)ve=C.g=M[ie],K=hn(ve,z,!1,C)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var M=h.g[C],z=0;z<M.length;z++)St(M[z]);delete h.g[C],h.h--}}this.F=null},lt.prototype.K=function(h,C,M,z){return this.i.add(String(h),C,!1,M,z)},lt.prototype.L=function(h,C,M,z){return this.i.add(String(h),C,!0,M,z)};function hn(h,C,M,z){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var K=!0,ie=0;ie<C.length;++ie){var ve=C[ie];if(ve&&!ve.da&&ve.capture==M){var tt=ve.listener,Bt=ve.ha||ve.src;ve.fa&&_r(h.i,ve),K=tt.call(Bt,z)!==!1&&K}}return K&&!z.defaultPrevented}function kt(h,C,M){if(typeof h=="function")M&&(h=y(h,M));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(h,C||0)}function as(h){h.g=kt(()=>{h.g=null,h.i&&(h.i=!1,as(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class Gn extends de{constructor(C,M){super(),this.m=C,this.l=M,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:as(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(h){de.call(this),this.h=h,this.g={}}v(br,de);var Er=[];function Tr(h){k(h.g,function(C,M){this.g.hasOwnProperty(M)&&Si(C)},h),h.g={}}br.prototype.N=function(){br.aa.N.call(this),Tr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,Xr=c.JSON.parse,Qn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function xi(){}xi.prototype.h=null;function Zr(h){return h.h||(h.h=h.i())}function va(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){ce.call(this,"d")}v(hr,ce);function Ci(){ce.call(this,"c")}v(Ci,ce);var En={},wr=null;function Sr(){return wr=wr||new lt}En.La="serverreachability";function Di(h){ce.call(this,En.La,h)}v(Di,ce);function H(h){const C=Sr();He(C,new Di(C))}En.STAT_EVENT="statevent";function Y(h,C){ce.call(this,En.STAT_EVENT,h),this.stat=C}v(Y,ce);function Z(h){const C=Sr();He(C,new Y(C,h))}En.Ma="timingevent";function le(h,C){ce.call(this,En.Ma,h),this.size=C}v(le,ce);function ge(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},C)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(h,C,M,z,K,ie){h.info(function(){if(h.g)if(ie)for(var ve="",tt=ie.split("&"),Bt=0;Bt<tt.length;Bt++){var nt=tt[Bt].split("=");if(1<nt.length){var Xt=nt[0];nt=nt[1];var qt=Xt.split("_");ve=2<=qt.length&&qt[1]=="type"?ve+(Xt+"="+nt+"&"):ve+(Xt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+z+") [attempt "+K+"]: "+C+`
`+M+`
`+ve})}function Te(h,C,M,z,K,ie,ve){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+K+"]: "+C+`
`+M+`
`+ie+" "+ve})}function Se(h,C,M,z){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ne(h,M)+(z?" "+z:"")})}function Ce(h,C){h.info(function(){return"TIMEOUT: "+C})}Ee.prototype.info=function(){};function Ne(h,C){if(!h.g)return C;if(!C)return null;try{var M=JSON.parse(C);if(M){for(h=0;h<M.length;h++)if(Array.isArray(M[h])){var z=M[h];if(!(2>z.length)){var K=z[1];if(Array.isArray(K)&&!(1>K.length)){var ie=K[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<K.length;ve++)K[ve]=""}}}}return In(M)}catch{return C}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function ct(){}v(ct,xi),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Ke=new ct;function st(h,C,M,z){this.j=h,this.i=C,this.l=M,this.R=z||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},Kn={};function $t(h,C,M){h.L=1,h.v=Ea(Vn(C)),h.m=M,h.P=!0,Tn(h,null)}function Tn(h,C){h.F=Date.now(),Mn(h),h.A=Vn(h.v);var M=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),go(M.i,"t",z),h.C=0,M=h.j.J,h.h=new et,h.g=eu(h.j,M?C:null,!h.m),0<h.O&&(h.M=new Gn(y(h.Y,h,h.g),h.O)),C=h.U,M=h.g,z=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Er[0]=K.toString()),K=Er);for(var ie=0;ie<K.length;ie++){var ve=is(M,K[ie],z||C.handleEvent,!1,C.h||C);if(!ve)break;C.g[ve.key]=ve}C=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),H(),Ie(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const C=this.M;C&&er(h)==3?C.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const qt=er(this.g);var C=this.g.Ba();const ai=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Gl(this.g)))){this.J||qt!=4||C==7||(C==8||0>=ai?H(3):H(2)),dn(this);var M=this.g.Z();this.X=M;t:if(tn(this)){var z=Gl(this.g);h="";var K=z.length,ie=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),wn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(C=0;C<K;C++)this.h.h=!0,h+=this.h.i.decode(z[C],{stream:!(ie&&C==K-1)});z.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=M==200,Te(this.i,this.u,this.A,this.l,this.R,qt,M),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Bt=this.g;if((tt=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(tt)){var nt=tt;break t}}nt=null}if(M=nt)Se(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lt(this,M);else{this.o=!1,this.s=3,Z(12),ze(this),wn(this);break e}}if(this.P){M=!0;let rn;for(;!this.J&&this.C<ve.length;)if(rn=Ar(this,ve),rn==Kn){qt==4&&(this.s=4,Z(14),M=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qe){this.s=4,Z(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),M=!1;break}else Se(this.i,this.l,rn,null),Lt(this,rn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ve.length!=0||this.h.h||(this.s=1,Z(16),M=!1),this.o=this.o&&M,!M)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),wn(this);else if(0<ve.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Da(Xt),Xt.M=!0,Z(11))}}else Se(this.i,this.l,ve,null),Lt(this,ve);qt==4&&ze(this),this.o&&!this.J&&(qt==4?Zl(this.j,this):(this.o=!1,Mn(this)))}else uf(this.g),M==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),ze(this),wn(this)}}}catch{}finally{}};function tn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ar(h,C){var M=h.C,z=C.indexOf(`
`,M);return z==-1?Kn:(M=Number(C.substring(M,z)),isNaN(M)?Qe:(z+=1,z+M>C.length?Kn:(C=C.slice(z,z+M),h.C=z+M,C)))}st.prototype.cancel=function(){this.J=!0,ze(this)};function Mn(h){h.S=Date.now()+h.I,Oi(h,h.I)}function Oi(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(y(h.ba,h),C)}function dn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&(H(),Z(17)),ze(this),this.s=2,wn(this)):Oi(this,this.S-h)};function wn(h){h.j.G==0||h.J||Zl(h.j,h)}function ze(h){dn(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,Tr(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function Lt(h,C){try{var M=h.j;if(M.G!=0&&(M.g==h||Xn(M.h,h))){if(!h.K&&Xn(M.h,h)&&M.G==3){try{var z=M.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var K=z;if(K[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<h.F)ms(M),hs(M);else break e;Eo(M),Z(18)}}else M.za=K[1],0<M.za-M.T&&37500>K[2]&&M.F&&M.v==0&&!M.C&&(M.C=ge(y(M.Za,M),6e3));if(1>=bt(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ii(M,11)}else if((h.K||M.g==h)&&ms(M),!A(C))for(K=M.Da.g.parse(C),C=0;C<K.length;C++){let nt=K[C];if(M.T=nt[0],nt=nt[1],M.G==2)if(nt[0]=="c"){M.K=nt[1],M.ia=nt[2];const Xt=nt[3];Xt!=null&&(M.la=Xt,M.j.info("VER="+M.la));const qt=nt[4];qt!=null&&(M.Aa=qt,M.j.info("SVER="+M.Aa));const ai=nt[5];ai!=null&&typeof ai=="number"&&0<ai&&(z=1.5*ai,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const rn=h.g;if(rn){const Nr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var ie=z.h;ie.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Jr(ie,ie.h),ie.h=null))}if(z.D){const wo=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(z.ya=wo,gt(z.I,z.D,wo))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-h.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var ve=h;if(z.qa=Wl(z,z.J?z.ia:null,z.W),ve.K){nn(z.h,ve);var tt=ve,Bt=z.L;Bt&&(tt.I=Bt),tt.B&&(dn(tt),Mn(tt)),z.g=ve}else Kl(z);0<M.i.length&&ds(M)}else nt[0]!="stop"&&nt[0]!="close"||ii(M,7);else M.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ii(M,7):_o(M):nt[0]!="noop"&&M.l&&M.l.ta(nt),M.v=0)}}H(4)}catch{}}var Nn=class{constructor(h,C){this.g=h,this.map=C}};function Rn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bt(h){return h.h?1:h.g?h.g.size:0}function Xn(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function Jr(h,C){h.g?h.g.add(C):h.h=C}function nn(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}Rn.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const M of h.g.values())C=C.concat(M.D);return C}return _(h.i)}function af(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var C=[],M=h.length,z=0;z<M;z++)C.push(h[z]);return C}C=[],M=0;for(z in h)C[M++]=h[z];return C}function ss(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var C=[];h=h.length;for(var M=0;M<h;M++)C.push(M);return C}C=[],M=0;for(const z in h)C[M++]=z;return C}}}function ho(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var M=ss(h),z=af(h),K=z.length,ie=0;ie<K;ie++)C.call(void 0,z[ie],M&&M[ie],h)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(h,C){if(h){h=h.split("&");for(var M=0;M<h.length;M++){var z=h[M].indexOf("="),K=null;if(0<=z){var ie=h[M].substring(0,z);K=h[M].substring(z+1)}else ie=h[M];C(ie,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function jt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof jt){this.h=h.h,ba(this,h.j),this.o=h.o,this.g=h.g,Ii(this,h.s),this.l=h.l;var C=h.i,M=new ei;M.i=C.i,C.g&&(M.g=new Map(C.g),M.h=C.h),Wr(this,M),this.m=h.m}else h&&(C=String(h).match(_a))?(this.h=!1,ba(this,C[1]||"",!0),this.o=Zn(C[2]||""),this.g=Zn(C[3]||"",!0),Ii(this,C[4]),this.l=Zn(C[5]||"",!0),Wr(this,C[6]||"",!0),this.m=Zn(C[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}jt.prototype.toString=function(){var h=[],C=this.j;C&&h.push(Ta(C,mo,!0),":");var M=this.g;return(M||C=="file")&&(h.push("//"),(C=this.o)&&h.push(Ta(C,mo,!0),"@"),h.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&h.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&h.push("/"),h.push(Ta(M,M.charAt(0)=="/"?of:po,!0))),(M=this.i.toString())&&h.push("?",M),(M=this.m)&&h.push("#",Ta(M,os)),h.join("")};function Vn(h){return new jt(h)}function ba(h,C,M){h.j=M?Zn(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function Ii(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function Wr(h,C,M){C instanceof ei?(h.i=C,Hl(h.i,h.h)):(M||(C=Ta(C,lf)),h.i=new ei(C,h.h))}function gt(h,C,M){h.i.set(C,M)}function Ea(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zn(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ta(h,C,M){return typeof h=="string"?(h=encodeURI(h).replace(C,ql),M&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ql(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mo=/[#\/\?@]/g,po=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,os=/#/g;function ei(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function Jn(h){h.g||(h.g=new Map,h.h=0,h.i&&sf(h.i,function(C,M){h.add(decodeURIComponent(C.replace(/\+/g," ")),M)}))}i=ei.prototype,i.add=function(h,C){Jn(this),this.i=null,h=xr(this,h);var M=this.g.get(h);return M||this.g.set(h,M=[]),M.push(C),this.h+=1,this};function ti(h,C){Jn(h),C=xr(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function ni(h,C){return Jn(h),C=xr(h,C),h.g.has(C)}i.forEach=function(h,C){Jn(this),this.g.forEach(function(M,z){M.forEach(function(K){h.call(C,K,z,this)},this)},this)},i.na=function(){Jn(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),M=[];for(let z=0;z<C.length;z++){const K=h[z];for(let ie=0;ie<K.length;ie++)M.push(C[z])}return M},i.V=function(h){Jn(this);let C=[];if(typeof h=="string")ni(this,h)&&(C=C.concat(this.g.get(xr(this,h))));else{h=Array.from(this.g.values());for(let M=0;M<h.length;M++)C=C.concat(h[M])}return C},i.set=function(h,C){return Jn(this),this.i=null,h=xr(this,h),ni(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},i.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function go(h,C,M){ti(h,C),0<M.length&&(h.i=null,h.g.set(xr(h,C),_(M)),h.h+=M.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var M=0;M<C.length;M++){var z=C[M];const ie=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var K=ie;ve[z]!==""&&(K+="="+encodeURIComponent(String(ve[z]))),h.push(K)}}return this.i=h.join("&")};function xr(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function Hl(h,C){C&&!h.j&&(Jn(h),h.i=null,h.g.forEach(function(M,z){var K=z.toLowerCase();z!=K&&(ti(this,z),go(this,K,M))},h)),h.j=C}function wa(h,C){const M=new Ee;if(c.Image){const z=new Image;z.onload=b(Wn,M,"TestLoadImage: loaded",!0,C,z),z.onerror=b(Wn,M,"TestLoadImage: error",!1,C,z),z.onabort=b(Wn,M,"TestLoadImage: abort",!1,C,z),z.ontimeout=b(Wn,M,"TestLoadImage: timeout",!1,C,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else C(!1)}function dr(h,C){const M=new Ee,z=new AbortController,K=setTimeout(()=>{z.abort(),Wn(M,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:z.signal}).then(ie=>{clearTimeout(K),ie.ok?Wn(M,"TestPingServer: ok",!0,C):Wn(M,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(K),Wn(M,"TestPingServer: error",!1,C)})}function Wn(h,C,M,z,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),z(M)}catch{}}function Sa(){this.g=new Qn}function Cr(h,C,M){const z=M||"";try{ho(h,function(K,ie){let ve=K;g(K)&&(ve=In(K)),C.push(z+ie+"="+encodeURIComponent(ve))})}catch(K){throw C.push(z+"type="+encodeURIComponent("_badmap")),K}}function Mi(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Mi,xi),Mi.prototype.g=function(){return new ri(this.l,this.j)},Mi.prototype.i=function(h){return function(){return h}}({});function ri(h,C){lt.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ri,lt),i=ri.prototype,i.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,Or(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?Dr(this):Or(this),this.readyState==3&&yo(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,Dr(this))},i.Qa=function(h){this.g&&(this.response=h,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Or(h)}i.setRequestHeader=function(h,C){this.u.append(h,C)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var M=C.next();!M.done;)M=M.value,h.push(M[0]+": "+M[1]),M=C.next();return h.join(`\r
`)};function Or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vo(h){let C="";return k(h,function(M,z){C+=z,C+=":",C+=M,C+=`\r
`}),C}function Kt(h,C,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=vo(M),typeof h=="string"?M!=null&&encodeURIComponent(String(M)):gt(h,C,M))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var ls=/^https?$/i,Aa=["POST","PUT"];i=ft.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,C,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Zr(this.o):Zr(Ke),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(ie){Fl(this,ie);return}if(h=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var K in z)M.set(K,z[K]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ie of z.keys())M.set(ie,z.get(ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Aa,C,void 0))||z||K||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of M)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Fl(this,ie)}};function Fl(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,us(h),Ir(h)}function us(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,He(this,"complete"),He(this,"abort"),Ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?cs(this):this.bb())},i.bb=function(){cs(this)};function cs(h){if(h.h&&typeof f<"u"&&(!h.v[1]||er(h)!=4||h.Z()!=2)){if(h.u&&er(h)==4)kt(h.Ea,0,h);else if(He(h,"readystatechange"),er(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var M;if(!(M=C)){var z;if(z=ve===0){var K=String(h.D).match(_a)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),z=!ls.test(K?K.toLowerCase():"")}M=z}if(M)He(h,"complete"),He(h,"success");else{h.m=6;try{var ie=2<er(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",us(h)}}finally{Ir(h)}}}}function Ir(h,C){if(h.g){Ra(h);const M=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||He(h,"ready");try{M.onreadystatechange=z}catch{}}}function Ra(h){h.I&&(c.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function er(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),Xr(C)}};function Gl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(h){const C={};h=(h.g&&2<=er(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(A(h[z]))continue;var M=j(h[z]);const K=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ie=C[K]||[];C[K]=ie,ie.push(M)}I(C,function(z){return z.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(h,C,M){return M&&M.internalChannelParams&&M.internalChannelParams[h]||C}function fs(h){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,h),this.cb=xa("retryDelaySeedMs",1e4,h),this.Wa=xa("forwardChannelMaxRetries",2,h),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(h&&h.concurrentRequestLimit),this.Da=new Sa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fs.prototype,i.la=8,i.G=1,i.connect=function(h,C,M,z){Z(0),this.W=h,this.H=C||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=Wl(this,null,this.W),ds(this)};function _o(h){if(Ql(h),h.G==3){var C=h.U++,M=Vn(h.I);if(gt(M,"SID",h.K),gt(M,"RID",C),gt(M,"TYPE","terminate"),Ca(h,M),C=new st(h,h.j,C),C.L=2,C.v=Ea(Vn(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=C.v,M=!0),M||(C.g=eu(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Mn(C)}Jl(h)}function hs(h){h.g&&(Da(h),h.g.cancel(),h.g=null)}function Ql(h){hs(h),h.u&&(c.clearTimeout(h.u),h.u=null),ms(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ds(h){if(!Rr(h.h)&&!h.s){h.s=!0;var C=h.Ga;se||B(),ye||(se(),ye=!0),Re.add(C,h),h.B=0}}function cf(h,C){return bt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(y(h.Ga,h,C),To(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new st(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=S(ie),O(ie,this.S)):ie=this.S),this.m!==null||this.O||(K.H=ie,ie=null),this.P)e:{for(var C=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=M;break e}if(C===4096||M===this.i.length-1){C=M+1;break e}}C=1e3}else C=1e3;C=Yl(this,K,C),M=Vn(this.I),gt(M,"RID",h),gt(M,"CVER",22),this.D&&gt(M,"X-HTTP-Session-Id",this.D),Ca(this,M),ie&&(this.O?C="headers="+encodeURIComponent(String(vo(ie)))+"&"+C:this.m&&Kt(M,this.m,ie)),Jr(this.h,K),this.Ua&&gt(M,"TYPE","init"),this.P?(gt(M,"$req",C),gt(M,"SID","null"),K.T=!0,$t(K,M,null)):$t(K,M,C),this.G=2}}else this.G==3&&(h?bo(this,h):this.i.length==0||Rr(this.h)||bo(this))};function bo(h,C){var M;C?M=C.l:M=h.U++;const z=Vn(h.I);gt(z,"SID",h.K),gt(z,"RID",M),gt(z,"AID",h.T),Ca(h,z),h.m&&h.o&&Kt(z,h.m,h.o),M=new st(h,h.j,M,h.B+1),h.m===null&&(M.H=h.o),C&&(h.i=C.D.concat(h.i)),C=Yl(h,M,1e3),M.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jr(h.h,M),$t(M,z,C)}function Ca(h,C){h.H&&k(h.H,function(M,z){gt(C,z,M)}),h.l&&ho({},function(M,z){gt(C,z,M)})}function Yl(h,C,M){M=Math.min(h.i.length,M);var z=h.l?y(h.l.Na,h.l,h):null;e:{var K=h.i;let ie=-1;for(;;){const ve=["count="+M];ie==-1?0<M?(ie=K[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let tt=!0;for(let Bt=0;Bt<M;Bt++){let nt=K[Bt].g;const Xt=K[Bt].map;if(nt-=ie,0>nt)ie=Math.max(0,K[Bt].g-100),tt=!1;else try{Cr(Xt,ve,"req"+nt+"_")}catch{z&&z(Xt)}}if(tt){z=ve.join("&");break e}}}return h=h.i.splice(0,M),C.D=h,z}function Kl(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;se||B(),ye||(se(),ye=!0),Re.add(C,h),h.v=0}}function Eo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(y(h.Fa,h),To(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(y(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),hs(this),Xl(this))};function Da(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Xl(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=Vn(h.qa);gt(C,"RID","rpc"),gt(C,"SID",h.K),gt(C,"AID",h.T),gt(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(C,"TO",h.ja),gt(C,"TYPE","xmlhttp"),Ca(h,C),h.m&&h.o&&Kt(C,h.m,h.o),h.L&&(h.g.I=h.L);var M=h.g;h=h.ia,M.L=1,M.v=Ea(Vn(C)),M.m=null,M.P=!0,Tn(M,h)}i.Za=function(){this.C!=null&&(this.C=null,hs(this),Eo(this),Z(19))};function ms(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Zl(h,C){var M=null;if(h.g==C){ms(h),Da(h),h.g=null;var z=2}else if(Xn(h.h,C))M=C.D,nn(h.h,C),z=1;else return;if(h.G!=0){if(C.o)if(z==1){M=C.m?C.m.length:0,C=Date.now()-C.F;var K=h.B;z=Sr(),He(z,new le(z,M)),ds(h)}else Kl(h);else if(K=C.s,K==3||K==0&&0<C.X||!(z==1&&cf(h,C)||z==2&&Eo(h)))switch(M&&0<M.length&&(C=h.h,C.i=C.i.concat(M)),K){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function To(h,C){let M=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(M*=2),M*C}function ii(h,C){if(h.j.info("Error code "+C),C==2){var M=y(h.fb,h),z=h.Xa;const K=!z;z=new jt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ba(z,"https"),Ea(z),K?wa(z.toString(),M):dr(z.toString(),M)}else Z(2);h.G=0,h.l&&h.l.sa(C),Jl(h),Ql(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function Jl(h){if(h.G=0,h.ka=[],h.l){const C=fo(h.h);(C.length!=0||h.i.length!=0)&&(R(h.ka,C),R(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function Wl(h,C,M){var z=M instanceof jt?Vn(M):new jt(M);if(z.g!="")C&&(z.g=C+"."+z.g),Ii(z,z.s);else{var K=c.location;z=K.protocol,C=C?C+"."+K.hostname:K.hostname,K=+K.port;var ie=new jt(null);z&&ba(ie,z),C&&(ie.g=C),K&&Ii(ie,K),M&&(ie.l=M),z=ie}return M=h.D,C=h.ya,M&&C&&gt(z,M,C),gt(z,"VER",h.la),Ca(h,z),z}function eu(h,C,M){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new ft(new Mi({eb:M})):new ft(h.pa),C.Ha(h.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}i=tu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ps(){}ps.prototype.g=function(h,C){return new Sn(h,C)};function Sn(h,C){lt.call(this),this.g=new fs(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!A(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!A(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Mr(this)}v(Sn,lt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){_o(this.g)},Sn.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var M={};M.__data__=h,h=M}else this.u&&(M={},M.__data__=In(h),h=M);C.i.push(new Nn(C.Ya++,h)),C.G==3&&ds(C)},Sn.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,Sn.aa.N.call(this)};function nu(h){hr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const M in C){h=M;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}v(nu,hr);function ru(){Ci.call(this),this.status=1}v(ru,Ci);function Mr(h){this.g=h}v(Mr,tu),Mr.prototype.ua=function(){He(this.g,"a")},Mr.prototype.ta=function(h){He(this.g,new nu(h))},Mr.prototype.sa=function(h){He(this.g,new ru)},Mr.prototype.ra=function(){He(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,S0=function(){return new ps},w0=function(){return Sr()},T0=En,Od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,pc=Ae,ke.COMPLETE="complete",E0=ke,va.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,yl=va,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,b0=ft}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",zv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new d0("@firebase/firestore");function Fs(){return Xa.logLevel}function be(i,...e){if(Xa.logLevel<=at.DEBUG){const r=e.map(sm);Xa.debug(`Firestore (${so}): ${i}`,...r)}}function bi(i,...e){if(Xa.logLevel<=at.ERROR){const r=e.map(sm);Xa.error(`Firestore (${so}): ${i}`,...r)}}function Js(i,...e){if(Xa.logLevel<=at.WARN){const r=e.map(sm);Xa.warn(`Firestore (${so}): ${i}`,...r)}}function sm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,A0(i,s,r)}function A0(i,e,r){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw bi(s),new Error(s)}function ht(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||A0(e,o,s)}function Be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends ao{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class b1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class E1{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let u=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oa,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oa)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht(typeof s.accessToken=="string",31837,{l:s}),new R0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class T1{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w1{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new T1(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S1{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ht(this.o===void 0,3512);const s=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new $v(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=A1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function Id(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=x0(),f=R1(u.encode(Bv(i,r)),u.encode(Bv(e,r)));return f!==0?f:Ge(s,o)}}r+=s>65535?2:1}return Ge(i.length,e.length)}function Bv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function R1(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Ge(i[r],e[r]);return Ge(i.length,e.length)}function Ws(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Hv);return new Qt(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<qv)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Qt(0,0))}static max(){return new $e(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="__name__";class Ur{constructor(e,r,s){r===void 0?r=0:r>e.length&&Pe(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Pe(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=Ur.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ge(e.length,r.length)}static compareSegments(e,r){const s=Ur.isNumericId(e),o=Ur.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(r)):Id(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class Rt extends Ur{construct(e,r,s){return new Rt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Rt(r)}static emptyPath(){return new Rt([])}}const x1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ur{construct(e,r,s){return new un(e,r,s)}static isValidIdentifier(e){return x1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fv}static keyField(){return new un([Fv])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(s+=c,o++):(u(),o++)}if(u(),f)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(r)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Rt.fromString(e))}static fromName(e){return new Me(Rt.fromString(e).popFirst(5))}static empty(){return new Me(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function C1(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new Qt(r+1,0):new Qt(r,s));return new ca(o,Me.empty(),e)}function D1(i){return new ca(i.readTime,i.key,Dl)}class ca{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ca($e.min(),Me.empty(),Dl)}static max(){return new ca($e.max(),Me.empty(),Dl)}}function O1(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(i.documentKey,e.documentKey),r!==0?r:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i){if(i.code!==me.FAILED_PRECONDITION||i.message!==I1)throw i;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,s)=>{r(e)})}static reject(e){return new fe((r,s)=>{s(e)})}static waitFor(e){return new fe((r,s)=>{let o=0,u=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++u,f&&u===o&&r()},p=>s(p))}),f=!0,u===o&&r()})}static or(e){let r=fe.resolve(!1);for(const s of e)r=r.next(o=>o?fe.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}static mapArray(e,r){return new fe((s,o)=>{const u=e.length,f=new Array(u);let c=0;for(let p=0;p<u;p++){const g=p;r(e[g]).next(T=>{f[g]=T,++c,c===u&&s(f)},T=>o(T))}})}static doWhile(e,r){return new fe((s,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):s()};u()})}}function N1(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function Hc(i){return i==null}function Dc(i){return i===0&&1/i==-1/0}function V1(i){return typeof i=="number"&&Number.isInteger(i)&&!Dc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="";function k1(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Gv(e)),e=L1(i.get(r),e);return Gv(e)}function L1(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case D0:r+="";break;default:r+=u}}return r}function Gv(i){return i+D0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Wa(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function O0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||ln.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new ln(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new ln(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Yt(this.comparator);return r.data=e,r}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new yr([])}unionWith(e){let r=new Yt(un.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new yr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new I0("Invalid base64 string: "+u):u}}(e);return new cn(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new cn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const j1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(ht(!!i,39018),typeof i=="string"){let e=0;const r=j1.exec(i);if(ht(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ha(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="server_timestamp",N0="__type__",V0="__previous_value__",k0="__local_write_time__";function lm(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[N0])===null||r===void 0?void 0:r.stringValue)===M0}function Fc(i){const e=i.mapValue.fields[V0];return lm(e)?Fc(e):e}function Ol(i){const e=fa(i.mapValue.fields[k0].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,r,s,o,u,f,c,p,g){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=g}}const Oc="(default)";class Il{constructor(e,r){this.projectId=e,this.database=r||Oc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__type__",U1="__max__",lc={mapValue:{}},j0="__vector__",Ic="value";function da(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lm(i)?4:$1(i)?9007199254740991:z1(i)?10:11:Pe(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const r=da(i);if(r!==da(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ol(i).isEqual(Ol(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fa(o.timestampValue),c=fa(u.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Nt(o.doubleValue),c=Nt(u.doubleValue);return f===c?Dc(f)===Dc(c):isNaN(f)&&isNaN(c)}return!1}(i,e);case 9:return Ws(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},c=u.mapValue.fields||{};if(Qv(f)!==Qv(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!Hr(f[p],c[p])))return!1;return!0}(i,e);default:return Pe(52216,{left:i})}}function Ml(i,e){return(i.values||[]).find(r=>Hr(r,e))!==void 0}function eo(i,e){if(i===e)return 0;const r=da(i),s=da(e);if(r!==s)return Ge(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,f){const c=Nt(u.integerValue||u.doubleValue),p=Nt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(i,e);case 3:return Kv(i.timestampValue,e.timestampValue);case 4:return Kv(Ol(i),Ol(e));case 5:return Id(i.stringValue,e.stringValue);case 6:return function(u,f){const c=ha(u),p=ha(f);return c.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const c=u.split("/"),p=f.split("/");for(let g=0;g<c.length&&g<p.length;g++){const T=Ge(c[g],p[g]);if(T!==0)return T}return Ge(c.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const c=Ge(Nt(u.latitude),Nt(f.latitude));return c!==0?c:Ge(Nt(u.longitude),Nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Xv(i.arrayValue,e.arrayValue);case 10:return function(u,f){var c,p,g,T;const m=u.fields||{},y=f.fields||{},b=(c=m[Ic])===null||c===void 0?void 0:c.arrayValue,v=(p=y[Ic])===null||p===void 0?void 0:p.arrayValue,_=Ge(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((T=v==null?void 0:v.values)===null||T===void 0?void 0:T.length)||0);return _!==0?_:Xv(b,v)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===lc.mapValue&&f===lc.mapValue)return 0;if(u===lc.mapValue)return 1;if(f===lc.mapValue)return-1;const c=u.fields||{},p=Object.keys(c),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let m=0;m<p.length&&m<T.length;++m){const y=Id(p[m],T[m]);if(y!==0)return y;const b=eo(c[p[m]],g[T[m]]);if(b!==0)return b}return Ge(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Pe(23264,{Pe:r})}}function Kv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const r=fa(i),s=fa(e),o=Ge(r.seconds,s.seconds);return o!==0?o:Ge(r.nanos,s.nanos)}function Xv(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=eo(r[o],s[o]);if(u)return u}return Ge(r.length,s.length)}function to(i){return Md(i)}function Md(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=fa(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return ha(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return Me.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Md(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Md(r.fields[f])}`;return o+"}"}(i.mapValue):Pe(61005,{value:i})}function gc(i){switch(da(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fc(i);return e?16+gc(e):16;case 5:return 2*i.stringValue.length;case 6:return ha(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Wa(s.fields,(u,f)=>{o+=u.length+gc(f)}),o}(i.mapValue);default:throw Pe(13486,{value:i})}}function Nd(i){return!!i&&"integerValue"in i}function um(i){return!!i&&"arrayValue"in i}function Zv(i){return!!i&&"nullValue"in i}function Jv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yc(i){return!!i&&"mapValue"in i}function z1(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[L0])===null||r===void 0?void 0:r.stringValue)===j0}function bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Wa(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function $1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===U1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!yc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(r)}setAll(e){let r=un.emptyPath(),s={},o=[];e.forEach((f,c)=>{if(!r.isImmediateParentOf(c)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=c.popLast()}f?s[c.lastSegment()]=bl(f):o.push(c.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());yc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Wa(r,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ur(bl(this.value))}}function P0(i){const e=[];return Wa(i.fields,(r,s)=>{const o=new un([r]);if(yc(s)){const u=P0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,s,o,u,f,c){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=c}static newInvalidDocument(e){return new vn(e,0,$e.min(),$e.min(),$e.min(),ur.empty(),0)}static newFoundDocument(e,r,s,o){return new vn(e,1,r,$e.min(),s,o,0)}static newNoDocument(e,r){return new vn(e,2,r,$e.min(),$e.min(),ur.empty(),0)}static newUnknownDocument(e,r){return new vn(e,3,r,$e.min(),$e.min(),ur.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r){this.position=e,this.inclusive=r}}function Wv(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Me.comparator(Me.fromName(f.referenceValue),r.key):s=eo(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function e_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Hr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r="asc"){this.field=e,this.dir=r}}function B1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class Gt extends U0{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new H1(e,r,s):r==="array-contains"?new Q1(e,s):r==="in"?new Y1(e,s):r==="not-in"?new K1(e,s):r==="array-contains-any"?new X1(e,s):new Gt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new F1(e,s):new G1(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(eo(r,this.value)):r!==null&&da(this.value)===da(r)&&this.matchesComparison(eo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends U0{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Fr(e,r)}matches(e){return z0(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function z0(i){return i.op==="and"}function $0(i){return q1(i)&&z0(i)}function q1(i){for(const e of i.filters)if(e instanceof Fr)return!1;return!0}function Vd(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+to(i.value);if($0(i))return i.filters.map(e=>Vd(e)).join(",");{const e=i.filters.map(r=>Vd(r)).join(",");return`${i.op}(${e})`}}function B0(i,e){return i instanceof Gt?function(s,o){return o instanceof Gt&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)}(i,e):i instanceof Fr?function(s,o){return o instanceof Fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,c)=>u&&B0(f,o.filters[c]),!0):!1}(i,e):void Pe(19439)}function q0(i){return i instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${to(r.value)}`}(i):i instanceof Fr?function(r){return r.op.toString()+" {"+r.getFilters().map(q0).join(" ,")+"}"}(i):"Filter"}class H1 extends Gt{constructor(e,r,s){super(e,r,s),this.key=Me.fromName(s.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class F1 extends Gt{constructor(e,r){super(e,"in",r),this.keys=H0("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class G1 extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=H0("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function H0(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>Me.fromName(s.referenceValue))}class Q1 extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return um(r)&&Ml(r.arrayValue,this.value)}}class Y1 extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ml(this.value.arrayValue,r)}}class K1 extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ml(this.value.arrayValue,r)}}class X1 extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!um(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ml(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,r=null,s=[],o=[],u=null,f=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=c,this.Ie=null}}function t_(i,e=null,r=[],s=[],o=null,u=null,f=null){return new Z1(i,e,r,s,o,u,f)}function cm(i){const e=Be(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Vd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Hc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>to(s)).join(",")),e.Ie=r}return e.Ie}function fm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!B1(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!B0(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!e_(i.startAt,e.startAt)&&e_(i.endAt,e.endAt)}function kd(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r=null,s=[],o=[],u=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function J1(i,e,r,s,o,u,f,c){return new Gc(i,e,r,s,o,u,f,c)}function F0(i){return new Gc(i)}function n_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function W1(i){return i.collectionGroup!==null}function El(i){const e=Be(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Yt(un.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Nc(u,s))}),r.has(un.keyField().canonicalString())||e.Ee.push(new Nc(un.keyField(),s))}return e.Ee}function $r(i){const e=Be(i);return e.de||(e.de=eR(e,El(i))),e.de}function eR(i,e){if(i.limitType==="F")return t_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nc(o.field,u)});const r=i.endAt?new Mc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mc(i.startAt.position,i.startAt.inclusive):null;return t_(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function Ld(i,e,r){return new Gc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Qc(i,e){return fm($r(i),$r(e))&&i.limitType===e.limitType}function G0(i){return`${cm($r(i))}|lt:${i.limitType}`}function Gs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>q0(o)).join(", ")}]`),Hc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>to(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}($r(i))}; limitType=${i.limitType})`}function Yc(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of El(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,c,p){const g=Wv(f,c,p);return f.inclusive?g<=0:g<0}(s.startAt,El(s),o)||s.endAt&&!function(f,c,p){const g=Wv(f,c,p);return f.inclusive?g>=0:g>0}(s.endAt,El(s),o))}(i,e)}function tR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Q0(i){return(e,r)=>{let s=!1;for(const o of El(i)){const u=nR(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function nR(i,e,r){const s=i.field.isKeyField()?Me.comparator(e.key,r.key):function(u,f,c){const p=f.data.field(u),g=c.data.field(u);return p!==null&&g!==null?eo(p,g):Pe(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(r,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new Ct(Me.comparator);function Ei(){return rR}const Y0=new Ct(Me.comparator);function vl(...i){let e=Y0;for(const r of i)e=e.insert(r.key,r);return e}function K0(i){let e=Y0;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ka(){return Tl()}function X0(){return Tl()}function Tl(){return new es(i=>i.toString(),(i,e)=>i.isEqual(e))}const iR=new Ct(Me.comparator),aR=new Yt(Me.comparator);function We(...i){let e=aR;for(const r of i)e=e.add(r);return e}const sR=new Yt(Ge);function oR(){return sR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function Z0(i){return{integerValue:""+i}}function lR(i,e){return V1(e)?Z0(e):hm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function uR(i,e,r){return i instanceof Vc?function(o,u){const f={fields:{[N0]:{stringValue:M0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lm(u)&&(u=Fc(u)),u&&(f.fields[V0]=u),{mapValue:f}}(r,e):i instanceof Nl?W0(i,e):i instanceof Vl?eb(i,e):function(o,u){const f=J0(o,u),c=r_(f)+r_(o.Re);return Nd(f)&&Nd(o.Re)?Z0(c):hm(o.serializer,c)}(i,e)}function cR(i,e,r){return i instanceof Nl?W0(i,e):i instanceof Vl?eb(i,e):r}function J0(i,e){return i instanceof kc?function(s){return Nd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Vc extends Kc{}class Nl extends Kc{constructor(e){super(),this.elements=e}}function W0(i,e){const r=tb(e);for(const s of i.elements)r.some(o=>Hr(o,s))||r.push(s);return{arrayValue:{values:r}}}class Vl extends Kc{constructor(e){super(),this.elements=e}}function eb(i,e){let r=tb(e);for(const s of i.elements)r=r.filter(o=>!Hr(o,s));return{arrayValue:{values:r}}}class kc extends Kc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function r_(i){return Nt(i.integerValue||i.doubleValue)}function tb(i){return um(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function fR(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Nl&&o instanceof Nl||s instanceof Vl&&o instanceof Vl?Ws(s.elements,o.elements,Hr):s instanceof kc&&o instanceof kc?Hr(s.Re,o.Re):s instanceof Vc&&o instanceof Vc}(i.transform,e.transform)}class hR{constructor(e,r){this.version=e,this.transformResults=r}}class Br{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Xc{}function nb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dm(i.key,Br.none()):new Ul(i.key,i.data,Br.none());{const r=i.data,s=ur.empty();let o=new Yt(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(i.key,s,new yr(o.toArray()),Br.none())}}function dR(i,e,r){i instanceof Ul?function(o,u,f){const c=o.value.clone(),p=a_(o.fieldTransforms,u,f.transformResults);c.setAll(p),u.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(i,e,r):i instanceof ts?function(o,u,f){if(!vc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const c=a_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(rb(o)),p.setAll(c),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,r):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function wl(i,e,r,s){return i instanceof Ul?function(u,f,c,p){if(!vc(u.precondition,f))return c;const g=u.value.clone(),T=s_(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,r,s):i instanceof ts?function(u,f,c,p){if(!vc(u.precondition,f))return c;const g=s_(u.fieldTransforms,p,f),T=f.data;return T.setAll(rb(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(m=>m.field))}(i,e,r,s):function(u,f,c){return vc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(i,e,r)}function mR(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=J0(s.transform,o||null);u!=null&&(r===null&&(r=ur.empty()),r.set(s.field,u))}return r||null}function i_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ws(s,o,(u,f)=>fR(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ul extends Xc{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Xc{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rb(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function a_(i,e,r){const s=new Map;ht(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],f=u.transform,c=e.data.field(u.field);s.set(u.field,cR(f,c,r[o]))}return s}function s_(i,e,r){const s=new Map;for(const o of i){const u=o.transform,f=r.data.field(o.field);s.set(o.field,uR(u,f,e))}return s}class dm extends Xc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pR extends Xc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dR(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=wl(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=wl(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=X0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let c=this.applyToLocalView(f,u.mutatedFields);c=r.has(o.key)?null:c;const p=nb(f,c);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),We())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(r,s)=>i_(r,s))&&Ws(this.baseMutations,e.baseMutations,(r,s)=>i_(r,s))}}class mm{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return iR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new mm(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function _R(i){switch(i){case me.OK:return Pe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Pe(15467,{code:i})}}function ib(i){if(i===void 0)return bi("GRPC error has no .code"),me.UNKNOWN;switch(i){case zt.OK:return me.OK;case zt.CANCELLED:return me.CANCELLED;case zt.UNKNOWN:return me.UNKNOWN;case zt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case zt.INTERNAL:return me.INTERNAL;case zt.UNAVAILABLE:return me.UNAVAILABLE;case zt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case zt.NOT_FOUND:return me.NOT_FOUND;case zt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case zt.ABORTED:return me.ABORTED;case zt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case zt.DATA_LOSS:return me.DATA_LOSS;default:return Pe(39323,{code:i})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new sa([4294967295,4294967295],0);function o_(i){const e=x0().encode(i),r=new _0;return r.update(e),new Uint8Array(r.digest())}function l_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sa([r,s],0),new sa([o,u],0)]}class pm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new _l(`Invalid padding: ${r}`);if(s<0)throw new _l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new _l(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=sa.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(sa.fromNumber(s)));return o.compare(bR)===1&&(o=new sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=o_(e),[s,o]=l_(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new pm(u,o,r);return s.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const r=o_(e),[s,o]=l_(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Zc($e.min(),o,new Ct(Ge),Ei(),We())}}class zl{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new zl(s,r,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class ab{constructor(e,r){this.targetId=e,this.Ce=r}}class sb{constructor(e,r,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class u_{constructor(){this.Fe=0,this.Me=c_(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),r=We(),s=We();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Pe(38017,{changeType:u})}}),new zl(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=c_()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ER{constructor(e){this.ze=e,this.je=new Map,this.He=Ei(),this.Je=uc(),this.Ye=uc(),this.Ze=new Ct(Ge)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const u=o.target;if(kd(u))if(s===0){const f=new Me(u.path);this.tt(r,f,vn.newNoDocument(f,$e.min()))}else ht(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(r);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,g)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let f,c;try{f=ha(s).toUint8Array()}catch(p){if(p instanceof I0)return Js("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new pm(f,o,u)}catch(p){return Js(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,f)=>{const c=this._t(f);if(c){if(u.current&&kd(c.target)){const p=new Me(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,vn.newNoDocument(p,e))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let s=We();this.Ye.forEach((u,f)=>{let c=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Zc(e,r,this.Ze,this.He,s);return this.He=Ei(),this.Je=uc(),this.Ye=uc(),this.Ze=new Ct(Ge),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new u_,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Yt(Ge),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Yt(Ge),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new u_),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function uc(){return new Ct(Me.comparator)}function c_(){return new Ct(Me.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},wR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SR={and:"AND",or:"OR"};class AR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function jd(i,e){return i.useProto3Json||Hc(e)?e:{value:e}}function Lc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ob(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function RR(i,e){return Lc(i,e.toTimestamp())}function qr(i){return ht(!!i,49232),$e.fromTimestamp(function(r){const s=fa(r);return new Qt(s.seconds,s.nanos)}(i))}function gm(i,e){return Pd(i,e).canonicalString()}function Pd(i,e){const r=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function lb(i){const e=Rt.fromString(i);return ht(db(e),10190,{key:e.toString()}),e}function Ud(i,e){return gm(i.databaseId,e.path)}function gd(i,e){const r=lb(e);if(r.get(1)!==i.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Me(cb(r))}function ub(i,e){return gm(i.databaseId,e)}function xR(i){const e=lb(i);return e.length===4?Rt.emptyPath():cb(e)}function zd(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cb(i){return ht(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function f_(i,e,r){return{name:Ud(i,e),fields:r.value.mapValue.fields}}function CR(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(ht(T===void 0||typeof T=="string",58123),cn.fromBase64String(T||"")):(ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),cn.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(g){const T=g.code===void 0?me.UNKNOWN:ib(g.code);return new Oe(T,g.message||"")}(f);r=new sb(s,o,u,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gd(i,s.document.name),u=qr(s.document.updateTime),f=s.document.createTime?qr(s.document.createTime):$e.min(),c=new ur({mapValue:{fields:s.document.fields}}),p=vn.newFoundDocument(o,u,f,c),g=s.targetIds||[],T=s.removedTargetIds||[];r=new _c(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gd(i,s.document),u=s.readTime?qr(s.readTime):$e.min(),f=vn.newNoDocument(o,u),c=s.removedTargetIds||[];r=new _c([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gd(i,s.document),u=s.removedTargetIds||[];r=new _c([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new vR(o,u),c=s.targetId;r=new ab(c,f)}}return r}function DR(i,e){let r;if(e instanceof Ul)r={update:f_(i,e.key,e.value)};else if(e instanceof dm)r={delete:Ud(i,e.key)};else if(e instanceof ts)r={update:f_(i,e.key,e.data),updateMask:PR(e.fieldMask)};else{if(!(e instanceof pR))return Pe(16599,{ft:e.type});r={verify:Ud(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const c=f.transform;if(c instanceof Vc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Nl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof kc)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw Pe(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:RR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(i,e.precondition)),r}function OR(i,e){return i&&i.length>0?(ht(e!==void 0,14353),i.map(r=>function(o,u){let f=o.updateTime?qr(o.updateTime):qr(u);return f.isEqual($e.min())&&(f=qr(u)),new hR(f,o.transformResults||[])}(r,e))):[]}function IR(i,e){return{documents:[ub(i,e.path)]}}function MR(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=ub(i,o);const u=function(g){if(g.length!==0)return hb(Fr.create(g,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(y){return{field:Qs(y.field),direction:kR(y.dir)}}(T))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const c=jd(i,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:r,parent:o}}function NR(i){let e=xR(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){ht(s===1,65062);const T=r.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];r.where&&(u=function(m){const y=fb(m);return y instanceof Fr&&$0(y)?y.getFilters():[y]}(r.where));let f=[];r.orderBy&&(f=function(m){return m.map(y=>function(v){return new Nc(Ys(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,Hc(y)?null:y}(r.limit));let p=null;r.startAt&&(p=function(m){const y=!!m.before,b=m.values||[];return new Mc(b,y)}(r.startAt));let g=null;return r.endAt&&(g=function(m){const y=!m.before,b=m.values||[];return new Mc(b,y)}(r.endAt)),J1(e,o,f,u,c,"F",p,g)}function VR(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function fb(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ys(r.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ys(r.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ys(r.unaryFilter.field);return Gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ys(r.unaryFilter.field);return Gt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(i):i.fieldFilter!==void 0?function(r){return Gt.create(Ys(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Fr.create(r.compositeFilter.filters.map(s=>fb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(r.compositeFilter.op))}(i):Pe(30097,{filter:i})}function kR(i){return TR[i]}function LR(i){return wR[i]}function jR(i){return SR[i]}function Qs(i){return{fieldPath:i.canonicalString()}}function Ys(i){return un.fromServerFormat(i.fieldPath)}function hb(i){return i instanceof Gt?function(r){if(r.op==="=="){if(Jv(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NAN"}};if(Zv(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Jv(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NAN"}};if(Zv(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(r.field),op:LR(r.op),value:r.value}}}(i):i instanceof Fr?function(r){const s=r.getFilters().map(o=>hb(o));return s.length===1?s[0]:{compositeFilter:{op:jR(r.op),filters:s}}}(i):Pe(54877,{filter:i})}function PR(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function db(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,r,s,o,u=$e.min(),f=$e.min(),c=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.wt=e}}function zR(i){const e=NR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.yn=new BR}addToCollectionParentIndex(e,r){return this.yn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(ca.min())}updateCollectionGroup(e,r,s){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class BR{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Yt(Rt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(mb,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new no(0)}static ir(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",qR=1048576;function m_([i,e],[r,s]){const o=Ge(i,r);return o===0?Ge(e,s):o}class HR{constructor(e){this.cr=e,this.buffer=new Yt(m_),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();m_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(d_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){lo(r)?be(d_,"Ignoring IndexedDB error during garbage collection: ",r):await oo(r)}await this.Ir(3e5)})}}class GR{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(qc.le);const s=new HR(r);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.Er.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(h_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let s,o,u,f,c,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),o=this.params.maximumSequenceNumbersToCollect):o=m,f=Date.now(),this.nthSequenceNumber(e,o))).next(m=>(s=m,c=Date.now(),this.removeTargets(e,s,r))).next(m=>(u=m,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(g=Date.now(),Fs()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${u} targets in `+(p-c)+`ms
	Removed ${m} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})))}}function QR(i,e){return new GR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.changes=new es(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?fe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&wl(s.mutation,o,yr.empty(),Qt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,r,s=We()){const o=Ka();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(u=>{let f=vl();return u.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const s=Ka();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,We()))}populateOverlays(e,r,s){const o=[];return s.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,c)=>{r.set(f,c)})})}computeViews(e,r,s,o){let u=Ei();const f=Tl(),c=function(){return Tl()}();return r.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ts)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),wl(T.mutation,g,T.mutation.getFieldMask(),Qt.now())):f.set(g.key,yr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),r.forEach((g,T)=>{var m;return c.set(g,new KR(T,(m=f.get(g))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const s=Tl();let o=new Ct((f,c)=>f-c),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const c of f)c.keys().forEach(p=>{const g=r.get(p);if(g===null)return;let T=s.get(p)||yr.empty();T=c.applyToLocalView(g,T),s.set(p,T);const m=(o.get(c.batchId)||We()).add(p);o=o.insert(c.batchId,m)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),g=p.key,T=p.value,m=X0();T.forEach(y=>{if(!u.has(y)){const b=nb(r.get(y),s.get(y));b!==null&&m.set(y,b),u=u.add(y)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,m))}return fe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(f){return Me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):W1(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):fe.resolve(Ka());let c=Dl,p=u;return f.next(g=>fe.forEach(g,(T,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),u.get(T)?fe.resolve():this.remoteDocumentCache.getEntry(e,T).next(y=>{p=p.insert(T,y)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,We())).next(T=>({batchId:c,changes:K0(T)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next(s=>{let o=vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let f=vl();return this.indexManager.getCollectionParents(e,u).next(c=>fe.forEach(c,p=>{const g=function(m,y){return new Gc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((m,y)=>{f=f.insert(m,y)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,vn.newInvalidDocument(T)))});let c=vl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&wl(T.mutation,g,yr.empty(),Qt.now()),Yc(r,g)&&(c=c.insert(p,g))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:zR(o.bundledQuery),readTime:qr(o.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.overlays=new Ct(Me.comparator),this.Or=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ka();return fe.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,u)=>{this.St(e,r,u)}),fe.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),fe.resolve()}getOverlaysForCollection(e,r,s){const o=Ka(),u=r.length+1,f=new Me(r.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,g=p.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new Ct((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=Ka(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const c=Ka(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>c.set(g,T)),!(c.size()>=o)););return fe.resolve(c)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yR(r,s));let u=this.Or.get(r);u===void 0&&(u=We(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Nr=new Yt(en.Br),this.Lr=new Yt(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const s=new en(e,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Qr(new en(e,r))}$r(e,r){e.forEach(s=>this.removeReference(s,r))}Ur(e){const r=new Me(new Rt([])),s=new en(r,e),o=new en(r,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Me(new Rt([])),s=new en(r,e),o=new en(r,e+1);let u=We();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const r=new en(e,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Me.comparator(e.key,r.key)||Ge(e.Gr,r.Gr)}static kr(e,r){return Ge(e.Gr,r.Gr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Yt(en.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gR(u,r,s,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new en(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,r){return fe.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Hr(s),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?om:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new en(r,0),o=new en(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const c=this.jr(f.Gr);u.push(c)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Yt(Ge);return r.forEach(o=>{const u=new en(o,0),f=new en(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],c=>{s=s.add(c.Gr)})}),fe.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Me.isDocumentKey(u)||(u=u.child(""));const f=new en(new Me(u),0);let c=new Yt(Ge);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){ht(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return fe.forEach(r.mutations,o=>{const u=new en(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,r){const s=new en(r,0),o=this.zr.firstAfterOrEqual(s);return fe.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return fe.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(e,r){let s=Ei();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),fe.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Ei();const f=r.path,c=new Me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||O1(D1(T),s)<=0||(o.has(T.key)||Yc(r,T))&&(u=u.insert(T.key,T.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Pe(9500)}Xr(e,r){return fe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new n2(this)}getSize(e){return fe.resolve(this.size)}}class n2 extends YR{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),fe.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.persistence=e,this.ei=new es(r=>cm(r),fm),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ti=0,this.ni=new ym,this.targetCount=0,this.ri=no.rr()}forEachTarget(e,r){return this.ei.forEach((s,o)=>r(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),fe.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new no(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.ar(r),fe.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=r&&s.get(c.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const s=this.ei.get(r)||null;return fe.resolve(s)}addMatchingKeys(e,r,s){return this.ni.qr(r,s),fe.resolve()}removeMatchingKeys(e,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ni.Wr(r);return fe.resolve(s)}containsKey(e,r){return fe.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,r){this.ii={},this.overlays={},this.si=new qc(0),this.oi=!1,this.oi=!0,this._i=new WR,this.referenceDelegate=e(this),this.ai=new r2(this),this.indexManager=new $R,this.remoteDocumentCache=function(o){return new t2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new UR(r),this.ci=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new JR,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ii[e.toKey()];return s||(s=new e2(r,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const o=new i2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return fe.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,r)))}}class i2 extends M1{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Ti=new ym,this.Ii=null}static Ei(e){return new vm(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),fe.resolve()}removeReference(e,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,s=>{const o=Me.fromPath(s);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,$e.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return fe.or([()=>fe.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class jc{constructor(e,r){this.persistence=e,this.Ri=new es(s=>k1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QR(this,r)}static Ei(e,r){return new jc(e,r)}li(){}hi(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}Vr(e){let r=0;return this.Ar(e,s=>{r++}).next(()=>r)}Ar(e,r){return fe.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?fe.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,r).next(c=>{c||(s++,u.removeEntry(f,$e.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=gc(e.data.value)),r}gr(e,r,s){return fe.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return fe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ls=s,this.hs=o}static Ps(e,r){let s=We(),o=We();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _m(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return WS()?8:N1(ZS())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.Rs(e,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,r,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new a2;return this.fs(e,r,f).next(c=>{if(u.result=c,this.Is)return this.gs(e,r,f,c.size)})}).next(()=>u.result)}gs(e,r,s,o){return s.documentReadCount<this.Es?(Fs()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(Fs()<=at.DEBUG&&be("QueryEngine","Query:",Gs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fs()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(r))):fe.resolve())}Rs(e,r){if(n_(r))return fe.resolve(null);let s=$r(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Ld(r,null,"F"),s=$r(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=We(...u);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(r,c);return this.ys(r,g,f,p.readTime)?this.Rs(e,Ld(r,null,"F")):this.ws(e,g,r,p)}))})))}Vs(e,r,s,o){return n_(r)||o.isEqual($e.min())?fe.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(r,u);return this.ys(r,f,s,o)?fe.resolve(null):(Fs()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(r)),this.ws(e,f,r,C1(o,Dl)).next(c=>c))})}ps(e,r){let s=new Yt(Q0(e));return r.forEach((o,u)=>{Yc(e,u)&&(s=s.add(u))}),s}ys(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,s){return Fs()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Gs(r)),this.As.getDocumentsMatchingQuery(e,r,ca.min(),s)}ws(e,r,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",o2=3e8;class l2{constructor(e,r,s,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new Ct(Ge),this.Ds=new es(u=>cm(u),fm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function u2(i,e,r,s){return new l2(i,e,r,s)}async function gb(i,e){const r=Be(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],c=[];let p=We();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){c.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return r.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:c}))})})}function c2(i,e){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,g,T){const m=g.batch,y=m.keys();let b=fe.resolve();return y.forEach(v=>{b=b.next(()=>T.getEntry(p,v)).next(_=>{const R=g.docVersions.get(v);ht(R!==null,48541),_.version.compareTo(R)<0&&(m.applyToRemoteDocument(_,g),_.isValidDocument()&&(_.setReadTime(g.commitVersion),T.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(p,m))}(r,s,e,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let p=We();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(p=p.add(c.batch.mutations[g].key));return p}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function yb(i){const e=Be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function f2(i,e){const r=Be(i),s=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((T,m)=>{const y=o.get(m);if(!y)return;c.push(r.ai.removeMatchingKeys(u,T.removedDocuments,m).next(()=>r.ai.addMatchingKeys(u,T.addedDocuments,m)));let b=y.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(cn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):T.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(T.resumeToken,s)),o=o.insert(m,b),function(_,R,E){return _.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=o2?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,b,T)&&c.push(r.ai.updateTargetData(u,b))});let p=Ei(),g=We();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(u,T))}),c.push(h2(u,f,e.documentUpdates).next(T=>{p=T.xs,g=T.Os})),!s.isEqual($e.min())){const T=r.ai.getLastRemoteSnapshotVersion(u).next(m=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));c.push(T)}return fe.waitFor(c).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(r.Ss=o,u))}function h2(i,e,r){let s=We(),o=We();return r.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Ei();return r.forEach((c,p)=>{const g=u.get(c);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual($e.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):be(bm,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function d2(i,e){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=om),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function m2(i,e){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,e).next(u=>u?(o=u,fe.resolve(o)):r.ai.allocateTargetId(s).next(f=>(o=new ra(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(e,s.targetId)),s})}async function $d(i,e,r){const s=Be(i),o=s.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!lo(f))throw f;be(bm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function p_(i,e,r){const s=Be(i);let o=$e.min(),u=We();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const m=Be(p),y=m.Ds.get(T);return y!==void 0?fe.resolve(m.Ss.get(y)):m.ai.getTargetData(g,T)}(s,f,$r(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,r?o:$e.min(),r?u:We())).next(c=>(p2(s,tR(e),c),{documents:c,Ns:u})))}function p2(i,e,r){let s=i.vs.get(e)||$e.min();r.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class g_{constructor(){this.activeTargetIds=oR()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g2{constructor(){this.So=new g_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,s){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new g_,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(y_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Bd(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",v2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Oc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,r,s,o,u){const f=Bd(),c=this.$o(e,r.toUriEncodedString());be(yd,`Sending RPC '${e}' ${f}:`,c,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,c,p,s).then(g=>(be(yd,`Received RPC '${e}' ${f}: `,g),g),g=>{throw Js(yd,`RPC '${e}' ${f} failed with error: `,g,"url: ",c,"request:",s),g})}Wo(e,r,s,o,u,f){return this.Qo(e,r,s,o,u)}Uo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const s=v2[e];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class E2 extends _2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,s,o){const u=Bd();return new Promise((f,c)=>{const p=new b0;p.setWithCredentials(!0),p.listenOnce(E0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case pc.NO_ERROR:const T=p.getResponseJson();be(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case pc.TIMEOUT:be(gn,`RPC '${e}' ${u} timed out`),c(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const m=p.getStatus();if(be(gn,`RPC '${e}' ${u} failed with status:`,m,"response text:",p.getResponseText()),m>0){let y=p.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const v=function(R){const E=R.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(E)>=0?E:me.UNKNOWN}(b.status);c(new Oe(v,b.message))}else c(new Oe(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{be(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);be(gn,`RPC '${e}' ${u} sending request:`,o),p.send(r,"POST",g,s,15)})}a_(e,r,s){const o=Bd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=S0(),c=w0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const T=u.join("");be(gn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const m=f.createWebChannel(T,p);let y=!1,b=!1;const v=new b2({Go:R=>{b?be(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(y||(be(gn,`Opening RPC '${e}' stream ${o} transport.`),m.open(),y=!0),be(gn,`RPC '${e}' stream ${o} sending:`,R),m.send(R))},zo:()=>m.close()}),_=(R,E,A)=>{R.listen(E,D=>{try{A(D)}catch(V){setTimeout(()=>{throw V},0)}})};return _(m,yl.EventType.OPEN,()=>{b||(be(gn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),_(m,yl.EventType.CLOSE,()=>{b||(b=!0,be(gn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),_(m,yl.EventType.ERROR,R=>{b||(b=!0,Js(gn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),v.r_(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),_(m,yl.EventType.MESSAGE,R=>{var E;if(!b){const A=R.data[0];ht(!!A,16349);const D=A,V=(D==null?void 0:D.error)||((E=D[0])===null||E===void 0?void 0:E.error);if(V){be(gn,`RPC '${e}' stream ${o} received error:`,V);const L=V.status;let k=function(x){const O=zt[x];if(O!==void 0)return ib(O)}(L),I=V.message;k===void 0&&(k=me.INTERNAL,I="Unknown error status: "+L+" with message "+V.message),b=!0,v.r_(new Oe(k,I)),m.close()}else be(gn,`RPC '${e}' stream ${o} received:`,A),v.i_(A)}}),_(c,T0.STAT_EVENT,R=>{R.stat===Od.PROXY?be(gn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Od.NOPROXY&&be(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(i){return new AR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,r,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class _b{constructor(e,r,s,o,u,f,c,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new vb(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===me.RESOURCE_EXHAUSTED?(bi(r.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{e(()=>{const o=new Oe(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,r){const s=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(be(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T2 extends _b{constructor(e,r,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=CR(this.serializer,e),s=function(u){if(!("targetChange"in u))return $e.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?$e.min():f.readTime?qr(f.readTime):$e.min()}(e);return this.listener.Q_(r,s)}U_(e){const r={};r.database=zd(this.serializer),r.addTarget=function(u,f){let c;const p=f.target;if(c=kd(p)?{documents:IR(u,p)}:{query:MR(u,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=ob(u,f.resumeToken);const g=jd(u,f.expectedCount);g!==null&&(c.expectedCount=g)}else if(f.snapshotVersion.compareTo($e.min())>0){c.readTime=Lc(u,f.snapshotVersion.toTimestamp());const g=jd(u,f.expectedCount);g!==null&&(c.expectedCount=g)}return c}(this.serializer,e);const s=VR(this.serializer,e);s&&(r.labels=s),this.F_(r)}K_(e){const r={};r.database=zd(this.serializer),r.removeTarget=e,this.F_(r)}}class w2 extends _b{constructor(e,r,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=OR(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.j_(s,r)}H_(){const e={};e.database=zd(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>DR(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{}class A2 extends S2{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Pd(r,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(me.UNKNOWN,u.toString())})}Wo(e,r,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,Pd(r,s),o,f,c,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Oe(me.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class R2{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(bi(r),this.ea=!1):be("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class x2{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ns(this)&&(be(Za,"Restarting streams for network reachability change."),await async function(p){const g=Be(p);g.aa.add(4),await $l(g),g.la.set("Unknown"),g.aa.delete(4),await Wc(g)}(this))})}),this.la=new R2(s,o)}}async function Wc(i){if(ns(i))for(const e of i.ua)await e(!0)}async function $l(i){for(const e of i.ua)await e(!1)}function bb(i,e){const r=Be(i);r._a.has(e.targetId)||(r._a.set(e.targetId,e),Sm(r)?wm(r):uo(r).b_()&&Tm(r,e))}function Em(i,e){const r=Be(i),s=uo(r);r._a.delete(e),s.b_()&&Eb(r,e),r._a.size===0&&(s.b_()?s.v_():ns(r)&&r.la.set("Unknown"))}function Tm(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}uo(i).U_(e)}function Eb(i,e){i.ha.Ke(e),uo(i).K_(e)}function wm(i){i.ha=new ER({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),uo(i).start(),i.la.ta()}function Sm(i){return ns(i)&&!uo(i).w_()&&i._a.size>0}function ns(i){return Be(i).aa.size===0}function Tb(i){i.ha=void 0}async function C2(i){i.la.set("Online")}async function D2(i){i._a.forEach((e,r)=>{Tm(i,e)})}async function O2(i,e){Tb(i),Sm(i)?(i.la.ia(e),wm(i)):i.la.set("Unknown")}async function I2(i,e,r){if(i.la.set("Online"),e instanceof sb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(i,e)}catch(s){be(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pc(i,s)}else if(e instanceof _c?i.ha.Xe(e):e instanceof ab?i.ha.ot(e):i.ha.nt(e),!r.isEqual($e.min()))try{const s=await yb(i.localStore);r.compareTo(s)>=0&&await function(u,f){const c=u.ha.It(f);return c.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u._a.get(g);T&&u._a.set(g,T.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,g)=>{const T=u._a.get(p);if(!T)return;u._a.set(p,T.withResumeToken(cn.EMPTY_BYTE_STRING,T.snapshotVersion)),Eb(u,p);const m=new ra(T.target,p,g,T.sequenceNumber);Tm(u,m)}),u.remoteSyncer.applyRemoteEvent(c)}(i,r)}catch(s){be(Za,"Failed to raise snapshot:",s),await Pc(i,s)}}async function Pc(i,e,r){if(!lo(e))throw e;i.aa.add(1),await $l(i),i.la.set("Offline"),r||(r=()=>yb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{be(Za,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await Wc(i)})}function wb(i,e){return e().catch(r=>Pc(i,r,e))}async function ef(i){const e=Be(i),r=ma(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:om;for(;M2(e);)try{const o=await d2(e.localStore,s);if(o===null){e.oa.length===0&&r.v_();break}s=o.batchId,N2(e,o)}catch(o){await Pc(e,o)}Sb(e)&&Ab(e)}function M2(i){return ns(i)&&i.oa.length<10}function N2(i,e){i.oa.push(e);const r=ma(i);r.b_()&&r.W_&&r.G_(e.mutations)}function Sb(i){return ns(i)&&!ma(i).w_()&&i.oa.length>0}function Ab(i){ma(i).start()}async function V2(i){ma(i).H_()}async function k2(i){const e=ma(i);for(const r of i.oa)e.G_(r.mutations)}async function L2(i,e,r){const s=i.oa.shift(),o=mm.from(s,e,r);await wb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ef(i)}async function j2(i,e){e&&ma(i).W_&&await async function(s,o){if(function(f){return _R(f)&&f!==me.ABORTED}(o.code)){const u=s.oa.shift();ma(s).D_(),await wb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ef(s)}}(i,e),Sb(i)&&Ab(i)}async function b_(i,e){const r=Be(i);r.asyncQueue.verifyOperationInProgress(),be(Za,"RemoteStore received new credentials");const s=ns(r);r.aa.add(3),await $l(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await Wc(r)}async function P2(i,e){const r=Be(i);e?(r.aa.delete(2),await Wc(r)):e||(r.aa.add(2),await $l(r),r.la.set("Unknown"))}function uo(i){return i.Pa||(i.Pa=function(r,s,o){const u=Be(r);return u.Y_(),new T2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:C2.bind(null,i),Jo:D2.bind(null,i),Zo:O2.bind(null,i),Q_:I2.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Sm(i)?wm(i):i.la.set("Unknown")):(await i.Pa.stop(),Tb(i))})),i.Pa}function ma(i){return i.Ta||(i.Ta=function(r,s,o){const u=Be(r);return u.Y_(),new w2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:V2.bind(null,i),Zo:j2.bind(null,i),z_:k2.bind(null,i),j_:L2.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await ef(i)):(await i.Ta.stop(),i.oa.length>0&&(be(Za,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const f=Date.now()+s,c=new Am(e,r,f,o,u);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(i,e){if(bi("AsyncQueue",`${e}: ${i}`),lo(i))return new Oe(me.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Me.comparator(r.key,s.key):(r,s)=>Me.comparator(r.key,s.key),this.keyedMap=vl(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.Ia=new Ct(Me.comparator)}track(e){const r=e.doc.key,s=this.Ia.get(r);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(r):e.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,s)=>{e.push(s)}),e}}class ro{constructor(e,r,s,o,u,f,c,p,g){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,r,s,o,u){const f=[];return r.forEach(c=>{f.push({type:0,doc:c})}),new ro(e,r,Zs.emptySet(r),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class z2{constructor(){this.queries=T_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=Be(r),u=o.queries;o.queries=T_(),u.forEach((f,c)=>{for(const p of c.Ra)p.onError(s)})})(this,new Oe(me.ABORTED,"Firestore shutting down"))}}function T_(){return new es(i=>G0(i),Qc)}async function $2(i,e){const r=Be(i);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new U2,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const c=Rm(f,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&xm(r)}async function B2(i,e){const r=Be(i),s=e.query;let o=3;const u=r.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function q2(i,e){const r=Be(i);let s=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const c of f.Ra)c.pa(o)&&(s=!0);f.Aa=o}}s&&xm(r)}function H2(i,e,r){const s=Be(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);s.queries.delete(e)}function xm(i){i.fa.forEach(e=>{e.next()})}var qd,w_;(w_=qd||(qd={})).ya="default",w_.Cache="cache";class F2{constructor(e,r,s){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class G2{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=Q0(e),this.Ka=new Zs(this.Ua)}get Wa(){return this.qa}Ga(e,r){const s=r?r.za:new E_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,m)=>{const y=o.get(T),b=Yc(this.query,m)?m:null,v=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;y&&b?y.data.isEqual(b.data)?v!==_&&(s.track({type:3,doc:b}),R=!0):this.ja(y,b)||(s.track({type:2,doc:b}),R=!0,(p&&this.Ua(b,p)>0||g&&this.Ua(b,g)<0)&&(c=!0)):!y&&b?(s.track({type:0,doc:b}),R=!0):y&&!b&&(s.track({type:1,doc:y}),R=!0,(p||g)&&(c=!0)),R&&(b?(f=f.add(b),u=_?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Ka:f,za:s,ys:c,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((T,m)=>function(b,v){const _=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:R})}};return _(b)-_(v)}(T.type,m.type)||this.Ua(T.doc,m.doc)),this.Ha(s),o=o!=null&&o;const c=r&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new ro(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new E_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return e.forEach(s=>{this.$a.has(s)||r.push(new xb(s))}),this.$a.forEach(s=>{e.has(s)||r.push(new Rb(s))}),r}Xa(e){this.qa=e.Ns,this.$a=We();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return ro.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Cm="SyncEngine";class Q2{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Y2{constructor(e){this.key=e,this.tu=!1}}class K2{constructor(e,r,s,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new es(c=>G0(c),Qc),this.iu=new Map,this.su=new Set,this.ou=new Ct(Me.comparator),this._u=new Map,this.au=new ym,this.uu={},this.cu=new Map,this.lu=no.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function X2(i,e,r=!0){const s=Nb(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await Cb(s,e,r,!0),o}async function Z2(i,e){const r=Nb(i);await Cb(r,e,!0,!1)}async function Cb(i,e,r,s){const o=await m2(i.localStore,$r(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let c;return s&&(c=await J2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&bb(i.remoteStore,o),c}async function J2(i,e,r,s,o){i.Pu=(m,y,b)=>async function(_,R,E,A){let D=R.view.Ga(E);D.ys&&(D=await p_(_.localStore,R.query,!1).then(({documents:I})=>R.view.Ga(I,D)));const V=A&&A.targetChanges.get(R.targetId),L=A&&A.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(D,_.isPrimaryClient,V,L);return A_(_,R.targetId,k.Ya),k.snapshot}(i,m,y,b);const u=await p_(i.localStore,e,!0),f=new G2(e,u.Ns),c=f.Ga(u.documents),p=zl.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),g=f.applyChanges(c,i.isPrimaryClient,p);A_(i,r,g.Ya);const T=new Q2(e,r,f);return i.ru.set(e,T),i.iu.has(r)?i.iu.get(r).push(e):i.iu.set(r,[e]),g.snapshot}async function W2(i,e,r){const s=Be(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Qc(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Em(s.remoteStore,o.targetId),Hd(s,o.targetId)}).catch(oo)):(Hd(s,o.targetId),await $d(s.localStore,o.targetId,!0))}async function ex(i,e){const r=Be(i),s=r.ru.get(e),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Em(r.remoteStore,s.targetId))}async function tx(i,e,r){const s=lx(i);try{const o=await function(f,c){const p=Be(f),g=Qt.now(),T=c.reduce((b,v)=>b.add(v.key),We());let m,y;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let v=Ei(),_=We();return p.Cs.getEntries(b,T).next(R=>{v=R,v.forEach((E,A)=>{A.isValidDocument()||(_=_.add(E))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,v)).next(R=>{m=R;const E=[];for(const A of c){const D=mR(A,m.get(A.key).overlayedDocument);D!=null&&E.push(new ts(A.key,D,P0(D.value.mapValue),Br.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,E,c)}).next(R=>{y=R;const E=R.applyToLocalDocumentSet(m,_);return p.documentOverlayCache.saveOverlays(b,R.batchId,E)})}).then(()=>({batchId:y.batchId,changes:K0(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let g=f.uu[f.currentUser.toKey()];g||(g=new Ct(Ge)),g=g.insert(c,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,r),await Bl(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Rm(o,"Failed to persist write");r.reject(u)}}async function Db(i,e){const r=Be(i);try{const s=await f2(r.localStore,e);e.targetChanges.forEach((o,u)=>{const f=r._u.get(u);f&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?ht(f.tu,14607):o.removedDocuments.size>0&&(ht(f.tu,42227),f.tu=!1))}),await Bl(r,s,e)}catch(s){await oo(s)}}function S_(i,e,r){const s=Be(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((u,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=Be(f);p.onlineState=c;let g=!1;p.queries.forEach((T,m)=>{for(const y of m.Ra)y.ga(c)&&(g=!0)}),g&&xm(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nx(i,e,r){const s=Be(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s._u.get(e),u=o&&o.key;if(u){let f=new Ct(Me.comparator);f=f.insert(u,vn.newNoDocument(u,$e.min()));const c=We().add(u),p=new Zc($e.min(),new Map,new Ct(Ge),f,c);await Db(s,p),s.ou=s.ou.remove(u),s._u.delete(e),Dm(s)}else await $d(s.localStore,e,!1).then(()=>Hd(s,e,r)).catch(oo)}async function rx(i,e){const r=Be(i),s=e.batch.batchId;try{const o=await c2(r.localStore,e);Ib(r,s,null),Ob(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(r,o)}catch(o){await oo(o)}}async function ix(i,e,r){const s=Be(i);try{const o=await function(f,c){const p=Be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,c).next(m=>(ht(m!==null,37113),T=m.keys(),p.mutationQueue.removeMutationBatch(g,m))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);Ib(s,e,r),Ob(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Bl(s,o)}catch(o){await oo(o)}}function Ob(i,e){(i.cu.get(e)||[]).forEach(r=>{r.resolve()}),i.cu.delete(e)}function Ib(i,e,r){const s=Be(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Hd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||Mb(i,s)})}function Mb(i,e){i.su.delete(e.path.canonicalString());const r=i.ou.get(e);r!==null&&(Em(i.remoteStore,r),i.ou=i.ou.remove(e),i._u.delete(r),Dm(i))}function A_(i,e,r){for(const s of r)s instanceof Rb?(i.au.addReference(s.key,e),ax(i,s)):s instanceof xb?(be(Cm,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||Mb(i,s.key)):Pe(19791,{Iu:s})}function ax(i,e){const r=e.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(be(Cm,"New document in limbo: "+r),i.su.add(s),Dm(i))}function Dm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const r=new Me(Rt.fromString(e)),s=i.lu.next();i._u.set(s,new Y2(r)),i.ou=i.ou.insert(r,s),bb(i.remoteStore,new ra($r(F0(r.path)),s,"TargetPurposeLimboResolution",qc.le))}}async function Bl(i,e,r){const s=Be(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((c,p)=>{f.push(s.Pu(p,e,r).then(g=>{var T;if((g||r)&&s.isPrimaryClient){const m=g?!g.fromCache:(T=r==null?void 0:r.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,m?"current":"not-current")}if(g){o.push(g);const m=_m.Ps(p.targetId,g);u.push(m)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const T=Be(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>fe.forEach(g,y=>fe.forEach(y.ls,b=>T.persistence.referenceDelegate.addReference(m,y.targetId,b)).next(()=>fe.forEach(y.hs,b=>T.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))}catch(m){if(!lo(m))throw m;be(bm,"Failed to update sequence numbers: "+m)}for(const m of g){const y=m.targetId;if(!m.fromCache){const b=T.Ss.get(y),v=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(v);T.Ss=T.Ss.insert(y,_)}}}(s.localStore,u))}async function sx(i,e){const r=Be(i);if(!r.currentUser.isEqual(e)){be(Cm,"User change. New user:",e.toKey());const s=await gb(r.localStore,e);r.currentUser=e,function(u,f){u.cu.forEach(c=>{c.forEach(p=>{p.reject(new Oe(me.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bl(r,s.Ms)}}function ox(i,e){const r=Be(i),s=r._u.get(e);if(s&&s.tu)return We().add(s.key);{let o=We();const u=r.iu.get(e);if(!u)return o;for(const f of u){const c=r.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function Nb(i){const e=Be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ox.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nx.bind(null,e),e.nu.Q_=q2.bind(null,e.eventManager),e.nu.Tu=H2.bind(null,e.eventManager),e}function lx(i){const e=Be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return u2(this.persistence,new s2,e.initialUser,this.serializer)}Ru(e){return new pb(vm.Ei,this.serializer)}Au(e){return new g2}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class ux extends Uc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){ht(this.persistence.referenceDelegate instanceof jc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FR(s,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new pb(s=>jc.Ei(s,r),this.serializer)}}class Fd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sx.bind(null,this.syncEngine),await P2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z2}()}createDatastore(e){const r=Jc(e.databaseInfo.databaseId),s=function(u){return new E2(u)}(e.databaseInfo);return function(u,f,c,p){return new A2(u,f,c,p)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,u,f,c){return new x2(s,o,u,f,c)}(this.localStore,this.datastore,e.asyncQueue,r=>S_(this.syncEngine,r,0),function(){return v_.C()?new v_:new y2}())}createSyncEngine(e,r){return function(o,u,f,c,p,g,T){const m=new K2(o,u,f,c,p,g);return T&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=Be(o);be(Za,"RemoteStore shutting down."),u.aa.add(5),await $l(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class fx{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{be(pa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(be(pa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Rm(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _d(i,e){i.asyncQueue.verifyOperationInProgress(),be(pa,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function R_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await hx(i);be(pa,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>b_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>b_(e.remoteStore,o)),i._onlineComponents=e}async function hx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){be(pa,"Using user provided OfflineComponentProvider");try{await _d(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Js("Error using user provided cache. Falling back to memory cache: "+r),await _d(i,new Uc)}}else be(pa,"Using default OfflineComponentProvider"),await _d(i,new ux(void 0));return i._offlineComponents}async function Vb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(be(pa,"Using user provided OnlineComponentProvider"),await R_(i,i._uninitializedComponentsProvider._online)):(be(pa,"Using default OnlineComponentProvider"),await R_(i,new Fd))),i._onlineComponents}function dx(i){return Vb(i).then(e=>e.syncEngine)}async function mx(i){const e=await Vb(i),r=e.eventManager;return r.onListen=X2.bind(null,e.syncEngine),r.onUnlisten=W2.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Z2.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ex.bind(null,e.syncEngine),r}function px(i,e,r={}){const s=new oa;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,c,p,g){const T=new cx({next:y=>{T.yu(),f.enqueueAndForget(()=>B2(u,m)),y.fromCache&&p.source==="server"?g.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(y)},error:y=>g.reject(y)}),m=new F2(c,T,{includeMetadataChanges:!0,Fa:!0});return $2(u,m)}(await mx(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i,e,r){if(!r)throw new Oe(me.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gx(i,e,r,s){if(e===!0&&s===!0)throw new Oe(me.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function C_(i){if(!Me.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function D_(i){if(Me.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Om(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Pe(12329,{type:typeof i})}function kl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Om(i);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firestore.googleapis.com",O_=!0;class I_{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jb,this.ssl=O_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:O_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qR)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _1;switch(s.type){case"firstParty":return new w1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=x_.get(r);s&&(be("ComponentProvider","Removing Datastore"),x_.delete(r),s.terminate())}(this),Promise.resolve()}}function yx(i,e,r,s={}){var o;const u=(i=kl(i,tf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),c=`${e}:${r}`;u.host!==jb&&u.host!==c&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:c,ssl:!1,emulatorOptions:s});if(!Rc(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=yn.MOCK_USER;else{g=XS(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new yn(m)}i._authCredentials=new b1(new R0(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class vr{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class la extends nf{constructor(e,r,s){super(e,r,F0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new Me(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Pb(i,e,...r){if(i=Rl(i),Lb("collection","path",e),i instanceof tf){const s=Rt.fromString(e,...r);return D_(s),new la(i,null,s)}{if(!(i instanceof vr||i instanceof la))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return D_(s),new la(i.firestore,null,s)}}function Ub(i,e,...r){if(i=Rl(i),arguments.length===1&&(e=C0.newId()),Lb("doc","path",e),i instanceof tf){const s=Rt.fromString(e,...r);return C_(s),new vr(i,null,new Me(s))}{if(!(i instanceof vr||i instanceof la))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return C_(s),new vr(i.firestore,i instanceof la?i.converter:null,new Me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new vb(this,"async_queue_retry"),this.ju=()=>{const s=vd();s&&be(M_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const r=vd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=vd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new oa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!lo(e))throw e;be(M_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,bi("INTERNAL UNHANDLED ERROR: ",V_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(e,r,s){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=Am.createAndSchedule(this,e,r,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Pe(47125,{ec:V_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function V_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class rf extends tf{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new N_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function vx(i,e){const r=typeof i=="object"?i:s1(),s=typeof i=="string"?i:Oc,o=t1(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=YS("firestore");u&&yx(o,...u)}return o}function zb(i){if(i._terminated)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||_x(i),i._firestoreClient}function _x(i){var e,r,s;const o=i._freezeSettings(),u=function(c,p,g,T){return new P1(c,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,kb(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new fx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(cn.fromBase64String(e))}catch(r){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new io(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=/^__.*__$/;class Ex{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ul(e,this.data,r,this.fieldTransforms)}}function Bb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:i})}}class Vm{constructor(e,r,s,o,u,f){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return zc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Bb(this.oc)&&bx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Tx{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Jc(e)}dc(e,r,s,o=!1){return new Vm({oc:e,methodName:r,Ec:s,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wx(i){const e=i._freezeSettings(),r=Jc(i._databaseId);return new Tx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Sx(i,e,r,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,r,o);Gb("Data must be an object, but it was:",f,s);const c=Hb(s,f);let p,g;if(u.merge)p=new yr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const m of u.mergeFields){const y=Ax(e,m,r);if(!f.contains(y))throw new Oe(me.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);xx(T,y)||T.push(y)}p=new yr(T),g=f.fieldTransforms.filter(m=>p.covers(m.field))}else p=null,g=f.fieldTransforms;return new Ex(new ur(c),p,g)}function qb(i,e){if(Fb(i=Rl(i)))return Gb("Unsupported field value:",e,i),Hb(i,e);if(i instanceof $b)return function(s,o){if(!Bb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const c of s){let p=qb(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Rl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:Lc(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,u)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof io)return{bytesValue:ob(o.serializer,s._byteString)};if(s instanceof vr){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nm)return function(f,c){return{mapValue:{fields:{[L0]:{stringValue:j0},[Ic]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw c.Tc("VectorValues must only contain numeric values.");return hm(c.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Om(s)}`)}(i,e)}function Hb(i,e){const r={};return O0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(i,(s,o)=>{const u=qb(o,e.uc(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function Fb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qt||i instanceof Mm||i instanceof io||i instanceof vr||i instanceof $b||i instanceof Nm)}function Gb(i,e,r){if(!Fb(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=Om(r);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Ax(i,e,r){if((e=Rl(e))instanceof Im)return e._internalPath;if(typeof e=="string")return Qb(i,e);throw zc("Field path arguments must be of type string or ",i,!1,void 0,r)}const Rx=new RegExp("[~\\*/\\[\\]]");function Qb(i,e,r){if(e.search(Rx)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Im(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function zc(i,e,r,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Oe(me.INVALID_ARGUMENT,c+i+p)}function xx(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Kb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Cx extends Yb{data(){return super.data()}}function Kb(i,e){return typeof e=="string"?Qb(i,e):e instanceof Im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ox{convertValue(e,r="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Wa(e,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertVectorValue(e){var r,s,o;const u=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Nt(f.doubleValue));return new Nm(u)}convertGeoPoint(e){return new Mm(Nt(e.latitude),Nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Fc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const r=fa(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Rt.fromString(e);ht(db(s),9688,{name:e});const o=new Il(s.get(1),s.get(3)),u=new Me(s.popFirst(5));return o.isEqual(r)||bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(i,e,r){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mx extends Yb{constructor(e,r,s,o,u,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Kb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class bc extends Mx{data(e={}){return super.data(e)}}class Nx{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new fc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new bc(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new bc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new fc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const p=new bc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new fc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return c.type!==0&&(g=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),T=f.indexOf(c.doc.key)),{type:Vx(c.type),doc:p,oldIndex:g,newIndex:T}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Vx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:i})}}class kx extends Ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,r)}}function Lx(i){i=kl(i,nf);const e=kl(i.firestore,rf),r=zb(e),s=new kx(e);return Dx(i._query),px(r,i._query).then(o=>new Nx(e,s,i,o))}function jx(i){return Xb(kl(i.firestore,rf),[new dm(i._key,Br.none())])}function Px(i,e){const r=kl(i.firestore,rf),s=Ub(i),o=Ix(i.converter,e);return Xb(r,[Sx(wx(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Br.exists(!1))]).then(()=>s)}function Xb(i,e){return function(s,o){const u=new oa;return s.asyncQueue.enqueueAndForget(async()=>tx(await dx(s),o,u)),u.promise}(zb(i),e)}(function(e,r=!0){(function(o){so=o})(a1),Cc(new xl("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),c=new rf(new E1(s.getProvider("auth-internal")),new S1(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:r},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),Xs(Uv,zv,e),Xs(Uv,zv,"esm2017")})();const Ux={apiKey:"AIzaSyA_dFM_GbOGvXnTnufrxX19g8u_cVdCwd4",authDomain:"lekladan-6070d.firebaseapp.com",projectId:"lekladan-6070d",storageBucket:"lekladan-6070d.firebasestorage.app",messagingSenderId:"519712105099",appId:"1:519712105099:web:6b7deefe170c732ac56a8e"},zx=g0(Ux),km=vx(zx),Lm="summerToys";async function jm(i){const e=Pb(km,Lm),o=(await Lx(e)).docs.map(u=>({id:u.id,...u.data()})).map(u=>{if(u.discount>0){const f=(100-u.discount)/100,c=Math.round(u.price*f);return{...u,oldPrice:u.price,price:c}}else return u});i(o)}async function $x(i,e){try{const r=Pb(km,Lm),s=await Px(r,e);return jm(i),s}catch(r){throw console.error("Fel vid skickande av meddelande: ",r),r}}async function Bx(i,e){const r=Ub(km,Lm,e);await jx(r),jm(i)}const k_=i=>{let e;const r=new Set,s=(g,T)=>{const m=typeof g=="function"?g(e):g;if(!Object.is(m,e)){const y=e;e=T??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(b=>b(e,y))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(r.add(g),()=>r.delete(g))},p=e=i(s,o,c);return c},qx=i=>i?k_(i):k_,Hx=i=>i;function Fx(i,e=Hx){const r=Jy.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Jy.useDebugValue(r),r}const L_=i=>{const e=qx(i),r=s=>Fx(e,s);return Object.assign(r,e),r},Gx=i=>i?L_(i):L_,rs=Gx((i,e)=>({isMenuOpen:!1,storeToysList:[],cartList:[],isLoggedIn:!1,switchIsLoggedIn:()=>i(r=>({isLoggedIn:!r.isLoggedIn})),setSummerToys:r=>{i(()=>({storeToysList:r}))},toggleMenu:()=>i(r=>({isMenuOpen:!r.isMenuOpen})),addToCart:r=>{const{cartList:s}=e();let o=s.find(u=>u.id===r.id);if(!o)i(u=>({cartList:[...u.cartList,{...r,quantity:1}]}));else{const u=s.map(f=>f.id===o.id?{...f,quantity:f.quantity+1}:f);i(()=>({cartList:u}))}},removeFromCart:r=>{const{cartList:s}=e();let o=s.find(f=>f.id===r.id),u=[];o.quantity===1?u=s.filter(f=>f.id!==o.id):u=s.map(f=>f.id===o.id?{...f,quantity:f.quantity-1}:f),i(()=>({cartList:u}))}}));function Qx(){const{pathname:i}=wi();return re.useEffect(()=>{window.scrollTo(0,0)},[i]),null}const Yx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR4nO2ZSy8EQRDHfwf2YuNxdcYeBXvBF7CREB/G4+59JI74IBaJT0GcBOvGxeNGSSU1stnYZCZmegr9SyqZpKeru/pf3dNbC5G/Tw1YBU6BS+DFTJ+bwAowhmPqwBkgKU0DncIRvcAB8GETfAQOgQVTp89MnxeBI3tHrM8+0FN2EEPAuU3qFVgH+lP003c2gLc2dQYpUYkkle4ttbIyDtyYjwugQgkc2ARugeEf+NG+d+Zrj8DULb81nSZy8DdpafZuz8FIUkr3RF5smk89ooNQazud0mzstAwAT+Z7lACs2WB6xObNsfleJgBNG0y/CXmzZL5PCMC1DTZSYNpeEYBnG6xagO+q+dYxCie5K/1W/1/EQFIiUZGMxNQqY6EqwC7wkOEXX9HWArazXvV3HExcuthWlkBa1mkaP8y0KePvCMyIZJ1XDKRgJCriDImKOEOiIs6QqEgH81bn1RJno4R2yUuRpEab1HxDt0sMpIOGrZqu1lwJ7RI3uzMkKuIMiYo4Q6IizpB/q0jLOmgtyQuzNie9VKZm20FFUbqY/o2dGq2vajCJMh5MldAgvq39fgLrDI6q0s9yGAAAAABJRU5ErkJggg==";function Kx(){const{toggleMenu:i,isMenuOpen:e,setSummerToys:r,cartList:s}=rs(),o=wi();re.useEffect(()=>{jm(r)},[]);const u=()=>s.reduce((f,c)=>f+c.quantity,0);return W.jsxs(W.Fragment,{children:[W.jsx(Qx,{}),o.pathname!=="/admin"&&W.jsxs("header",{children:[W.jsx(na,{to:"/",className:"logo",children:"Leklådan"}),W.jsxs("div",{className:"menu-flex",children:[W.jsx(na,{to:"/products",children:"Produkter"}),W.jsxs(na,{className:"cart-button-flex",to:"/cart",children:[u()>0&&W.jsx("p",{className:"cart-quantity",children:u()}),W.jsx("img",{className:"cart-button",src:jS,alt:"cart store icon"})]})]})]}),W.jsx(tS,{}),o.pathname!=="/admin"&&W.jsxs("footer",{children:[W.jsxs("section",{children:[W.jsx(na,{to:"/",className:"logo",children:"Leklådan"}),W.jsxs("div",{children:[W.jsx("h2",{children:"Kontakta oss"}),W.jsx("p",{children:"leklada@hotmail.se"}),W.jsx("p",{children:"031 01 23 34"})]})]}),W.jsx("p",{children:"© 2025 Leklådan"}),W.jsx(na,{to:"/login",children:W.jsx("img",{src:Yx,alt:""})})]})]})}const Xx="/lekladan/assets/pexels-photo-6137955-CZpMGykj.jpeg",Zx="/lekladan/assets/beach-BXfBnknG.jpg",Jx="/lekladan/assets/outside-C4z-GztM.webp",Wx="/lekladan/assets/sport-PGlnz-fs.webp",eC="/lekladan/assets/water-Bz51mM7J.webp";function tC(){return W.jsxs("main",{className:"home-page",children:[W.jsx("img",{className:"hero-img",src:Xx,alt:""}),W.jsxs("section",{className:"lekladan-presentation",children:[W.jsx("img",{src:"https://media.istockphoto.com/id/1470000848/photo/black-kids-children-and-blowing-bubbles-at-park-having-fun-and-bonding-girls-happy-sisters.jpg?s=612x612&w=0&k=20&c=mj4gWGkh4gryBxxrATYGDe8jTqR_az2dHANVe30R02k=",alt:""}),W.jsxs("div",{children:[W.jsx("h1",{children:"🎉 Välkommen till Leklådan – sommarens roligaste butik!"}),W.jsx("p",{children:"Hos oss hittar du ett handplockat sortiment av sommarleksaker som bjuder in till lek, rörelse och glädje utomhus. Oavsett om du letar efter vattenleksaker, utomhusspel eller klassiska strandfavoriter har vi något för barn i alla åldrar."}),W.jsx("p",{children:"Vi älskar lek – och vi vet att de bästa sommarminnena börjar med rätt leksaker. Leklådan är fylld med både nyheter och tidlösa favoriter, och vi erbjuder snabba leveranser så att du kan komma igång med leken direkt."}),W.jsx("p",{children:"☀️ Gör sommaren magisk – upptäck vårt sortiment idag!"}),W.jsx(na,{className:"button",to:"/products",children:"Gå till produkterna"})]})]}),W.jsxs("section",{className:"categorys",children:[W.jsxs("div",{children:[W.jsx("img",{src:Jx}),W.jsx("p",{children:"Uteleksaker"})]}),W.jsxs("div",{children:[W.jsx("img",{src:Wx}),W.jsx("p",{children:"Rörelse & Sport"})]}),W.jsxs("div",{children:[W.jsx("img",{src:Zx}),W.jsx("p",{children:"Till stranden"})]}),W.jsxs("div",{children:[W.jsx("img",{src:eC}),W.jsx("p",{children:"Vattenleksaker"})]})]})]})}function nC({toy:i}){const{addToCart:e}=rs();return W.jsxs("div",{className:"toy",children:[i.discount>0&&W.jsxs("p",{className:"discount",children:[i.discount,"%"]}),W.jsx("img",{src:i.img,alt:""}),W.jsx("h1",{children:i.name}),W.jsx("p",{children:i.description}),W.jsxs("div",{className:"toy-flex",children:[W.jsx("button",{onClick:()=>e(i),children:"Lägg till"}),W.jsxs("div",{children:[i.oldPrice>0&&W.jsxs("p",{className:"old-price",children:[i.oldPrice,":-"]}),W.jsxs("p",{children:[i.price,":-"]})]})]})]})}function rC(){const{storeToysList:i}=rs(),[e,r]=re.useState(i),[s,o]=re.useState("");re.useEffect(()=>{r(i)},[i]);const u=c=>{let p=[...e];switch(c){case"price-asc":{p.sort((g,T)=>g.price-T.price);break}case"price-desc":{p.sort((g,T)=>T.price-g.price);break}case"name-asc":{p.sort((g,T)=>{let m=g.name,y=T.name;return m<y?-1:m>y?1:0});break}case"name-desc":{p.sort((g,T)=>{let m=g.name,y=T.name;return m<y?1:m>y?-1:0});break}}r(p)},f=e.filter(c=>c.name.toLowerCase().includes(s.toLowerCase()));return W.jsxs("main",{className:"product-page",children:[W.jsxs("section",{className:"search-sort",children:[W.jsx("input",{className:"search",type:"text",placeholder:"Sök...",onChange:c=>o(c.target.value)}),W.jsxs("label",{className:"sort-products",htmlFor:"sort",children:["Sortera efter",W.jsxs("select",{name:"sort",id:"sort",defaultValue:"",onChange:c=>u(c.target.value),children:[W.jsx("option",{value:"",disabled:!0,children:"-- Välj --"}),W.jsx("option",{value:"price-asc",children:"Pris stigande"}),W.jsx("option",{value:"price-desc",children:"Pris fallande"}),W.jsx("option",{value:"name-asc",children:"A-Ö"}),W.jsx("option",{value:"name-desc",children:"Ö-A"})]})]})]}),f.length<1?W.jsx("p",{className:"no-search-results",children:"🎈 Hoppsan! Inga leksaker gömde sig bakom det ordet 🔍. Prova att leta igen – vi har massor av kul 🎁🪁✨!"}):W.jsx("div",{className:"products",children:f.map(c=>W.jsx(nC,{toy:c},c.id))})]})}function iC(){const{cartList:i,addToCart:e,removeFromCart:r}=rs(),s=()=>i.reduce((u,f)=>u+f.price*f.quantity,0),o=()=>i.reduce((u,f)=>u+f.quantity,0);return W.jsx("main",{className:"cart-page",children:i.length===0?W.jsxs("div",{className:"empty-cart",children:[W.jsx("p",{children:"Din varukorg är tom. Hitta några fantastiska leksaker först!"}),W.jsx(na,{className:"button",to:"/products",children:"Gå till produkterna"})]}):W.jsx(W.Fragment,{children:W.jsxs("section",{className:"cart",children:[W.jsx("h1",{children:"Din kundvagn"}),i.map(u=>W.jsxs("div",{className:"cart-product",children:[W.jsx("img",{src:u.img,alt:"product img"}),W.jsxs("div",{children:[W.jsx("h1",{children:u.name}),W.jsxs("p",{children:[u.price*u.quantity,":-"]})]}),W.jsxs("div",{className:"cart-buttons",children:[W.jsx("button",{onClick:()=>r(u),children:"-"}),W.jsx("p",{children:u.quantity}),W.jsx("button",{onClick:()=>e(u),children:"+"})]})]},u.id)),W.jsxs("section",{className:"total",children:[W.jsxs("div",{children:[W.jsx("p",{children:"Antal:"}),W.jsxs("p",{children:[o(),"st"]})]}),W.jsxs("div",{children:[W.jsx("p",{children:"Frakt:"}),W.jsx("p",{children:"Gratis"})]}),W.jsxs("div",{children:[W.jsx("h3",{children:"Totalt:"}),W.jsxs("h3",{children:[s(),":-"]})]})]}),W.jsx("button",{children:"Gå till betalning"})]})})})}function aC(){const[i,e]=re.useState({userName:"",password:""}),[r,s]=re.useState(""),{switchIsLoggedIn:o}=rs(),u=Wd(),f=()=>{i.userName==="admin"&&i.password==="password"?(u("/admin"),o()):s("Felaktiga inloggningsuppgifter, försök igen.")};return W.jsxs("main",{className:"login-page",children:[W.jsx("h1",{children:"Logga in som administratör"}),W.jsxs("form",{onSubmit:c=>{c.preventDefault(),f()},children:[W.jsxs("div",{children:[W.jsx("img",{src:"https://img.icons8.com/?size=100&id=ywULFSPkh4kI&format=png&color=000000",alt:""}),W.jsx("input",{type:"text",placeholder:"Användarnman",onChange:c=>e(p=>({...p,userName:c.target.value}))})]}),W.jsxs("div",{children:[W.jsx("img",{src:"https://img.icons8.com/?size=100&id=2862&format=png&color=000000",alt:""}),W.jsx("input",{type:"password",placeholder:"Lösenord",onChange:c=>e(p=>({...p,password:c.target.value}))})]}),W.jsx("p",{children:r}),W.jsx("button",{type:"submit",children:"Logga in"})]})]})}var bd={exports:{}},j_;function sC(){return j_||(j_=1,function(i,e){(function(r,s){i.exports=s()})(self,()=>{return r={7629:(o,u,f)=>{const c=f(375),p=f(8571),g=f(9474),T=f(1687),m=f(8652),y=f(8160),b=f(3292),v=f(6354),_=f(8901),R=f(9708),E=f(6914),A=f(2294),D=f(6133),V=f(1152),L=f(8863),k=f(2036),I={Base:class{constructor(S){this.type=S,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new A.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...S){return y.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(S){c(S&&typeof S=="object"&&!Array.isArray(S),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const O in S){const j=S[O];c(typeof j=="function","Alteration adjuster for",O,"must be a function"),x.$_terms.alterations.push({target:O,adjuster:j})}return x.$_temp.ruleset=!1,x}artifact(S){return c(S!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",S)}cast(S){return c(S===!1||typeof S=="string","Invalid to value"),c(S===!1||this._definition.cast[S],"Type",this.type,"does not support casting to",S),this.$_setFlag("cast",S===!1?void 0:S)}default(S,x){return this._default("default",S,x)}description(S){return c(S&&typeof S=="string","Description must be a non-empty string"),this.$_setFlag("description",S)}empty(S){const x=this.clone();return S!==void 0&&(S=x.$_compile(S,{override:!1})),x.$_setFlag("empty",S,{clone:!1})}error(S){return c(S,"Missing error"),c(S instanceof Error||typeof S=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",S)}example(S,x={}){return c(S!==void 0,"Missing example"),y.assertOptions(x,["override"]),this._inner("examples",S,{single:!0,override:x.override})}external(S,x){return typeof S=="object"&&(c(!x,"Cannot combine options with description"),x=S.description,S=S.method),c(typeof S=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:S,description:x},{single:!0})}failover(S,x){return this._default("failover",S,x)}forbidden(){return this.presence("forbidden")}id(S){return S?(c(typeof S=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(S),"id cannot contain period character"),this.$_setFlag("id",S)):this.$_setFlag("id",void 0)}invalid(...S){return this._values(S,"_invalids")}label(S){return c(S&&typeof S=="string","Label name must be a non-empty string"),this.$_setFlag("label",S)}meta(S){return c(S!==void 0,"Meta cannot be undefined"),this._inner("metas",S,{single:!0})}note(...S){c(S.length,"Missing notes");for(const x of S)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(S=!0){return c(typeof S=="boolean","Invalid mode:",S),this.$_setFlag("only",S)}optional(){return this.presence("optional")}prefs(S){c(S,"Missing preferences"),c(S.context===void 0,"Cannot override context"),c(S.externals===void 0,"Cannot override externals"),c(S.warnings===void 0,"Cannot override warnings"),c(S.debug===void 0,"Cannot override debug"),y.checkPreferences(S);const x=this.clone();return x._preferences=y.preferences(x._preferences,S),x}presence(S){return c(["optional","required","forbidden"].includes(S),"Unknown presence mode",S),this.$_setFlag("presence",S)}raw(S=!0){return this.$_setFlag("result",S?"raw":void 0)}result(S){return c(["raw","strip"].includes(S),"Unknown result mode",S),this.$_setFlag("result",S)}required(){return this.presence("required")}strict(S){const x=this.clone(),O=S!==void 0&&!S;return x._preferences=y.preferences(x._preferences,{convert:O}),x}strip(S=!0){return this.$_setFlag("result",S?"strip":void 0)}tag(...S){c(S.length,"Missing tags");for(const x of S)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(S){return c(S&&typeof S=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",S)}valid(...S){y.verifyFlat(S,"valid");const x=this.allow(...S);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(S,x){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const j=b.when(O,S,x);if(!["any","link"].includes(O.type)){const $=j.is?[j]:j.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(j),O.$_mutateRebuild()}cache(S){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=S||m.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const S=Object.create(Object.getPrototypeOf(this));return this._assign(S)}concat(S){c(y.isSchema(S),"Invalid schema object"),c(this.type==="any"||S.type==="any"||S.type===this.type,"Cannot merge type",this.type,"with another type:",S.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!S._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&S.type!=="any"){const O=S.clone();for(const j of Object.keys(x))j!=="type"&&(O[j]=x[j]);x=O}x._ids.concat(S._ids),x._refs.register(S,D.toSibling),x._preferences=x._preferences?y.preferences(x._preferences,S._preferences):S._preferences,x._valids=k.merge(x._valids,S._valids,S._invalids),x._invalids=k.merge(x._invalids,S._invalids,S._valids);for(const O of S._singleRules.keys())x._singleRules.has(O)&&(x._rules=x._rules.filter(j=>j.keep||j.name!==O),x._singleRules.delete(O));for(const O of S._rules)S._definition.rules[O.method].multi||x._singleRules.set(O.name,O),x._rules.push(O);if(x._flags.empty&&S._flags.empty){x._flags.empty=x._flags.empty.concat(S._flags.empty);const O=Object.assign({},S._flags);delete O.empty,T(x._flags,O)}else if(S._flags.empty){x._flags.empty=S._flags.empty;const O=Object.assign({},S._flags);delete O.empty,T(x._flags,O)}else T(x._flags,S._flags);for(const O in S.$_terms){const j=S.$_terms[O];j?x.$_terms[O]?x.$_terms[O]=x.$_terms[O].concat(j):x.$_terms[O]=j.slice():x.$_terms[O]||(x.$_terms[O]=j)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,S]),x.$_mutateRebuild()}extend(S){return c(!S.base,"Cannot extend type with another base"),_.type(this,S)}extract(S){return S=Array.isArray(S)?S:S.split("."),this._ids.reach(S)}fork(S,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let j of[].concat(S))j=Array.isArray(j)?j:j.split("."),O=O._ids.fork(j,x,O);return O.$_temp.ruleset=!1,O}rule(S){const x=this._definition;y.assertOptions(S,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const j=this.clone();for(let $=O;$<j._rules.length;++$){const U=j._rules[$],he=p(U);for(const pe in S)x.modifiers[pe](he,S[pe]),c(he.name===U.name,"Cannot change rule name");j._rules[$]=he,j._singleRules.get(he.name)===U&&j._singleRules.set(he.name,he)}return j.$_temp.ruleset=!1,j.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const S=this.clone();return S.$_temp.ruleset=S._rules.length,S}get $(){return this.ruleset}tailor(S){S=[].concat(S),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:O,adjuster:j}of this.$_terms.alterations)S.includes(O)&&(x=j(x),c(y.isSchema(x),"Alteration adjuster for",O,"failed to return a schema object"));return x=x.$_modify({each:O=>O.tailor(S),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return V.location?V.location(this):this}validate(S,x){return L.entry(S,this,x)}validateAsync(S,x){return L.entryAsync(S,this,x)}$_addRule(S){typeof S=="string"&&(S={name:S}),c(S&&typeof S=="object","Invalid options"),c(S.name&&typeof S.name=="string","Invalid rule name");for(const U in S)c(U[0]!=="_","Cannot set private rule properties");const x=Object.assign({},S);x._resolve=[],x.method=x.method||x.name;const O=this._definition.rules[x.method],j=x.args;c(O,"Unknown rule",x.method);const $=this.clone();if(j){c(Object.keys(j).length===1||Object.keys(j).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const U in j){let he=j[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&y.isResolvable(he))x._resolve.push(U),$.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),j[U]=he),pe.assert){const G=y.validateArg(he,U,pe);c(!G,G,"or reference")}}he!==void 0?j[U]=he:delete j[U]}}return O.multi||($._ruleRemove(x.name,{clone:!1}),$._singleRules.set(x.name,x)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(x):$._rules.push(x),$}$_compile(S,x){return b.schema(this.$_root,S,x)}$_createError(S,x,O,j,$,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?E.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(S,x,O,he,pe,j,$)}$_getFlag(S){return this._flags[S]}$_getRule(S){return this._singleRules.get(S)}$_mapLabels(S){return S=Array.isArray(S)?S:S.split("."),this._ids.labels(S)}$_match(S,x,O,j){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,x.snapshot();const $=!L.validate(S,this,x,O,j).errors;return x.restore(),$}$_modify(S){return y.assertOptions(S,["each","once","ref","schema"]),A.schema(this,S)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(S,{source:x,name:O,path:j,key:$})=>{const U=this._definition[x][O]&&this._definition[x][O].register;U!==!1&&this.$_mutateRegister(S,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(S,{family:x,key:O}={}){this._refs.register(S,x),this._ids.register(S,{key:O})}$_property(S){return this._definition.properties[S]}$_reach(S){return this._ids.reach(S)}$_rootReferences(){return this._refs.roots()}$_setFlag(S,x,O={}){c(S[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const j=this._definition.flags[S]||{};if(g(x,j.default)&&(x=void 0),g(x,this._flags[S]))return this;const $=O.clone!==!1?this.clone():this;return x!==void 0?($._flags[S]=x,$.$_mutateRegister(x)):delete $._flags[S],S[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(S,...x){return this[S][y.symbols.parent].call(this,...x)}$_validate(S,x,O){return L.validate(S,this,x,O)}_assign(S){S.type=this.type,S.$_root=this.$_root,S.$_temp=Object.assign({},this.$_temp),S.$_temp.whens={},S._ids=this._ids.clone(),S._preferences=this._preferences,S._valids=this._valids&&this._valids.clone(),S._invalids=this._invalids&&this._invalids.clone(),S._rules=this._rules.slice(),S._singleRules=p(this._singleRules,{shallow:!0}),S._refs=this._refs.clone(),S._flags=Object.assign({},this._flags),S._cache=null,S.$_terms={};for(const x in this.$_terms)S.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;S.$_super={};for(const x in this.$_super)S.$_super[x]=this._super[x].bind(S);return S}_bare(){const S=this.clone();S._reset();const x=S._definition.terms;for(const O in x){const j=x[O];S.$_terms[O]=j.init}return S.$_mutateRebuild()}_default(S,x,O={}){return y.assertOptions(O,"literal"),c(x!==void 0,"Missing",S,"value"),c(typeof x=="function"||!O.literal,"Only function value supports literal option"),typeof x=="function"&&O.literal&&(x={[y.symbols.literal]:!0,literal:x}),this.$_setFlag(S,x)}_generate(S,x,O){if(!this.$_terms.whens)return{schema:this};const j=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const G=this.$_terms.whens[pe];if(G.concat){j.push(G.concat),$.push(`${pe}.concat`);continue}const se=G.ref?G.ref.resolve(S,x,O):S,ye=G.is?[G]:G.switch,Re=$.length;for(let B=0;B<ye.length;++B){const{is:ne,then:de,otherwise:ce}=ye[B],_e=`${pe}${G.switch?"."+B:""}`;if(ne.$_match(se,x.nest(ne,`${_e}.is`),O)){if(de){const je=x.localize([...x.path,`${_e}.then`],x.ancestors,x.schemas),{schema:xe,id:Tt}=de._generate(S,je,O);j.push(xe),$.push(`${_e}.then${Tt?`(${Tt})`:""}`);break}}else if(ce){const je=x.localize([...x.path,`${_e}.otherwise`],x.ancestors,x.schemas),{schema:xe,id:Tt}=ce._generate(S,je,O);j.push(xe),$.push(`${_e}.otherwise${Tt?`(${Tt})`:""}`);break}}if(G.break&&$.length>Re)break}const U=$.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",U),!U)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,S,x,O));for(const pe of j)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...j]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(S,x,O={}){c(!this._inRuleset(),`Cannot set ${S} inside a ruleset`);const j=this.clone();return j.$_terms[S]&&!O.override||(j.$_terms[S]=[]),O.single?j.$_terms[S].push(x):j.$_terms[S].push(...x),j.$_temp.ruleset=!1,j}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(S,x={}){if(!this._singleRules.has(S))return this;const O=x.clone!==!1?this.clone():this;O._singleRules.delete(S);const j=[];for(let $=0;$<O._rules.length;++$){const U=O._rules[$];U.name!==S||U.keep?j.push(U):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=j,O}_values(S,x){y.verifyFlat(S,x.slice(1,-1));const O=this.clone(),j=S[0]===y.symbols.override;if(j&&(S=S.slice(1)),!O[x]&&S.length?O[x]=new k:j&&(O[x]=S.length?new k:null,O.$_mutateRebuild()),!O[x])return O;j&&O[x].override();for(const $ of S){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==y.symbols.override,"Override must be the first value");const U=x==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove($),O[U].length||(c(x==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[x].add($,O._refs)}return O}}};I.Base.prototype[y.symbols.any]={version:y.version,compile:b.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,o.exports=new I.Base},8652:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8160),T={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:m=>new T.Cache(m)},T.Cache=class{constructor(m={}){g.assertOptions(m,["max"]),c(m.max===void 0||m.max&&m.max>0&&isFinite(m.max),"Invalid max cache size"),this._max=m.max||T.max,this._map=new Map,this._list=new T.List}get length(){return this._map.size}set(m,y){if(m!==null&&!T.supported.has(typeof m))return;let b=this._map.get(m);if(b)return b.value=y,void this._list.first(b);b=this._list.unshift({key:m,value:y}),this._map.set(m,b),this._compact()}get(m){const y=this._map.get(m);if(y)return this._list.first(y),p(y.value)}_compact(){if(this._map.size>this._max){const m=this._list.pop();this._map.delete(m.key)}}},T.List=class{constructor(){this.tail=null,this.head=null}unshift(m){return m.next=null,m.prev=this.head,this.head&&(this.head.next=m),this.head=m,this.tail||(this.tail=m),m}first(m){m!==this.head&&(this._remove(m),this.unshift(m))}pop(){return this._remove(this.tail)}_remove(m){const{next:y,prev:b}=m;return y.prev=b,b&&(b.next=y),m===this.tail&&(this.tail=y),m.prev=null,m.next=null,m}}},8160:(o,u,f)=>{const c=f(375),p=f(7916),g=f(5934);let T,m;const y={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=g.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(b,v,_="Options"){c(b&&typeof b=="object"&&!Array.isArray(b),"Options must be of type object");const R=Object.keys(b).filter(E=>!v.includes(E));c(R.length===0,`${_} contain unknown keys: ${R}`)},u.checkPreferences=function(b){m=m||f(3378);const v=m.preferences.validate(b);if(v.error)throw new p([v.error.details[0].message])},u.compare=function(b,v,_){switch(_){case"=":return b===v;case">":return b>v;case"<":return b<v;case">=":return b>=v;case"<=":return b<=v}},u.default=function(b,v){return b===void 0?v:b},u.isIsoDate=function(b){return y.isoDate.test(b)},u.isNumber=function(b){return typeof b=="number"&&!isNaN(b)},u.isResolvable=function(b){return!!b&&(b[u.symbols.ref]||b[u.symbols.template])},u.isSchema=function(b,v={}){const _=b&&b[u.symbols.any];return!!_&&(c(v.legacy||_.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(b){return b[u.symbols.values]},u.limit=function(b){return Number.isSafeInteger(b)&&b>=0},u.preferences=function(b,v){T=T||f(6914),b=b||{},v=v||{};const _=Object.assign({},b,v);return v.errors&&b.errors&&(_.errors=Object.assign({},b.errors,v.errors),_.errors.wrap=Object.assign({},b.errors.wrap,v.errors.wrap)),v.messages&&(_.messages=T.compile(v.messages,b.messages)),delete _[u.symbols.prefs],_},u.tryWithPath=function(b,v,_={}){try{return b()}catch(R){throw R.path!==void 0?R.path=v+"."+R.path:R.path=v,_.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(b,v,{assert:_,message:R}){if(u.isSchema(_)){const E=_.validate(b);return E.error?E.error.message:void 0}if(!_(b))return v?`${v} ${R}`:R},u.verifyFlat=function(b,v){for(const _ of b)c(!Array.isArray(_),"Method no longer accepts array arguments:",v)}},3292:(o,u,f)=>{const c=f(375),p=f(8160),g=f(6133),T={};u.schema=function(m,y,b={}){p.assertOptions(b,["appendPath","override"]);try{return T.schema(m,y,b)}catch(v){throw b.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},T.schema=function(m,y,b){c(y!==void 0,"Invalid undefined schema"),Array.isArray(y)&&(c(y.length,"Invalid empty array schema"),y.length===1&&(y=y[0]));const v=(_,...R)=>b.override!==!1?_.valid(m.override,...R):_.valid(...R);if(T.simple(y))return v(m,y);if(typeof y=="function")return m.custom(y);if(c(typeof y=="object","Invalid schema content:",typeof y),p.isResolvable(y))return v(m,y);if(p.isSchema(y))return y;if(Array.isArray(y)){for(const _ of y)if(!T.simple(_))return m.alternatives().try(...y);return v(m,...y)}return y instanceof RegExp?m.string().regex(y):y instanceof Date?v(m.date(),y):(c(Object.getPrototypeOf(y)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),m.object().keys(y))},u.ref=function(m,y){return g.isRef(m)?m:g.create(m,y)},u.compile=function(m,y,b={}){p.assertOptions(b,["legacy"]);const v=y&&y[p.symbols.any];if(v)return c(b.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),y;if(typeof y!="object"||!b.legacy)return u.schema(m,y,{appendPath:!0});const _=T.walk(y);return _?_.compile(_.root,y):u.schema(m,y,{appendPath:!0})},T.walk=function(m){if(typeof m!="object")return null;if(Array.isArray(m)){for(const b of m){const v=T.walk(b);if(v)return v}return null}const y=m[p.symbols.any];if(y)return{root:m[y.root],compile:y.compile};c(Object.getPrototypeOf(m)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const b in m){const v=T.walk(m[b]);if(v)return v}return null},T.simple=function(m){return m===null||["boolean","string","number"].includes(typeof m)},u.when=function(m,y,b){if(b===void 0&&(c(y&&typeof y=="object","Missing options"),b=y,y=g.create(".")),Array.isArray(b)&&(b={switch:b}),p.assertOptions(b,["is","not","then","otherwise","switch","break"]),p.isSchema(y))return c(b.is===void 0,'"is" can not be used with a schema condition'),c(b.not===void 0,'"not" can not be used with a schema condition'),c(b.switch===void 0,'"switch" can not be used with a schema condition'),T.condition(m,{is:y,then:b.then,otherwise:b.otherwise,break:b.break});if(c(g.isRef(y)||typeof y=="string","Invalid condition:",y),c(b.not===void 0||b.is===void 0,'Cannot combine "is" with "not"'),b.switch===void 0){let _=b;b.not!==void 0&&(_={is:b.not,then:b.otherwise,otherwise:b.then,break:b.break});let R=_.is!==void 0?m.$_compile(_.is):m.$_root.invalid(null,!1,0,"").required();return c(_.then!==void 0||_.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(_.break===void 0||_.then===void 0||_.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),b.is===void 0||g.isRef(b.is)||p.isSchema(b.is)||(R=R.required()),T.condition(m,{ref:u.ref(y),is:R,then:_.then,otherwise:_.otherwise,break:_.break})}c(Array.isArray(b.switch),'"switch" must be an array'),c(b.is===void 0,'Cannot combine "switch" with "is"'),c(b.not===void 0,'Cannot combine "switch" with "not"'),c(b.then===void 0,'Cannot combine "switch" with "then"');const v={ref:u.ref(y),switch:[],break:b.break};for(let _=0;_<b.switch.length;++_){const R=b.switch[_],E=_===b.switch.length-1;p.assertOptions(R,E?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const A={is:m.$_compile(R.is),then:m.$_compile(R.then)};if(g.isRef(R.is)||p.isSchema(R.is)||(A.is=A.is.required()),E){c(b.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=b.otherwise!==void 0?b.otherwise:R.otherwise;D!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),A.otherwise=m.$_compile(D))}v.switch.push(A)}return v},T.condition=function(m,y){for(const b of["then","otherwise"])y[b]===void 0?delete y[b]:y[b]=m.$_compile(y[b]);return y}},6354:(o,u,f)=>{const c=f(5688),p=f(8160),g=f(3328);u.Report=class{constructor(T,m,y,b,v,_,R){if(this.code=T,this.flags=b,this.messages=v,this.path=_.path,this.prefs=R,this.state=_,this.value=m,this.message=null,this.template=null,this.local=y||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const E=this.path[this.path.length-1];typeof E!="object"&&(this.local.key=E)}}_setTemplate(T){if(this.template=T,!this.flags.label&&this.path.length===0){const m=this._template(this.template,"root");m&&(this.local.label=m)}}toString(){if(this.message)return this.message;const T=this.code;if(!this.prefs.errors.render)return this.code;const m=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return m===void 0?`Error code "${T}" is not defined, your custom type is missing the correct messages definition`:(this.message=m.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(T,m){return u.template(this.value,T,m||this.code,this.state,this.prefs)}},u.path=function(T){let m="";for(const y of T)typeof y!="object"&&(typeof y=="string"?(m&&(m+="."),m+=y):m+=`[${y}]`);return m},u.template=function(T,m,y,b,v){if(!m)return;if(g.isTemplate(m))return y!=="root"?m:null;let _=v.errors.language;if(p.isResolvable(_)&&(_=_.resolve(T,b,v)),_&&m[_]){if(m[_][y]!==void 0)return m[_][y];if(m[_]["*"]!==void 0)return m[_]["*"]}return m[y]?m[y]:m["*"]},u.label=function(T,m,y,b){if(!y.errors.label)return"";if(T.label)return T.label;let v=m.path;return y.errors.label==="key"&&m.path.length>1&&(v=m.path.slice(-1)),u.path(v)||u.template(null,y.messages,"root",m,y)||b&&u.template(null,b,"root",m,y)||"value"},u.process=function(T,m,y){if(!T)return null;const{override:b,message:v,details:_}=u.details(T);if(b)return b;if(y.errors.stack)return new u.ValidationError(v,_,m);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const E=new u.ValidationError(v,_,m);return Error.stackTraceLimit=R,E},u.details=function(T,m={}){let y=[];const b=[];for(const v of T){if(v instanceof Error){if(m.override!==!1)return{override:v};const R=v.toString();y.push(R),b.push({message:R,type:"override",context:{error:v}});continue}const _=v.toString();y.push(_),b.push({message:_,path:v.path.filter(R=>typeof R!="object"),type:v.code,context:v.local})}return y.length>1&&(y=[...new Set(y)]),{message:y.join(". "),details:b}},u.ValidationError=class extends Error{constructor(T,m,y){super(T),this._original=y,this.details=m}static isError(T){return T instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8160),T=f(6914),m={};u.type=function(y,b){const v=Object.getPrototypeOf(y),_=p(v),R=y._assign(Object.create(_)),E=Object.assign({},b);delete E.base,_._definition=E;const A=v._definition||{};E.messages=T.merge(A.messages,E.messages),E.properties=Object.assign({},A.properties,E.properties),R.type=E.type,E.flags=Object.assign({},A.flags,E.flags);const D=Object.assign({},A.terms);if(E.terms)for(const I in E.terms){const S=E.terms[I];c(R.$_terms[I]===void 0,"Invalid term override for",E.type,I),R.$_terms[I]=S.init,D[I]=S}E.terms=D,E.args||(E.args=A.args),E.prepare=m.prepare(E.prepare,A.prepare),E.coerce&&(typeof E.coerce=="function"&&(E.coerce={method:E.coerce}),E.coerce.from&&!Array.isArray(E.coerce.from)&&(E.coerce={method:E.coerce.method,from:[].concat(E.coerce.from)})),E.coerce=m.coerce(E.coerce,A.coerce),E.validate=m.validate(E.validate,A.validate);const V=Object.assign({},A.rules);if(E.rules)for(const I in E.rules){const S=E.rules[I];c(typeof S=="object","Invalid rule definition for",E.type,I);let x=S.method;if(x===void 0&&(x=function(){return this.$_addRule(I)}),x&&(c(!_[I],"Rule conflict in",E.type,I),_[I]=x),c(!V[I],"Rule conflict in",E.type,I),V[I]=S,S.alias){const O=[].concat(S.alias);for(const j of O)_[j]=S.method}S.args&&(S.argsByName=new Map,S.args=S.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!S.argsByName.has(O.name),"Duplicated argument name",O.name),g.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),S.argsByName.set(O.name,O),O)))}E.rules=V;const L=Object.assign({},A.modifiers);if(E.modifiers)for(const I in E.modifiers){c(!_[I],"Rule conflict in",E.type,I);const S=E.modifiers[I];c(typeof S=="function","Invalid modifier definition for",E.type,I);const x=function(O){return this.rule({[I]:O})};_[I]=x,L[I]=S}if(E.modifiers=L,E.overrides){_._super=v,R.$_super={};for(const I in E.overrides)c(v[I],"Cannot override missing",I),E.overrides[I][g.symbols.parent]=v[I],R.$_super[I]=v[I].bind(R);Object.assign(_,E.overrides)}E.cast=Object.assign({},A.cast,E.cast);const k=Object.assign({},A.manifest,E.manifest);return k.build=m.build(E.manifest&&E.manifest.build,A.manifest&&A.manifest.build),E.manifest=k,E.rebuild=m.rebuild(E.rebuild,A.rebuild),R},m.build=function(y,b){return y&&b?function(v,_){return b(y(v,_),_)}:y||b},m.coerce=function(y,b){return y&&b?{from:y.from&&b.from?[...new Set([...y.from,...b.from])]:null,method(v,_){let R;if((!b.from||b.from.includes(typeof v))&&(R=b.method(v,_),R)){if(R.errors||R.value===void 0)return R;v=R.value}if(!y.from||y.from.includes(typeof v)){const E=y.method(v,_);if(E)return E}return R}}:y||b},m.prepare=function(y,b){return y&&b?function(v,_){const R=y(v,_);if(R){if(R.errors||R.value===void 0)return R;v=R.value}return b(v,_)||R}:y||b},m.rebuild=function(y,b){return y&&b?function(v){b(v),y(v)}:y||b},m.validate=function(y,b){return y&&b?function(v,_){const R=b(v,_);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;v=R.value}return y(v,_)||R}:y||b}},5107:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8652),T=f(8160),m=f(3292),y=f(6354),b=f(8901),v=f(9708),_=f(6133),R=f(3328),E=f(1152);let A;const D={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const V={_types:new Set(Object.keys(D.types))};for(const L of V._types)V[L]=function(...k){return c(!k.length||["alternatives","link","object"].includes(L),"The",L,"type does not allow arguments"),D.generate(this,D.types[L],k)};for(const L of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])V[L]=function(...k){return this.any()[L](...k)};Object.assign(V,D.methods);for(const L in D.aliases){const k=D.aliases[L];V[L]=V[k]}return V.x=V.expression,E.setup&&E.setup(V),V}};D.methods={ValidationError:y.ValidationError,version:T.version,cache:g.provider,assert(V,L,...k){D.assert(V,L,!0,k)},attempt:(V,L,...k)=>D.assert(V,L,!1,k),build(V){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,V)},checkPreferences(V){T.checkPreferences(V)},compile(V,L){return m.compile(this,V,L)},defaults(V){c(typeof V=="function","modifier must be a function");const L=Object.assign({},this);for(const k of L._types){const I=V(L[k]());c(T.isSchema(I),"modifier must return a valid schema object"),L[k]=function(...S){return D.generate(this,I,S)}}return L},expression:(...V)=>new R(...V),extend(...V){T.verifyFlat(V,"extend"),A=A||f(3378),c(V.length,"You need to provide at least one extension"),this.assert(V,A.extensions);const L=Object.assign({},this);L._types=new Set(L._types);for(let k of V){typeof k=="function"&&(k=k(L)),this.assert(k,A.extension);const I=D.expandExtension(k,L);for(const S of I){c(L[S.type]===void 0||L._types.has(S.type),"Cannot override name",S.type);const x=S.base||this.any(),O=b.type(x,S);L._types.add(S.type),L[S.type]=function(...j){return D.generate(this,O,j)}}}return L},isError:y.ValidationError.isError,isExpression:R.isTemplate,isRef:_.isRef,isSchema:T.isSchema,in:(...V)=>_.in(...V),override:T.symbols.override,ref:(...V)=>_.create(...V),types(){const V={};for(const L of this._types)V[L]=this[L]();for(const L in D.aliases)V[L]=this[L]();return V}},D.assert=function(V,L,k,I){const S=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,x=S!==null?I[1]:I[0],O=L.validate(V,T.preferences({errors:{stack:!0}},x||{}));let j=O.error;if(!j)return O.value;if(S instanceof Error)throw S;const $=k&&typeof j.annotate=="function"?j.annotate():j.message;throw j instanceof y.ValidationError==0&&(j=p(j)),j.message=S?`${S} ${$}`:$,j},D.generate=function(V,L,k){return c(V,"Must be invoked on a Joi instance."),L.$_root=V,L._definition.args&&k.length?L._definition.args(L,...k):L},D.expandExtension=function(V,L){if(typeof V.type=="string")return[V];const k=[];for(const I of L._types)if(V.type.test(I)){const S=Object.assign({},V);S.type=I,S.base=L[I](),k.push(S)}return k},o.exports=D.root()},6914:(o,u,f)=>{const c=f(375),p=f(8571),g=f(3328);u.compile=function(T,m){if(typeof T=="string")return c(!m,"Cannot set single message string"),new g(T);if(g.isTemplate(T))return c(!m,"Cannot set single message template"),T;c(typeof T=="object"&&!Array.isArray(T),"Invalid message options"),m=m?p(m):{};for(let y in T){const b=T[y];if(y==="root"||g.isTemplate(b)){m[y]=b;continue}if(typeof b=="string"){m[y]=new g(b);continue}c(typeof b=="object"&&!Array.isArray(b),"Invalid message for",y);const v=y;for(y in m[v]=m[v]||{},b){const _=b[y];y==="root"||g.isTemplate(_)?m[v][y]=_:(c(typeof _=="string","Invalid message for",y,"in",v),m[v][y]=new g(_))}}return m},u.decompile=function(T){const m={};for(let y in T){const b=T[y];if(y==="root"){m.root=b;continue}if(g.isTemplate(b)){m[y]=b.describe({compact:!0});continue}const v=y;for(y in m[v]={},b){const _=b[y];y!=="root"?m[v][y]=_.describe({compact:!0}):m[v].root=_}}return m},u.merge=function(T,m){if(!T)return u.compile(m);if(!m)return T;if(typeof m=="string")return new g(m);if(g.isTemplate(m))return m;const y=p(T);for(let b in m){const v=m[b];if(b==="root"||g.isTemplate(v)){y[b]=v;continue}if(typeof v=="string"){y[b]=new g(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",b);const _=b;for(b in y[_]=y[_]||{},v){const R=v[b];b==="root"||g.isTemplate(R)?y[_][b]=R:(c(typeof R=="string","Invalid message for",b,"in",_),y[_][b]=new g(R))}}return y}},2294:(o,u,f)=>{const c=f(375),p=f(8160),g=f(6133),T={};u.Ids=T.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const m=new T.Ids;return m._byId=new Map(this._byId),m._byKey=new Map(this._byKey),m._schemaChain=this._schemaChain,m}concat(m){m._schemaChain&&(this._schemaChain=!0);for(const[y,b]of m._byId.entries())c(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,b);for(const[y,b]of m._byKey.entries())c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,b)}fork(m,y,b){const v=this._collect(m);v.push({schema:b});const _=v.shift();let R={id:_.id,schema:y(_.schema)};c(p.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const E of v)R={id:E.id,schema:T.fork(E.schema,R.id,R.schema)};return R.schema}labels(m,y=[]){const b=m[0],v=this._get(b);if(!v)return[...y,...m].join(".");const _=m.slice(1);return y=[...y,v.schema._flags.label||b],_.length?v.schema._ids.labels(_,y):y.join(".")}reach(m,y=[]){const b=m[0],v=this._get(b);c(v,"Schema does not contain path",[...y,...m].join("."));const _=m.slice(1);return _.length?v.schema._ids.reach(_,[...y,b]):v.schema}register(m,{key:y}={}){if(!m||!p.isSchema(m))return;(m.$_property("schemaChain")||m._ids._schemaChain)&&(this._schemaChain=!0);const b=m._flags.id;if(b){const v=this._byId.get(b);c(!v||v.schema===m,"Cannot add different schemas with the same id:",b),c(!this._byKey.has(b),"Schema id conflicts with existing key:",b),this._byId.set(b,{schema:m,id:b})}y&&(c(!this._byKey.has(y),"Schema already contains key:",y),c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,{schema:m,id:y}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(m,y=[],b=[]){const v=m[0],_=this._get(v);c(_,"Schema does not contain path",[...y,...m].join(".")),b=[_,...b];const R=m.slice(1);return R.length?_.schema._ids._collect(R,[...y,v],b):b}_get(m){return this._byId.get(m)||this._byKey.get(m)}},T.fork=function(m,y,b){const v=u.schema(m,{each:(_,{key:R})=>{if(y===(_._flags.id||R))return b},ref:!1});return v?v.$_mutateRebuild():m},u.schema=function(m,y){let b;for(const v in m._flags){if(v[0]==="_")continue;const _=T.scan(m._flags[v],{source:"flags",name:v},y);_!==void 0&&(b=b||m.clone(),b._flags[v]=_)}for(let v=0;v<m._rules.length;++v){const _=m._rules[v],R=T.scan(_.args,{source:"rules",name:_.name},y);if(R!==void 0){b=b||m.clone();const E=Object.assign({},_);E.args=R,b._rules[v]=E,b._singleRules.get(_.name)===_&&b._singleRules.set(_.name,E)}}for(const v in m.$_terms){if(v[0]==="_")continue;const _=T.scan(m.$_terms[v],{source:"terms",name:v},y);_!==void 0&&(b=b||m.clone(),b.$_terms[v]=_)}return b},T.scan=function(m,y,b,v,_){const R=v||[];if(m===null||typeof m!="object")return;let E;if(Array.isArray(m)){for(let A=0;A<m.length;++A){const D=y.source==="terms"&&y.name==="keys"&&m[A].key,V=T.scan(m[A],y,b,[A,...R],D);V!==void 0&&(E=E||m.slice(),E[A]=V)}return E}if(b.schema!==!1&&p.isSchema(m)||b.ref!==!1&&g.isRef(m)){const A=b.each(m,{...y,path:R,key:_});return A===m?void 0:A}for(const A in m){if(A[0]==="_")continue;const D=T.scan(m[A],y,b,[A,...R],_);D!==void 0&&(E=E||Object.assign({},m),E[A]=D)}return E}},6133:(o,u,f)=>{const c=f(375),p=f(8571),g=f(9621),T=f(8160);let m;const y={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(b,v={}){c(typeof b=="string","Invalid reference key:",b),T.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const _=Object.assign({},y.defaults,v);delete _.prefix;const R=_.separator,E=y.context(b,R,v.prefix);if(_.type=E.type,b=E.key,_.type==="value")if(E.root&&(c(!R||b[0]!==R,"Cannot specify relative path with root prefix"),_.ancestor="root",b||(b=null)),R&&R===b)b=null,_.ancestor=0;else if(_.ancestor!==void 0)c(!R||!b||b[0]!==R,"Cannot combine prefix with ancestor option");else{const[A,D]=y.ancestor(b,R);D&&(b=b.slice(D))===""&&(b=null),_.ancestor=A}return _.path=R?b===null?[]:b.split(R):[b],new y.Ref(_)},u.in=function(b,v={}){return u.create(b,{...v,in:!0})},u.isRef=function(b){return!!b&&!!b[T.symbols.ref]},y.Ref=class{constructor(b){c(typeof b=="object","Invalid reference construction"),T.assertOptions(b,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(b.separator)||typeof b.separator=="string"&&b.separator.length===1,"Invalid separator"),c(!b.adjust||typeof b.adjust=="function","options.adjust must be a function"),c(!b.map||Array.isArray(b.map),"options.map must be an array"),c(!b.map||!b.adjust,"Cannot set both map and adjust options"),Object.assign(this,y.defaults,b),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(b,v,_,R,E={}){return c(!this.in||E.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(_.context,v,E):this.type==="local"?this._resolve(R,v,E):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,E):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,E)):this._resolve(b,v,E)}_resolve(b,v,_){let R;if(this.type==="value"&&v.mainstay.shadow&&_.shadow!==!1&&(R=v.mainstay.shadow.get(this.absolute(v))),R===void 0&&(R=g(b,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const E=this.map.get(R);E!==void 0&&(R=E)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,R),R}toString(){return this.display}absolute(b){return[...b.path.slice(0,-this.ancestor),...this.path]}clone(){return new y.Ref(this)}describe(){const b={path:this.path};this.type!=="value"&&(b.type=this.type),this.separator!=="."&&(b.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(b.ancestor=this.ancestor),this.map&&(b.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(b[v]=this[v]);return this.in!==!1&&(b.in=!0),{ref:b}}updateDisplay(){const b=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${b}`);if(!this.separator)return void(this.display=`ref:${b}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${b}`);if(this.ancestor==="root")return void(this.display=`ref:root:${b}`);if(this.ancestor===1)return void(this.display=`ref:${b||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${b||""}`}},y.Ref.prototype[T.symbols.ref]=!0,u.build=function(b){return(b=Object.assign({},y.defaults,b)).type==="value"&&b.ancestor===void 0&&(b.ancestor=1),new y.Ref(b)},y.context=function(b,v,_={}){if(b=b.trim(),_){const R=_.global===void 0?"$":_.global;if(R!==v&&b.startsWith(R))return{key:b.slice(R.length),type:"global"};const E=_.local===void 0?"#":_.local;if(E!==v&&b.startsWith(E))return{key:b.slice(E.length),type:"local"};const A=_.root===void 0?"/":_.root;if(A!==v&&b.startsWith(A))return{key:b.slice(A.length),type:"value",root:!0}}return{key:b,type:"value"}},y.ancestor=function(b,v){if(!v)return[1,0];if(b[0]!==v)return[1,0];if(b[1]!==v)return[0,1];let _=2;for(;b[_]===v;)++_;return[_-1,_]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(b,v){if(b)if(v=v===void 0?u.toParent:v,Array.isArray(b))for(const _ of b)this.register(_,v);else if(T.isSchema(b))for(const _ of b._refs.refs)_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root});else u.isRef(b)&&b.type==="value"&&b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root}),m=m||f(3328),m.isTemplate(b)&&this.register(b.refs(),v)}get length(){return this.refs.length}clone(){const b=new u.Manager;return b.refs=p(this.refs),b}reset(){this.refs=[]}roots(){return this.refs.filter(b=>!b.ancestor).map(b=>b.root)}}},3378:(o,u,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,f)=>{const c=f(8571),p=f(9621),g=f(8160),T={value:Symbol("value")};o.exports=T.State=class{constructor(m,y,b){this.path=m,this.ancestors=y,this.mainstay=b.mainstay,this.schemas=b.schemas,this.debug=null}localize(m,y=null,b=null){const v=new T.State(m,y,this);return b&&v.schemas&&(v.schemas=[T.schemas(b),...v.schemas]),v}nest(m,y){const b=new T.State(this.path,this.ancestors,this);return b.schemas=b.schemas&&[T.schemas(m),...b.schemas],b.debug=y,b}shadow(m,y){this.mainstay.shadow=this.mainstay.shadow||new T.Shadow,this.mainstay.shadow.set(this.path,m,y)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},T.schemas=function(m){return g.isSchema(m)?{schema:m}:m},T.Shadow=class{constructor(){this._values=null}set(m,y,b){if(!m.length||b==="strip"&&typeof m[m.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let _=0;_<m.length;++_){const R=m[_];let E=v.get(R);E||(E=new Map,v.set(R,E)),v=E}v[T.value]=y}get(m){const y=this.node(m);if(y)return y[T.value]}node(m){if(this._values)return p(this._values,m,{iterables:!0})}override(m,y){if(!this._values)return;const b=m.slice(0,-1),v=m[m.length-1],_=p(this._values,b,{iterables:!0});y?_.set(v,y):_&&_.delete(v)}}},3328:(o,u,f)=>{const c=f(375),p=f(8571),g=f(5277),T=f(1447),m=f(8160),y=f(6354),b=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(_,R){if(c(typeof _=="string","Template source must be a string"),c(!_.includes("\0")&&!_.includes(""),"Template source cannot contain reserved control characters"),this.source=_,this.rendered=_,this._template=null,R){const{functions:E,...A}=R;this._settings=Object.keys(A).length?p(A):void 0,this._functions=E,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const _=v.encode(this.source),R=v.split(_);let E=!1;const A=[],D=R.shift();D&&A.push(D);for(const V of R){const L=V[0]!=="{",k=L?"}":"}}",I=V.indexOf(k);if(I===-1||V[1]==="{"){A.push(`{${v.decode(V)}`);continue}let S=V.slice(L?0:1,I);const x=S[0]===":";x&&(S=S.slice(1));const O=this._ref(v.decode(S),{raw:L,wrapped:x});A.push(O),typeof O!="string"&&(E=!0);const j=V.slice(I+k.length);j&&A.push(v.decode(j))}E?this._template=A:this.rendered=A.join("")}static date(_,R){return v.dateFormat[R.dateFormat].call(_)}describe(_={}){if(!this._settings&&_.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(_){return new v.Template(_.template,_.options||_.functions?{..._.options,functions:_.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(_){return!!_&&!!_[m.symbols.template]}refs(){if(!this._template)return;const _=[];for(const R of this._template)typeof R!="string"&&_.push(...R.refs);return _}resolve(_,R,E,A){return this._template&&this._template.length===1?this._part(this._template[0],_,R,E,A,{}):this.render(_,R,E,A)}_part(_,...R){return _.ref?_.ref.resolve(...R):_.formula.evaluate(R)}render(_,R,E,A,D={}){if(!this.isDynamic())return this.rendered;const V=[];for(const L of this._template)if(typeof L=="string")V.push(L);else{const k=this._part(L,_,R,E,A,D),I=v.stringify(k,_,R,E,A,D);if(I!==void 0){const S=L.raw||(D.errors&&D.errors.escapeHtml)===!1?I:g(I);V.push(v.wrap(S,L.wrapped&&E.errors.wrap.label))}}return V.join("")}_ref(_,{raw:R,wrapped:E}){const A=[],D=L=>{const k=b.create(L,this._settings);return A.push(k),I=>{const S=k.resolve(...I);return S!==void 0?S:null}};try{const L=this._functions?{...v.functions,...this._functions}:v.functions;var V=new T.Parser(_,{reference:D,functions:L,constants:v.constants})}catch(L){throw L.message=`Invalid template variable "${_}" fails due to: ${L.message}`,L}if(V.single){if(V.single.type==="reference"){const L=A[0];return{ref:L,raw:R,refs:A,wrapped:E||L.type==="local"&&L.key==="label"}}return v.stringify(V.single.value)}return{formula:V,raw:R,refs:A}}toString(){return this.source}},v.Template.prototype[m.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(_){return _.replace(/\\(\{+)/g,(R,E)=>v.opens.slice(0,E.length)).replace(/\\(\}+)/g,(R,E)=>v.closes.slice(0,E.length))},v.decode=function(_){return _.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(_){const R=[];let E="";for(let A=0;A<_.length;++A){const D=_[A];if(D==="{"){let V="";for(;A+1<_.length&&_[A+1]==="{";)V+="{",++A;R.push(E),E=V}else E+=D}return R.push(E),R},v.wrap=function(_,R){return R?R.length===1?`${R}${_}${R}`:`${R[0]}${_}${R[1]}`:_},v.stringify=function(_,R,E,A,D,V={}){const L=typeof _,k=A&&A.errors&&A.errors.wrap||{};let I=!1;if(b.isRef(_)&&_.render&&(I=_.in,_=_.resolve(R,E,A,D,{in:_.in,...V})),_===null)return"null";if(L==="string")return v.wrap(_,V.arrayItems&&k.string);if(L==="number"||L==="function"||L==="symbol")return _.toString();if(L!=="object")return JSON.stringify(_);if(_ instanceof Date)return v.Template.date(_,A);if(_ instanceof Map){const x=[];for(const[O,j]of _.entries())x.push(`${O.toString()} -> ${j.toString()}`);_=x}if(!Array.isArray(_))return _.toString();const S=[];for(const x of _)S.push(v.stringify(x,R,E,A,D,{arrayItems:!0,...V}));return v.wrap(S.join(", "),!I&&k.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(_,R,E)=>_?R:E,length:_=>typeof _=="string"?_.length:_&&typeof _=="object"?Array.isArray(_)?_.length:Object.keys(_).length:null,msg(_){const[R,E,A,D,V]=this,L=V.messages;if(!L)return"";const k=y.template(R,L[0],_,E,A)||y.template(R,L[1],_,E,A);return k?k.render(R,E,A,D,V):""},number:_=>typeof _=="number"?_:typeof _=="string"?parseFloat(_):typeof _=="boolean"?_?1:0:_ instanceof Date?_.getTime():null}},4946:(o,u,f)=>{const c=f(375),p=f(1687),g=f(8068),T=f(8160),m=f(3292),y=f(6354),b=f(6133),v={};o.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:b.toSibling}},args:(_,...R)=>R.length===1&&Array.isArray(R[0])?_.try(...R[0]):_.try(...R),validate(_,R){const{schema:E,error:A,state:D,prefs:V}=R;if(E._flags.match){const k=[],I=[];for(let x=0;x<E.$_terms.matches.length;++x){const O=E.$_terms.matches[x],j=D.nest(O.schema,`match.${x}`);j.snapshot();const $=O.schema.$_validate(_,j,V);$.errors?(I.push($.errors),j.restore()):(k.push($.value),j.commit())}if(k.length===0)return{errors:A("alternatives.any",{details:I.map(x=>y.details(x,{override:!1}))})};if(E._flags.match==="one")return k.length===1?{value:k[0]}:{errors:A("alternatives.one")};if(k.length!==E.$_terms.matches.length)return{errors:A("alternatives.all",{details:I.map(x=>y.details(x,{override:!1}))})};const S=x=>x.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&S(O.schema));return S(E)?{value:k.reduce((x,O)=>p(x,O,{mergeArrays:!1}))}:{value:k[k.length-1]}}const L=[];for(let k=0;k<E.$_terms.matches.length;++k){const I=E.$_terms.matches[k];if(I.schema){const O=D.nest(I.schema,`match.${k}`);O.snapshot();const j=I.schema.$_validate(_,O,V);if(!j.errors)return O.commit(),j;O.restore(),L.push({schema:I.schema,reports:j.errors});continue}const S=I.ref?I.ref.resolve(_,D,V):_,x=I.is?[I]:I.switch;for(let O=0;O<x.length;++O){const j=x[O],{is:$,then:U,otherwise:he}=j,pe=`match.${k}${I.switch?"."+O:""}`;if($.$_match(S,D.nest($,`${pe}.is`),V)){if(U)return U.$_validate(_,D.nest(U,`${pe}.then`),V)}else if(he)return he.$_validate(_,D.nest(he,`${pe}.otherwise`),V)}}return v.errors(L,R)},rules:{conditional:{method(_,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const E=this.clone(),A=m.when(E,_,R),D=A.is?[A]:A.switch;for(const V of D)if(V.then&&V.otherwise){E.$_setFlag("_endedSwitch",!0,{clone:!1});break}return E.$_terms.matches.push(A),E.$_mutateRebuild()}},match:{method(_){if(c(["any","one","all"].includes(_),"Invalid alternatives match mode",_),_!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",_,"with conditional rules");return this.$_setFlag("match",_)}},try:{method(..._){c(_.length,"Missing alternative schemas"),T.verifyFlat(_,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const E of _)R.$_terms.matches.push({schema:R.$_compile(E)});return R.$_mutateRebuild()}}},overrides:{label(_){return this.$_parent("label",_).$_modify({each:(R,E)=>E.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(_):void 0,ref:!1})}},rebuild(_){_.$_modify({each:R=>{T.isSchema(R)&&R.type==="array"&&_.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(_,R){if(R.matches)for(const E of R.matches){const{schema:A,ref:D,is:V,not:L,then:k,otherwise:I}=E;_=A?_.try(A):D?_.conditional(D,{is:V,then:k,not:L,otherwise:I,switch:E.switch}):_.conditional(V,{then:k,otherwise:I})}return _}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(_,{error:R,state:E}){if(!_.length)return{errors:R("alternatives.any")};if(_.length===1)return{errors:_[0].reports};const A=new Set,D=[];for(const{reports:V,schema:L}of _){if(V.length>1)return v.unmatched(_,R);const k=V[0];if(k instanceof y.Report==0)return v.unmatched(_,R);if(k.state.path.length!==E.path.length){D.push({type:L.type,report:k});continue}if(k.code==="any.only"){for(const x of k.local.valids)A.add(x);continue}const[I,S]=k.code.split(".");S!=="base"?D.push({type:L.type,report:k}):k.code==="object.base"?A.add(k.local.type):A.add(I)}return D.length?D.length===1?{errors:D[0].report}:v.unmatched(_,R):{errors:R("alternatives.types",{types:[...A]})}},v.unmatched=function(_,R){const E=[];for(const A of _)E.push(...A.reports);return{errors:R("alternatives.match",y.details(E,{override:!1}))}}},8068:(o,u,f)=>{const c=f(375),p=f(7629),g=f(8160),T=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(m,y){return c(typeof m=="function","Method must be a function"),c(y===void 0||y&&typeof y=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:m,description:y}})},validate(m,y,{method:b}){try{return b(m,y)}catch(v){return y.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(m){return this.prefs({messages:m})}},shared:{method(m){c(g.isSchema(m)&&m._flags.id,"Schema must be a schema with an id");const y=this.clone();return y.$_terms.shared=y.$_terms.shared||[],y.$_terms.shared.push(m),y.$_mutateRegister(m),y}},warning:{method(m,y){return c(m&&typeof m=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:m,local:y},warn:!0})},validate:(m,y,{code:b,local:v})=>y.error(b,v),args:["code","local"],multi:!0}},modifiers:{keep(m,y=!0){m.keep=y},message(m,y){m.message=T.compile(y)},warn(m,y=!0){m.warn=y}},manifest:{build(m,y){for(const b in y){const v=y[b];if(["examples","externals","metas","notes","tags"].includes(b))for(const _ of v)m=m[b.slice(0,-1)](_);else if(b!=="alterations")if(b!=="whens"){if(b==="shared")for(const _ of v)m=m.shared(_)}else for(const _ of v){const{ref:R,is:E,not:A,then:D,otherwise:V,concat:L}=_;m=L?m.concat(L):R?m.when(R,{is:E,not:A,then:D,otherwise:V,switch:_.switch,break:_.break}):m.when(E,{then:D,otherwise:V,break:_.break})}else{const _={};for(const{target:R,adjuster:E}of v)_[R]=E;m=m.alter(_)}}return m}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,f)=>{const c=f(375),p=f(9474),g=f(9621),T=f(8068),m=f(8160),y=f(3292),b={};o.exports=T.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:_,state:R,prefs:E}){if(!Array.isArray(v))return;const A=_.$_getRule("sort");return A?b.sort(_,v,A.args.options,R,E):void 0}},validate(v,{schema:_,error:R}){if(!Array.isArray(v)){if(_._flags.single){const E=[v];return E[m.symbols.arraySingle]=!0,{value:E}}return{errors:R("array.base")}}if(_.$_getRule("items")||_.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const _=this.$_addRule({name:"has",args:{schema:v}});return _.$_mutateRegister(v),_},validate(v,{state:_,prefs:R,error:E},{schema:A}){const D=[v,..._.ancestors];for(let L=0;L<v.length;++L){const k=_.localize([..._.path,L],D,A);if(A.$_match(v[L],k,R))return v}const V=A._flags.label;return V?E("array.hasKnown",{patternLabel:V}):E("array.hasUnknown",null)},multi:!0},items:{method(...v){m.verifyFlat(v,"items");const _=this.$_addRule("items");for(let R=0;R<v.length;++R){const E=m.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});_.$_terms.items.push(E)}return _.$_mutateRebuild()},validate(v,{schema:_,error:R,state:E,prefs:A,errorsArray:D}){const V=_.$_terms._requireds.slice(),L=_.$_terms.ordered.slice(),k=[..._.$_terms._inclusions,...V],I=!v[m.symbols.arraySingle];delete v[m.symbols.arraySingle];const S=D();let x=v.length;for(let O=0;O<x;++O){const j=v[O];let $=!1,U=!1;const he=I?O:new Number(O),pe=[...E.path,he];if(!_._flags.sparse&&j===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},E.localize(pe))),A.abortEarly)return S;L.shift();continue}const G=[v,...E.ancestors];for(const B of _.$_terms._exclusions)if(B.$_match(j,E.localize(pe,G,B),A,{presence:"ignore"})){if(S.push(R("array.excludes",{pos:O,value:j},E.localize(pe))),A.abortEarly)return S;$=!0,L.shift();break}if($)continue;if(_.$_terms.ordered.length){if(L.length){const B=L.shift(),ne=B.$_validate(j,E.localize(pe,G,B),A);if(ne.errors){if(S.push(...ne.errors),A.abortEarly)return S}else if(B._flags.result==="strip")b.fastSplice(v,O),--O,--x;else{if(!_._flags.sparse&&ne.value===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},E.localize(pe))),A.abortEarly)return S;continue}v[O]=ne.value}continue}if(!_.$_terms.items.length){if(S.push(R("array.orderedLength",{pos:O,limit:_.$_terms.ordered.length})),A.abortEarly)return S;break}}const se=[];let ye=V.length;for(let B=0;B<ye;++B){const ne=E.localize(pe,G,V[B]);ne.snapshot();const de=V[B].$_validate(j,ne,A);if(se[B]=de,!de.errors){if(ne.commit(),v[O]=de.value,U=!0,b.fastSplice(V,B),--B,--ye,!_._flags.sparse&&de.value===void 0&&(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},E.localize(pe))),A.abortEarly))return S;break}ne.restore()}if(U)continue;const Re=A.stripUnknown&&!!A.stripUnknown.arrays||!1;ye=k.length;for(const B of k){let ne;const de=V.indexOf(B);if(de!==-1)ne=se[de];else{const ce=E.localize(pe,G,B);if(ce.snapshot(),ne=B.$_validate(j,ce,A),!ne.errors){ce.commit(),B._flags.result==="strip"?(b.fastSplice(v,O),--O,--x):_._flags.sparse||ne.value!==void 0?v[O]=ne.value:(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},E.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ye===1){if(Re){b.fastSplice(v,O),--O,--x,U=!0;break}if(S.push(...ne.errors),A.abortEarly)return S;$=!0;break}}if(!$&&(_.$_terms._inclusions.length||_.$_terms._requireds.length)&&!U){if(Re){b.fastSplice(v,O),--O,--x;continue}if(S.push(R("array.includes",{pos:O,value:j},E.localize(pe))),A.abortEarly)return S}}return V.length&&b.fillMissedErrors(_,S,V,v,E,A),L.length&&(b.fillOrderedErrors(_,S,L,v,E,A),S.length||b.fillDefault(L,v,E,A)),S.length?S:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,_,{limit:R},{name:E,operator:A,args:D})=>m.compare(v.length,R,A)?v:_.error("array."+E,{limit:D.limit,value:v}),args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){m.verifyFlat(v,"ordered");const _=this.$_addRule("items");for(let R=0;R<v.length;++R){const E=m.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});b.validateSingle(E,_),_.$_mutateRegister(E),_.$_terms.ordered.push(E)}return _.$_mutateRebuild()}},single:{method(v){const _=v===void 0||!!v;return c(!_||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",_)}},sort:{method(v={}){m.assertOptions(v,["by","order"]);const _={order:v.order||"ascending"};return v.by&&(_.by=y.ref(v.by,{ancestor:0}),c(!_.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:_}})},validate(v,{error:_,state:R,prefs:E,schema:A},{options:D}){const{value:V,errors:L}=b.sort(A,v,D,R,E);if(L)return L;for(let k=0;k<v.length;++k)if(v[k]!==V[k])return _("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return v},convert:!0},sparse:{method(v){const _=v===void 0||!!v;return this._flags.sparse===_?this:(_?this.clone():this.$_addRule("items")).$_setFlag("sparse",_,{clone:!1})}},unique:{method(v,_={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),m.assertOptions(_,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:_,comparator:v}};if(v)if(typeof v=="string"){const E=m.default(_.separator,".");R.path=E?v.split(E):[v]}else R.comparator=v;return this.$_addRule(R)},validate(v,{state:_,error:R,schema:E},{comparator:A,options:D},{comparator:V,path:L}){const k={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},I=V||p,S=D.ignoreUndefined;for(let x=0;x<v.length;++x){const O=L?g(v[x],L):v[x],j=V?k.custom:k[typeof O];if(c(j,"Failed to find unique map container for type",typeof O),j instanceof Map){const $=j.entries();let U;for(;!(U=$.next()).done;)if(I(U.value[0],O)){const he=_.localize([..._.path,x],[v,..._.ancestors]),pe={pos:x,value:v[x],dupePos:U.value[1],dupeValue:v[U.value[1]]};return L&&(pe.path=A),R("array.unique",pe,he)}j.set(O,x)}else{if((!S||O!==void 0)&&j[O]!==void 0){const $={pos:x,value:v[x],dupePos:j[O],dupeValue:v[j[O]]};return L&&($.path=A),R("array.unique",$,_.localize([..._.path,x],[v,..._.ancestors]))}j[O]=x}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,_)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const _ of v.$_terms.items)b.validateSingle(_,v),_._flags.presence==="required"?v.$_terms._requireds.push(_):_._flags.presence==="forbidden"?v.$_terms._exclusions.push(_):v.$_terms._inclusions.push(_);for(const _ of v.$_terms.ordered)b.validateSingle(_,v)},manifest:{build:(v,_)=>(_.items&&(v=v.items(..._.items)),_.ordered&&(v=v.ordered(..._.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),b.fillMissedErrors=function(v,_,R,E,A,D){const V=[];let L=0;for(const k of R){const I=k._flags.label;I?V.push(I):++L}V.length?L?_.push(v.$_createError("array.includesRequiredBoth",E,{knownMisses:V,unknownMisses:L},A,D)):_.push(v.$_createError("array.includesRequiredKnowns",E,{knownMisses:V},A,D)):_.push(v.$_createError("array.includesRequiredUnknowns",E,{unknownMisses:L},A,D))},b.fillOrderedErrors=function(v,_,R,E,A,D){const V=[];for(const L of R)L._flags.presence==="required"&&V.push(L);V.length&&b.fillMissedErrors(v,_,V,E,A,D)},b.fillDefault=function(v,_,R,E){const A=[];let D=!0;for(let V=v.length-1;V>=0;--V){const L=v[V],k=[_,...R.ancestors],I=L.$_validate(void 0,R.localize(R.path,k,L),E).value;if(D){if(I===void 0)continue;D=!1}A.unshift(I)}A.length&&_.push(...A)},b.fastSplice=function(v,_){let R=_;for(;R<v.length;)v[R++]=v[R];--v.length},b.validateSingle=function(v,_){(v.type==="array"||v._flags._arrayItems)&&(c(!_._flags.single,"Cannot specify array item with single rule enabled"),_.$_setFlag("_arrayItems",!0,{clone:!1}))},b.sort=function(v,_,R,E,A){const D=R.order==="ascending"?1:-1,V=-1*D,L=D,k=(I,S)=>{let x=b.compare(I,S,V,L);if(x!==null||(R.by&&(I=R.by.resolve(I,E,A),S=R.by.resolve(S,E,A)),x=b.compare(I,S,V,L),x!==null))return x;const O=typeof I;if(O!==typeof S)throw v.$_createError("array.sort.mismatching",_,null,E,A);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",_,{type:O},E,A);return O==="number"?(I-S)*D:I<S?V:L};try{return{value:_.slice().sort(k)}}catch(I){return{errors:I}}},b.compare=function(v,_,R,E){return v===_?0:v===void 0?1:_===void 0?-1:v===null?E:_===null?R:null}},4937:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),T=f(2036),m={isBool:function(y){return typeof y=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(y,{schema:b}){if(typeof y!="boolean"){if(typeof y=="string"){const v=b._flags.sensitive?y:y.toLowerCase();y=v==="true"||v!=="false"&&y}return typeof y!="boolean"&&(y=b.$_terms.truthy&&b.$_terms.truthy.has(y,null,null,!b._flags.sensitive)||(!b.$_terms.falsy||!b.$_terms.falsy.has(y,null,null,!b._flags.sensitive))&&y),{value:y}}},validate(y,{error:b}){if(typeof y!="boolean")return{value:y,errors:b("boolean.base")}},rules:{truthy:{method(...y){g.verifyFlat(y,"truthy");const b=this.clone();b.$_terms.truthy=b.$_terms.truthy||new T;for(let v=0;v<y.length;++v){const _=y[v];c(_!==void 0,"Cannot call truthy with undefined"),b.$_terms.truthy.add(_)}return b}},falsy:{method(...y){g.verifyFlat(y,"falsy");const b=this.clone();b.$_terms.falsy=b.$_terms.falsy||new T;for(let v=0;v<y.length;++v){const _=y[v];c(_!==void 0,"Cannot call falsy with undefined"),b.$_terms.falsy.add(_)}return b}},sensitive:{method(y=!0){return this.$_setFlag("sensitive",y)}}},cast:{number:{from:m.isBool,to:(y,b)=>y?1:0},string:{from:m.isBool,to:(y,b)=>y?"true":"false"}},manifest:{build:(y,b)=>(b.truthy&&(y=y.truthy(...b.truthy)),b.falsy&&(y=y.falsy(...b.falsy)),y)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),T=f(3328),m={isDate:function(y){return y instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(y,{schema:b})=>({value:m.parse(y,b._flags.format)||y})},validate(y,{schema:b,error:v,prefs:_}){if(y instanceof Date&&!isNaN(y.getTime()))return;const R=b._flags.format;return _.convert&&R&&typeof y=="string"?{value:y,errors:v("date.format",{format:R})}:{value:y,errors:v("date.base")}},rules:{compare:{method:!1,validate(y,b,{date:v},{name:_,operator:R,args:E}){const A=v==="now"?Date.now():v.getTime();return g.compare(y.getTime(),A,R)?y:b.error("date."+_,{limit:E.date,value:y})},args:[{name:"date",ref:!0,normalize:y=>y==="now"?y:m.parse(y),assert:y=>y!==null,message:"must have a valid date format"}]},format:{method(y){return c(["iso","javascript","unix"].includes(y),"Unknown date format",y),this.$_setFlag("format",y)}},greater:{method(y){return this.$_addRule({name:"greater",method:"compare",args:{date:y},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(y){return this.$_addRule({name:"less",method:"compare",args:{date:y},operator:"<"})}},max:{method(y){return this.$_addRule({name:"max",method:"compare",args:{date:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"compare",args:{date:y},operator:">="})}},timestamp:{method(y="javascript"){return c(["javascript","unix"].includes(y),'"type" must be one of "javascript, unix"'),this.format(y)}}},cast:{number:{from:m.isDate,to:(y,b)=>y.getTime()},string:{from:m.isDate,to:(y,{prefs:b})=>T.date(y,b)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),m.parse=function(y,b){if(y instanceof Date)return y;if(typeof y!="string"&&(isNaN(y)||!isFinite(y))||/^\s*$/.test(y))return null;if(b==="iso")return g.isIsoDate(y)?m.date(y.toString()):null;const v=y;if(typeof y=="string"&&/^[+-]?\d+(\.\d+)?$/.test(y)&&(y=parseFloat(y)),b){if(b==="javascript")return m.date(1*y);if(b==="unix")return m.date(1e3*y);if(typeof v=="string")return null}return m.date(y)},m.date=function(y){const b=new Date(y);return isNaN(b.getTime())?null:b}},390:(o,u,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate:(g,T,{n:m})=>g.length===m?g:T.error("function.arity",{n:m})},class:{method(){return this.$_addRule("class")},validate:(g,T)=>/^\s*class\s/.test(g.toString())?g:T.error("function.class",{value:g})},minArity:{method(g){return c(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate:(g,T,{n:m})=>g.length>=m?g:T.error("function.minArity",{n:m})},maxArity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate:(g,T,{n:m})=>g.length<=m?g:T.error("function.maxArity",{n:m})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,f)=>{const c=f(978),p=f(375),g=f(8571),T=f(3652),m=f(8068),y=f(8160),b=f(3292),v=f(6354),_=f(6133),R=f(3328),E={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=m.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(A,D)=>A.keys(D),validate(A,{schema:D,error:V,state:L,prefs:k}){if(!A||typeof A!==D.$_property("typeof")||Array.isArray(A))return{value:A,errors:V("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;A=E.clone(A,k);const I=[];if(D.$_terms.renames&&!E.rename(D,A,L,k,I))return{value:A,errors:I};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:A,errors:I};const S=new Set(Object.keys(A));if(D.$_terms.keys){const x=[A,...L.ancestors];for(const O of D.$_terms.keys){const j=O.key,$=A[j];S.delete(j);const U=L.localize([...L.path,j],x,O),he=O.schema.$_validate($,U,k);if(he.errors){if(k.abortEarly)return{value:A,errors:he.errors};he.value!==void 0&&(A[j]=he.value),I.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete A[j]:he.value!==void 0&&(A[j]=he.value)}}if(S.size||D._flags._hasPatternMatch){const x=E.unknown(D,A,S,I,L,k);if(x)return x}if(D.$_terms.dependencies)for(const x of D.$_terms.dependencies){if(x.key!==null&&E.isPresent(x.options)(x.key.resolve(A,L,k,null,{shadow:!1}))===!1)continue;const O=E.dependencies[x.rel](D,x,A,L,k);if(O){const j=D.$_createError(O.code,A,O.context,L,k);if(k.abortEarly)return{value:A,errors:j};I.push(j)}}return{value:A,errors:I}},rules:{and:{method(...A){return y.verifyFlat(A,"and"),E.dependency(this,"and",null,A)}},append:{method(A){return A==null||Object.keys(A).length===0?this:this.keys(A)}},assert:{method(A,D,V){R.isTemplate(A)||(A=b.ref(A)),p(V===void 0||typeof V=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const L=this.$_addRule({name:"assert",args:{subject:A,schema:D,message:V}});return L.$_mutateRegister(A),L.$_mutateRegister(D),L},validate(A,{error:D,prefs:V,state:L},{subject:k,schema:I,message:S}){const x=k.resolve(A,L,V),O=_.isRef(k)?k.absolute(L):[];return I.$_match(x,L.localize(O,[A,...L.ancestors],I),V)?A:D("object.assert",{subject:k,message:S})},args:["subject","schema","message"],multi:!0},instance:{method(A,D){return p(typeof A=="function","constructor must be a function"),D=D||A.name,this.$_addRule({name:"instance",args:{constructor:A,name:D}})},validate:(A,D,{constructor:V,name:L})=>A instanceof V?A:D.error("object.instance",{type:L,value:A}),args:["constructor","name"]},keys:{method(A){p(A===void 0||typeof A=="object","Object schema must be a valid object"),p(!y.isSchema(A),"Object schema cannot be a joi schema");const D=this.clone();if(A)if(Object.keys(A).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(V=>!A.hasOwnProperty(V.key)):new E.Keys;for(const V in A)y.tryWithPath(()=>D.$_terms.keys.push({key:V,schema:this.$_compile(A[V])}),V)}else D.$_terms.keys=new E.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(A){return this.$_addRule({name:"length",args:{limit:A},operator:"="})},validate:(A,D,{limit:V},{name:L,operator:k,args:I})=>y.compare(Object.keys(A).length,V,k)?A:D.error("object."+L,{limit:I.limit,value:A}),args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"}]},max:{method(A){return this.$_addRule({name:"max",method:"length",args:{limit:A},operator:"<="})}},min:{method(A){return this.$_addRule({name:"min",method:"length",args:{limit:A},operator:">="})}},nand:{method(...A){return y.verifyFlat(A,"nand"),E.dependency(this,"nand",null,A)}},or:{method(...A){return y.verifyFlat(A,"or"),E.dependency(this,"or",null,A)}},oxor:{method(...A){return E.dependency(this,"oxor",null,A)}},pattern:{method(A,D,V={}){const L=A instanceof RegExp;L||(A=this.$_compile(A,{appendPath:!0})),p(D!==void 0,"Invalid rule"),y.assertOptions(V,["fallthrough","matches"]),L&&p(!A.flags.includes("g")&&!A.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const k=this.clone();k.$_terms.patterns=k.$_terms.patterns||[];const I={[L?"regex":"schema"]:A,rule:D};return V.matches&&(I.matches=this.$_compile(V.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),k.$_mutateRegister(I.matches),k.$_setFlag("_hasPatternMatch",!0,{clone:!1})),V.fallthrough&&(I.fallthrough=!0),k.$_terms.patterns.push(I),k.$_mutateRegister(D),k}},ref:{method(){return this.$_addRule("ref")},validate:(A,D)=>_.isRef(A)?A:D.error("object.refType",{value:A})},regex:{method(){return this.$_addRule("regex")},validate:(A,D)=>A instanceof RegExp?A:D.error("object.regex",{value:A})},rename:{method(A,D,V={}){p(typeof A=="string"||A instanceof RegExp,"Rename missing the from argument"),p(typeof D=="string"||D instanceof R,"Invalid rename to argument"),p(D!==A,"Cannot rename key to same name:",A),y.assertOptions(V,["alias","ignoreUndefined","override","multiple"]);const L=this.clone();L.$_terms.renames=L.$_terms.renames||[];for(const k of L.$_terms.renames)p(k.from!==A,"Cannot rename the same key multiple times");return D instanceof R&&L.$_mutateRegister(D),L.$_terms.renames.push({from:A,to:D,options:c(E.renameDefaults,V)}),L}},schema:{method(A="any"){return this.$_addRule({name:"schema",args:{type:A}})},validate:(A,D,{type:V})=>!y.isSchema(A)||V!=="any"&&A.type!==V?D.error("object.schema",{type:V}):A},unknown:{method(A){return this.$_setFlag("unknown",A!==!1)}},with:{method(A,D,V={}){return E.dependency(this,"with",A,D,V)}},without:{method(A,D,V={}){return E.dependency(this,"without",A,D,V)}},xor:{method(...A){return y.verifyFlat(A,"xor"),E.dependency(this,"xor",null,A)}}},overrides:{default(A,D){return A===void 0&&(A=y.symbols.deepDefault),this.$_parent("default",A,D)}},rebuild(A){if(A.$_terms.keys){const D=new T.Sorter;for(const V of A.$_terms.keys)y.tryWithPath(()=>D.add(V,{after:V.schema.$_rootReferences(),group:V.key}),V.key);A.$_terms.keys=new E.Keys(...D.nodes)}},manifest:{build(A,D){if(D.keys&&(A=A.keys(D.keys)),D.dependencies)for(const{rel:V,key:L=null,peers:k,options:I}of D.dependencies)A=E.dependency(A,V,L,k,I);if(D.patterns)for(const{regex:V,schema:L,rule:k,fallthrough:I,matches:S}of D.patterns)A=A.pattern(V||L,k,{fallthrough:I,matches:S});if(D.renames)for(const{from:V,to:L,options:k}of D.renames)A=A.rename(V,L,k);return A}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),E.clone=function(A,D){if(typeof A=="object"){if(D.nonEnumerables)return g(A,{shallow:!0});const L=Object.create(Object.getPrototypeOf(A));return Object.assign(L,A),L}const V=function(...L){return A.apply(this,L)};return V.prototype=g(A.prototype),Object.defineProperty(V,"name",{value:A.name,writable:!1}),Object.defineProperty(V,"length",{value:A.length,writable:!1}),Object.assign(V,A),V},E.dependency=function(A,D,V,L,k){p(V===null||typeof V=="string",D,"key must be a strings"),k||(k=L.length>1&&typeof L[L.length-1]=="object"?L.pop():{}),y.assertOptions(k,["separator","isPresent"]),L=[].concat(L);const I=y.default(k.separator,"."),S=[];for(const O of L)p(typeof O=="string",D,"peers must be strings"),S.push(b.ref(O,{separator:I,ancestor:0,prefix:!1}));V!==null&&(V=b.ref(V,{separator:I,ancestor:0,prefix:!1}));const x=A.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new E.Dependency(D,V,S,L,k)),x},E.dependencies={and(A,D,V,L,k){const I=[],S=[],x=D.peers.length,O=E.isPresent(D.options);for(const j of D.peers)O(j.resolve(V,L,k,null,{shadow:!1}))===!1?I.push(j.key):S.push(j.key);if(I.length!==x&&S.length!==x)return{code:"object.and",context:{present:S,presentWithLabels:E.keysToLabels(A,S),missing:I,missingWithLabels:E.keysToLabels(A,I)}}},nand(A,D,V,L,k){const I=[],S=E.isPresent(D.options);for(const j of D.peers)S(j.resolve(V,L,k,null,{shadow:!1}))&&I.push(j.key);if(I.length!==D.peers.length)return;const x=D.paths[0],O=D.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:E.keysToLabels(A,x),peers:O,peersWithLabels:E.keysToLabels(A,O)}}},or(A,D,V,L,k){const I=E.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,L,k,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:E.keysToLabels(A,D.paths)}}},oxor(A,D,V,L,k){const I=[],S=E.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,L,k,null,{shadow:!1}))&&I.push(O.key);if(!I.length||I.length===1)return;const x={peers:D.paths,peersWithLabels:E.keysToLabels(A,D.paths)};return x.present=I,x.presentWithLabels=E.keysToLabels(A,I),{code:"object.oxor",context:x}},with(A,D,V,L,k){const I=E.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,L,k,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:E.keysToLabels(A,D.key.key),peer:S.key,peerWithLabel:E.keysToLabels(A,S.key)}}},without(A,D,V,L,k){const I=E.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,L,k,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:E.keysToLabels(A,D.key.key),peer:S.key,peerWithLabel:E.keysToLabels(A,S.key)}}},xor(A,D,V,L,k){const I=[],S=E.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,L,k,null,{shadow:!1}))&&I.push(O.key);if(I.length===1)return;const x={peers:D.paths,peersWithLabels:E.keysToLabels(A,D.paths)};return I.length===0?{code:"object.missing",context:x}:(x.present=I,x.presentWithLabels=E.keysToLabels(A,I),{code:"object.xor",context:x})}},E.keysToLabels=function(A,D){return Array.isArray(D)?D.map(V=>A.$_mapLabels(V)):A.$_mapLabels(D)},E.isPresent=function(A){return typeof A.isPresent=="function"?A.isPresent:D=>D!==void 0},E.rename=function(A,D,V,L,k){const I={};for(const S of A.$_terms.renames){const x=[],O=typeof S.from!="string";if(O)for(const j in D){if(D[j]===void 0&&S.options.ignoreUndefined||j===S.to)continue;const $=S.from.exec(j);$&&x.push({from:j,to:S.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,S.from)||D[S.from]===void 0&&S.options.ignoreUndefined||x.push(S);for(const j of x){const $=j.from;let U=j.to;if(U instanceof R&&(U=U.render(D,V,L,j.match)),$!==U){if(!S.options.multiple&&I[U]&&(k.push(A.$_createError("object.rename.multiple",D,{from:$,to:U,pattern:O},V,L)),L.abortEarly)||Object.prototype.hasOwnProperty.call(D,U)&&!S.options.override&&!I[U]&&(k.push(A.$_createError("object.rename.override",D,{from:$,to:U,pattern:O},V,L)),L.abortEarly))return!1;D[$]===void 0?delete D[U]:D[U]=D[$],I[U]=!0,S.options.alias||delete D[$]}}}return!0},E.unknown=function(A,D,V,L,k,I){if(A.$_terms.patterns){let S=!1;const x=A.$_terms.patterns.map(j=>{if(j.matches)return S=!0,[]}),O=[D,...k.ancestors];for(const j of V){const $=D[j],U=[...k.path,j];for(let he=0;he<A.$_terms.patterns.length;++he){const pe=A.$_terms.patterns[he];if(pe.regex){const ye=pe.regex.test(j);if(k.mainstay.tracer.debug(k,"rule",`pattern.${he}`,ye?"pass":"error"),!ye)continue}else if(!pe.schema.$_match(j,k.nest(pe.schema,`pattern.${he}`),I))continue;V.delete(j);const G=k.localize(U,O,{schema:pe.rule,key:j}),se=pe.rule.$_validate($,G,I);if(se.errors){if(I.abortEarly)return{value:D,errors:se.errors};L.push(...se.errors)}if(pe.matches&&x[he].push(j),D[j]=se.value,!pe.fallthrough)break}}if(S)for(let j=0;j<x.length;++j){const $=x[j];if(!$)continue;const U=A.$_terms.patterns[j].matches,he=k.localize(k.path,O,U),pe=U.$_validate($,he,I);if(pe.errors){const G=v.details(pe.errors,{override:!1});G.matches=$;const se=A.$_createError("object.pattern.match",D,G,k,I);if(I.abortEarly)return{value:D,errors:se};L.push(se)}}}if(V.size&&(A.$_terms.keys||A.$_terms.patterns)){if(I.stripUnknown&&A._flags.unknown===void 0||I.skipFunctions){const S=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const x of V)S?(delete D[x],V.delete(x)):typeof D[x]=="function"&&V.delete(x)}if(!y.default(A._flags.unknown,I.allowUnknown))for(const S of V){const x=k.localize([...k.path,S],[]),O=A.$_createError("object.unknown",D[S],{child:S},x,I,{flags:!1});if(I.abortEarly)return{value:D,errors:O};L.push(O)}}},E.Dependency=class{constructor(A,D,V,L,k){this.rel=A,this.key=D,this.peers=V,this.paths=L,this.options=k}describe(){const A={rel:this.rel,peers:this.paths};return this.key!==null&&(A.key=this.key.key),this.peers[0].separator!=="."&&(A.options={...A.options,separator:this.peers[0].separator}),this.options.isPresent&&(A.options={...A.options,isPresent:this.options.isPresent}),A}},E.Keys=class extends Array{concat(A){const D=this.slice(),V=new Map;for(let L=0;L<D.length;++L)V.set(D[L].key,L);for(const L of A){const k=L.key,I=V.get(k);I!==void 0?D[I]={key:k,schema:D[I].schema.concat(L.schema)}:D.push(L)}return D}}},8785:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),T=f(3292),m=f(6354),y={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(b,v)=>b.ref(v),validate(b,{schema:v,state:_,prefs:R}){c(v.$_terms.link,"Uninitialized link schema");const E=y.generate(v,b,_,R),A=v.$_terms.link[0].ref;return E.$_validate(b,_.nest(E,`link:${A.display}:${E.type}`),R)},generate:(b,v,_,R)=>y.generate(b,v,_,R),rules:{ref:{method(b){c(!this.$_terms.link,"Cannot reinitialize schema"),b=T.ref(b),c(b.type==="value"||b.type==="local","Invalid reference type:",b.type),c(b.type==="local"||b.ancestor==="root"||b.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:b}],v}},relative:{method(b=!0){return this.$_setFlag("relative",b)}}},overrides:{concat(b){c(this.$_terms.link,"Uninitialized link schema"),c(g.isSchema(b),"Invalid schema object"),c(b.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:b}),v.$_mutateRebuild()}},manifest:{build:(b,v)=>(c(v.link,"Invalid link description missing link"),b.ref(v.link))}}),y.generate=function(b,v,_,R){let E=_.mainstay.links.get(b);if(E)return E._generate(v,_,R).schema;const A=b.$_terms.link[0].ref,{perspective:D,path:V}=y.perspective(A,_);y.assert(D,"which is outside of schema boundaries",A,b,_,R);try{E=V.length?D.$_reach(V):D}catch{y.assert(!1,"to non-existing schema",A,b,_,R)}return y.assert(E.type!=="link","which is another link",A,b,_,R),b._flags.relative||_.mainstay.links.set(b,E),E._generate(v,_,R).schema},y.perspective=function(b,v){if(b.type==="local"){for(const{schema:_,key:R}of v.schemas){if((_._flags.id||R)===b.path[0])return{perspective:_,path:b.path.slice(1)};if(_.$_terms.shared){for(const E of _.$_terms.shared)if(E._flags.id===b.path[0])return{perspective:E,path:b.path.slice(1)}}}return{perspective:null,path:null}}return b.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:b.path}:{perspective:v.schemas[b.ancestor]&&v.schemas[b.ancestor].schema,path:b.path}},y.assert=function(b,v,_,R,E,A){b||c(!1,`"${m.label(R._flags,E,A)}" contains link reference "${_.display}" ${v}`)}},3832:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),T={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(m){const y=m.toString(),b=y.indexOf("."),v=y.indexOf("e");return(b<0?0:(v<0?y.length:v)-b-1)+(v<0?0:Math.max(0,-parseInt(y.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(m,{schema:y,error:b}){if(!m.match(T.numberRx))return;m=m.trim();const v={value:parseFloat(m)};if(v.value===0&&(v.value=0),!y._flags.unsafe)if(m.match(/e/i)){if(T.extractSignificantDigits(m)!==T.extractSignificantDigits(String(v.value)))return v.errors=b("number.unsafe"),v}else{const _=v.value.toString();if(_.match(/e/i))return v;if(_!==T.normalizeDecimal(m))return v.errors=b("number.unsafe"),v}return v}},validate(m,{schema:y,error:b,prefs:v}){if(m===1/0||m===-1/0)return{value:m,errors:b("number.infinity")};if(!g.isNumber(m))return{value:m,errors:b("number.base")};const _={value:m};if(v.convert){const R=y.$_getRule("precision");if(R){const E=Math.pow(10,R.args.limit);_.value=Math.round(_.value*E)/E}}return _.value===0&&(_.value=0),!y._flags.unsafe&&(m>Number.MAX_SAFE_INTEGER||m<Number.MIN_SAFE_INTEGER)&&(_.errors=b("number.unsafe")),_},rules:{compare:{method:!1,validate:(m,y,{limit:b},{name:v,operator:_,args:R})=>g.compare(m,b,_)?m:y.error("number."+v,{limit:R.limit,value:m}),args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(m){return this.$_addRule({name:"greater",method:"compare",args:{limit:m},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(m,y)=>Math.trunc(m)-m==0?m:y.error("number.integer")},less:{method(m){return this.$_addRule({name:"less",method:"compare",args:{limit:m},operator:"<"})}},max:{method(m){return this.$_addRule({name:"max",method:"compare",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"compare",args:{limit:m},operator:">="})}},multiple:{method(m){const y=typeof m=="number"?T.decimalPlaces(m):null,b=Math.pow(10,y);return this.$_addRule({name:"multiple",args:{base:m,baseDecimalPlace:y,pfactor:b}})},validate:(m,y,{base:b,baseDecimalPlace:v,pfactor:_},R)=>T.decimalPlaces(m)>v?y.error("number.multiple",{multiple:R.args.base,value:m}):Math.round(_*m)%Math.round(_*b)==0?m:y.error("number.multiple",{multiple:R.args.base,value:m}),args:[{name:"base",ref:!0,assert:m=>typeof m=="number"&&isFinite(m)&&m>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(m,y)=>Number.isSafeInteger(m)&&m>=0&&m<=65535?m:y.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(m){return c(Number.isSafeInteger(m),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:m}})},validate(m,y,{limit:b}){const v=m.toString().match(T.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=b?m:y.error("number.precision",{limit:b,value:m})},convert:!0},sign:{method(m){return c(["negative","positive"].includes(m),"Invalid sign",m),this.$_addRule({name:"sign",args:{sign:m}})},validate:(m,y,{sign:b})=>b==="negative"&&m<0||b==="positive"&&m>0?m:y.error(`number.${b}`)},unsafe:{method(m=!0){return c(typeof m=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",m)}}},cast:{string:{from:m=>typeof m=="number",to:(m,y)=>m.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),T.extractSignificantDigits=function(m){return m.replace(T.exponentialPartRegex,"").replace(T.dotRegex,"").replace(T.trailingZerosRegex,"").replace(T.leadingSignAndZerosRegex,"")},T.normalizeDecimal=function(m){return(m=m.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&m.endsWith("0")&&(m=m.replace(/0+$/,"")),m==="-0"?"0":m}},8966:(o,u,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,g)=>new Map(Object.entries(p))}}})},7417:(o,u,f)=>{const c=f(375),p=f(5380),g=f(1745),T=f(9959),m=f(6064),y=f(9926),b=f(5752),v=f(8068),_=f(8160),R={tlds:y instanceof Set&&{tlds:{allow:y,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:T.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(E,{schema:A,state:D,prefs:V}){const L=A.$_getRule("normalize");L&&(E=E.normalize(L.args.form));const k=A.$_getRule("case");k&&(E=k.args.direction==="upper"?E.toLocaleUpperCase():E.toLocaleLowerCase());const I=A.$_getRule("trim");if(I&&I.args.enabled&&(E=E.trim()),A.$_terms.replacements)for(const x of A.$_terms.replacements)E=E.replace(x.pattern,x.replacement);const S=A.$_getRule("hex");if(S&&S.args.options.byteAligned&&E.length%2!=0&&(E=`0${E}`),A.$_getRule("isoDate")){const x=R.isoDate(E);x&&(E=x)}if(A._flags.truncate){const x=A.$_getRule("max");if(x){let O=x.args.limit;if(_.isResolvable(O)&&(O=O.resolve(E,D,V),!_.limit(O)))return{value:E,errors:A.$_createError("any.ref",O,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},D,V)};E=E.slice(0,O)}}return{value:E}}},validate(E,{schema:A,error:D}){if(typeof E!="string")return{value:E,errors:D("string.base")};if(E===""){const V=A.$_getRule("min");return V&&V.args.limit===0?void 0:{value:E,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(E,A)=>/^[a-zA-Z0-9]+$/.test(E)?E:A.error("string.alphanum")},base64:{method(E={}){return _.assertOptions(E,["paddingRequired","urlSafe"]),E={urlSafe:!1,paddingRequired:!0,...E},c(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof E.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:E}})},validate:(E,A,{options:D})=>R.base64Regex[D.paddingRequired][D.urlSafe].test(E)?E:A.error("string.base64")},case:{method(E){return c(["lower","upper"].includes(E),"Invalid case:",E),this.$_addRule({name:"case",args:{direction:E}})},validate:(E,A,{direction:D})=>D==="lower"&&E===E.toLocaleLowerCase()||D==="upper"&&E===E.toLocaleUpperCase()?E:A.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(E,A){let D=E.length,V=0,L=1;for(;D--;){const k=E.charAt(D)*L;V+=k-9*(k>9),L^=3}return V>0&&V%10==0?E:A.error("string.creditCard")}},dataUri:{method(E={}){return _.assertOptions(E,["paddingRequired"]),E={paddingRequired:!0,...E},c(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:E}})},validate(E,A,{options:D}){const V=E.match(R.dataUriRegex);return V&&(!V[2]||V[2]!=="base64"||R.base64Regex[D.paddingRequired].false.test(V[3]))?E:A.error("string.dataUri")}},domain:{method(E){E&&_.assertOptions(E,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const A=R.addressOptions(E);return this.$_addRule({name:"domain",args:{options:E},address:A})},validate:(E,A,D,{address:V})=>p.isValid(E,V)?E:A.error("string.domain")},email:{method(E={}){_.assertOptions(E,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(E.multiple===void 0||typeof E.multiple=="boolean","multiple option must be an boolean");const A=R.addressOptions(E),D=new RegExp(`\\s*[${E.separator?m(E.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:E},regex:D,address:A})},validate(E,A,{options:D},{regex:V,address:L}){const k=D.multiple?E.split(V):[E],I=[];for(const S of k)g.isValid(S,L)||I.push(S);return I.length?A.error("string.email",{value:E,invalids:I}):E}},guid:{alias:"uuid",method(E={}){_.assertOptions(E,["version","separator"]);let A="";if(E.version){const L=[].concat(E.version);c(L.length>=1,"version must have at least 1 valid version specified");const k=new Set;for(let I=0;I<L.length;++I){const S=L[I];c(typeof S=="string","version at position "+I+" must be a string");const x=R.guidVersions[S.toLowerCase()];c(x,"version at position "+I+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!k.has(x),"version at position "+I+" must not be a duplicate"),A+=x,k.add(x)}}c(R.guidSeparators.has(E.separator),'separator must be one of true, false, "-", or ":"');const D=E.separator===void 0?"[:-]?":E.separator===!0?"[:-]":E.separator===!1?"[]?":`\\${E.separator}`,V=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${A||"0-9A-F"}][0-9A-F]{3}\\2?[${A?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:E},regex:V})},validate(E,A,D,{regex:V}){const L=V.exec(E);return L?R.guidBrackets[L[1]]!==L[L.length-1]?A.error("string.guid"):E:A.error("string.guid")}},hex:{method(E={}){return _.assertOptions(E,["byteAligned","prefix"]),E={byteAligned:!1,prefix:!1,...E},c(typeof E.byteAligned=="boolean","byteAligned must be boolean"),c(typeof E.prefix=="boolean"||E.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:E}})},validate:(E,A,{options:D})=>(D.prefix==="optional"?R.hexRegex.withOptionalPrefix:D.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(E)?D.byteAligned&&E.length%2!=0?A.error("string.hexAlign"):E:A.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(E,A)=>p.isValid(E,{minDomainSegments:1})||R.ipRegex.test(E)?E:A.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(E={}){_.assertOptions(E,["cidr","version"]);const{cidr:A,versions:D,regex:V}=T.regex(E),L=E.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:A,version:L}},regex:V})},validate:(E,A,{options:D},{regex:V})=>V.test(E)?E:D.version?A.error("string.ipVersion",{value:E,cidr:D.cidr,version:D.version}):A.error("string.ip",{value:E,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(E,{error:A})=>R.isoDate(E)?E:A("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(E,A)=>R.isoDurationRegex.test(E)?E:A.error("string.isoDuration")},length:{method(E,A){return R.length(this,"length",E,"=",A)},validate(E,A,{limit:D,encoding:V},{name:L,operator:k,args:I}){const S=!V&&E.length;return _.compare(S,D,k)?E:A.error("string."+L,{limit:I.limit,value:E,encoding:V})},args:[{name:"limit",ref:!0,assert:_.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(E,A){return R.length(this,"max",E,"<=",A)},args:["limit","encoding"]},min:{method(E,A){return R.length(this,"min",E,">=",A)},args:["limit","encoding"]},normalize:{method(E="NFC"){return c(R.normalizationForms.includes(E),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:E}})},validate:(E,{error:A},{form:D})=>E===E.normalize(D)?E:A("string.normalize",{value:E,form:D}),convert:!0},pattern:{alias:"regex",method(E,A={}){c(E instanceof RegExp,"regex must be a RegExp"),c(!E.flags.includes("g")&&!E.flags.includes("y"),"regex should not use global or sticky mode"),typeof A=="string"&&(A={name:A}),_.assertOptions(A,["invert","name"]);const D=["string.pattern",A.invert?".invert":"",A.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:E,options:A},errorCode:D})},validate:(E,A,{regex:D,options:V},{errorCode:L})=>D.test(E)^V.invert?E:A.error(L,{name:V.name,regex:D,value:E}),args:["regex","options"],multi:!0},replace:{method(E,A){typeof E=="string"&&(E=new RegExp(m(E),"g")),c(E instanceof RegExp,"pattern must be a RegExp"),c(typeof A=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:E,replacement:A}),D}},token:{method(){return this.$_addRule("token")},validate:(E,A)=>/^\w+$/.test(E)?E:A.error("string.token")},trim:{method(E=!0){return c(typeof E=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:E}})},validate:(E,A,{enabled:D})=>D&&E!==E.trim()?A.error("string.trim"):E,convert:!0},truncate:{method(E=!0){return c(typeof E=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",E)}},uppercase:{method(){return this.case("upper")}},uri:{method(E={}){_.assertOptions(E,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),E.domain&&_.assertOptions(E.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:A,scheme:D}=b.regex(E),V=E.domain?R.addressOptions(E.domain):null;return this.$_addRule({name:"uri",args:{options:E},regex:A,domain:V,scheme:D})},validate(E,A,{options:D},{regex:V,domain:L,scheme:k}){if(["http:/","https:/"].includes(E))return A.error("string.uri");let I=V.exec(E);if(!I&&A.prefs.convert&&D.encodeUri){const S=encodeURI(E);I=V.exec(S),I&&(E=S)}if(I){const S=I[1]||I[2];return!L||D.allowRelative&&!S||p.isValid(S,L)?E:A.error("string.domain",{value:S})}return D.relativeOnly?A.error("string.uriRelativeOnly"):D.scheme?A.error("string.uriCustomScheme",{scheme:k,value:E}):A.error("string.uri")}}},manifest:{build(E,A){if(A.replacements)for(const{pattern:D,replacement:V}of A.replacements)E=E.replace(D,V);return E}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(E){if(!E)return R.tlds||E;if(c(E.minDomainSegments===void 0||Number.isSafeInteger(E.minDomainSegments)&&E.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(E.maxDomainSegments===void 0||Number.isSafeInteger(E.maxDomainSegments)&&E.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),E.tlds===!1)return E;if(E.tlds===!0||E.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},E,R.tlds);c(typeof E.tlds=="object","tlds must be true, false, or an object");const A=E.tlds.deny;if(A)return Array.isArray(A)&&(E=Object.assign({},E,{tlds:{deny:new Set(A)}})),c(E.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!E.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(E.tlds.deny,"tlds.deny"),E;const D=E.tlds.allow;return D?D===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},E,R.tlds)):(Array.isArray(D)&&(E=Object.assign({},E,{tlds:{allow:new Set(D)}})),c(E.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(E.tlds.allow,"tlds.allow"),E):E},R.validateTlds=function(E,A){for(const D of E)c(p.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${A} must contain valid top level domain names`)},R.isoDate=function(E){if(!_.isIsoDate(E))return null;/.*T.*[+-]\d\d$/.test(E)&&(E+="00");const A=new Date(E);return isNaN(A.getTime())?null:A.toISOString()},R.length=function(E,A,D,V,L){return c(!L||!1,"Invalid encoding:",L),E.$_addRule({name:A,method:"length",args:{limit:D,encoding:L},operator:V})}},8826:(o,u,f)=>{const c=f(375),p=f(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(T,{schema:m,error:y}){const b=m.$_terms.map.get(T);return b&&(T=b),m._flags.only&&typeof T!="symbol"?{value:T,errors:y("symbol.map",{map:m.$_terms.map})}:{value:T}}},validate(T,{error:m}){if(typeof T!="symbol")return{value:T,errors:m("symbol.base")}},rules:{map:{method(T){T&&!T[Symbol.iterator]&&typeof T=="object"&&(T=Object.entries(T)),c(T&&T[Symbol.iterator],"Iterable must be an iterable or object");const m=this.clone(),y=[];for(const b of T){c(b&&b[Symbol.iterator],"Entry must be an iterable");const[v,_]=b;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof _=="symbol","Value must be a Symbol"),m.$_terms.map.set(v,_),y.push(_)}return m.valid(...y)}}},manifest:{build:(T,m)=>(m.map&&(T=T.map(m.map)),T)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,f)=>{const c=f(375),p=f(8571),g=f(738),T=f(9621),m=f(8160),y=f(6354),b=f(493),v={result:Symbol("result")};u.entry=function(_,R,E){let A=m.defaults;E&&(c(E.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(E.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),A=m.preferences(m.defaults,E));const D=v.entry(_,R,A);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const V={value:D.value};return D.error&&(V.error=D.error),D.mainstay.warnings.length&&(V.warning=y.details(D.mainstay.warnings)),D.mainstay.debug&&(V.debug=D.mainstay.debug),D.mainstay.artifacts&&(V.artifacts=D.mainstay.artifacts),V},u.entryAsync=async function(_,R,E){let A=m.defaults;E&&(A=m.preferences(m.defaults,E));const D=v.entry(_,R,A),V=D.mainstay;if(D.error)throw V.debug&&(D.error.debug=V.debug),D.error;if(V.externals.length){let k=D.value;const I=[];for(const S of V.externals){const x=S.state.path,O=S.schema.type==="link"?V.links.get(S.schema):null;let j,$,U=k;const he=x.length?[k]:[],pe=x.length?T(_,x):_;if(x.length){j=x[x.length-1];let G=k;for(const se of x.slice(0,-1))G=G[se],he.unshift(G);$=he[0],U=$[j]}try{const G=(ye,Re)=>(O||S.schema).$_createError(ye,U,Re,S.state,A),se=await S.method(U,{schema:S.schema,linked:O,state:S.state,prefs:E,original:pe,error:G,errorsArray:v.errorsArray,warn:(ye,Re)=>V.warnings.push((O||S.schema).$_createError(ye,U,Re,S.state,A)),message:(ye,Re)=>(O||S.schema).$_createError("external",U,Re,S.state,A,{messages:ye})});if(se===void 0||se===U)continue;if(se instanceof y.Report){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(se),A.abortEarly)break;continue}if(Array.isArray(se)&&se[m.symbols.errors]){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(...se),A.abortEarly)break;continue}$?(V.tracer.value(S.state,"rule",U,se,"external"),$[j]=se):(V.tracer.value(S.state,"rule",k,se,"external"),k=se)}catch(G){throw A.errors.label&&(G.message+=` (${S.label})`),G}}if(D.value=k,I.length)throw D.error=y.process(I,_,A),V.debug&&(D.error.debug=V.debug),D.error}if(!A.warnings&&!A.debug&&!A.artifacts)return D.value;const L={value:D.value};return V.warnings.length&&(L.warning=y.details(V.warnings)),V.debug&&(L.debug=V.debug),V.artifacts&&(L.artifacts=V.artifacts),L},v.Mainstay=class{constructor(_,R,E){this.externals=[],this.warnings=[],this.tracer=_,this.debug=R,this.links=E,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const _=this._snapshots.pop();this.externals=_.externals,this.warnings=_.warnings}commit(){this._snapshots.pop()}},v.entry=function(_,R,E){const{tracer:A,cleanup:D}=v.tracer(R,E),V=E.debug?[]:null,L=R._ids._schemaChain?new Map:null,k=new v.Mainstay(A,V,L),I=R._ids._schemaChain?[{schema:R}]:null,S=new b([],[],{mainstay:k,schemas:I}),x=u.validate(_,R,S,E);D&&R.$_root.untrace();const O=y.process(x.errors,_,E);return{value:x.value,error:O,mainstay:k}},v.tracer=function(_,R){return _.$_root._tracer?{tracer:_.$_root._tracer._register(_)}:R.debug?(c(_.$_root.trace,"Debug mode not supported"),{tracer:_.$_root.trace()._register(_),cleanup:!0}):{tracer:v.ignore}},u.validate=function(_,R,E,A,D={}){if(R.$_terms.whens&&(R=R._generate(_,E,A).schema),R._preferences&&(A=v.prefs(R,A)),R._cache&&A.cache){const O=R._cache.get(_);if(E.mainstay.tracer.debug(E,"validate","cached",!!O),O)return O}const V=(O,j,$)=>R.$_createError(O,_,j,$||E,A),L={original:_,prefs:A,schema:R,state:E,error:V,errorsArray:v.errorsArray,warn:(O,j,$)=>E.mainstay.warnings.push(V(O,j,$)),message:(O,j)=>R.$_createError("custom",_,j,E,A,{messages:O})};E.mainstay.tracer.entry(R,E);const k=R._definition;if(k.prepare&&_!==void 0&&A.convert){const O=k.prepare(_,L);if(O){if(E.mainstay.tracer.value(E,"prepare",_,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),L);_=O.value}}if(k.coerce&&_!==void 0&&A.convert&&(!k.coerce.from||k.coerce.from.includes(typeof _))){const O=k.coerce.method(_,L);if(O){if(E.mainstay.tracer.value(E,"coerced",_,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),L);_=O.value}}const I=R._flags.empty;I&&I.$_match(v.trim(_,R),E.nest(I),m.defaults)&&(E.mainstay.tracer.value(E,"empty",_,void 0),_=void 0);const S=D.presence||R._flags.presence||(R._flags._endedSwitch?null:A.presence);if(_===void 0){if(S==="forbidden")return v.finalize(_,null,L);if(S==="required")return v.finalize(_,[R.$_createError("any.required",_,null,E,A)],L);if(S==="optional"){if(R._flags.default!==m.symbols.deepDefault)return v.finalize(_,null,L);E.mainstay.tracer.value(E,"default",_,{}),_={}}}else if(S==="forbidden")return v.finalize(_,[R.$_createError("any.unknown",_,null,E,A)],L);const x=[];if(R._valids){const O=R._valids.get(_,E,A,R._flags.insensitive);if(O)return A.convert&&(E.mainstay.tracer.value(E,"valids",_,O.value),_=O.value),E.mainstay.tracer.filter(R,E,"valid",O),v.finalize(_,null,L);if(R._flags.only){const j=R.$_createError("any.only",_,{valids:R._valids.values({display:!0})},E,A);if(A.abortEarly)return v.finalize(_,[j],L);x.push(j)}}if(R._invalids){const O=R._invalids.get(_,E,A,R._flags.insensitive);if(O){E.mainstay.tracer.filter(R,E,"invalid",O);const j=R.$_createError("any.invalid",_,{invalids:R._invalids.values({display:!0})},E,A);if(A.abortEarly)return v.finalize(_,[j],L);x.push(j)}}if(k.validate){const O=k.validate(_,L);if(O&&(E.mainstay.tracer.value(E,"base",_,O.value),_=O.value,O.errors)){if(!Array.isArray(O.errors))return x.push(O.errors),v.finalize(_,x,L);if(O.errors.length)return x.push(...O.errors),v.finalize(_,x,L)}}return R._rules.length?v.rules(_,x,L):v.finalize(_,x,L)},v.rules=function(_,R,E){const{schema:A,state:D,prefs:V}=E;for(const L of A._rules){const k=A._definition.rules[L.method];if(k.convert&&V.convert){D.mainstay.tracer.log(A,D,"rule",L.name,"full");continue}let I,S=L.args;if(L._resolve.length){S=Object.assign({},S);for(const O of L._resolve){const j=k.argsByName.get(O),$=S[O].resolve(_,D,V),U=j.normalize?j.normalize($):$,he=m.validateArg(U,null,j);if(he){I=A.$_createError("any.ref",$,{arg:O,ref:S[O],reason:he},D,V);break}S[O]=U}}I=I||k.validate(_,E,S,L);const x=v.rule(I,L);if(x.errors){if(D.mainstay.tracer.log(A,D,"rule",L.name,"error"),L.warn){D.mainstay.warnings.push(...x.errors);continue}if(V.abortEarly)return v.finalize(_,x.errors,E);R.push(...x.errors)}else D.mainstay.tracer.log(A,D,"rule",L.name,"pass"),D.mainstay.tracer.value(D,"rule",_,x.value,L.name),_=x.value}return v.finalize(_,R,E)},v.rule=function(_,R){return _ instanceof y.Report?(v.error(_,R),{errors:[_],value:null}):Array.isArray(_)&&_[m.symbols.errors]?(_.forEach(E=>v.error(E,R)),{errors:_,value:null}):{errors:null,value:_}},v.error=function(_,R){return R.message&&_._setTemplate(R.message),_},v.finalize=function(_,R,E){R=R||[];const{schema:A,state:D,prefs:V}=E;if(R.length){const k=v.default("failover",void 0,R,E);k!==void 0&&(D.mainstay.tracer.value(D,"failover",_,k),_=k,R=[])}if(R.length&&A._flags.error)if(typeof A._flags.error=="function"){R=A._flags.error(R),Array.isArray(R)||(R=[R]);for(const k of R)c(k instanceof Error||k instanceof y.Report,"error() must return an Error object")}else R=[A._flags.error];if(_===void 0){const k=v.default("default",_,R,E);D.mainstay.tracer.value(D,"default",_,k),_=k}if(A._flags.cast&&_!==void 0){const k=A._definition.cast[A._flags.cast];if(k.from(_)){const I=k.to(_,E);D.mainstay.tracer.value(D,"cast",_,I,A._flags.cast),_=I}}if(A.$_terms.externals&&V.externals&&V._externals!==!1)for(const{method:k}of A.$_terms.externals)D.mainstay.externals.push({method:k,schema:A,state:D,label:y.label(A._flags,D,V)});const L={value:_,errors:R.length?R:null};return A._flags.result&&(L.value=A._flags.result==="strip"?void 0:E.original,D.mainstay.tracer.value(D,A._flags.result,_,L.value),D.shadow(_,A._flags.result)),A._cache&&V.cache!==!1&&!A._refs.length&&A._cache.set(E.original,L),_===void 0||L.errors||A._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(A._flags.artifact)||D.mainstay.artifacts.set(A._flags.artifact,[]),D.mainstay.artifacts.get(A._flags.artifact).push(D.path)),L},v.prefs=function(_,R){const E=R===m.defaults;return E&&_._preferences[m.symbols.prefs]?_._preferences[m.symbols.prefs]:(R=m.preferences(R,_._preferences),E&&(_._preferences[m.symbols.prefs]=R),R)},v.default=function(_,R,E,A){const{schema:D,state:V,prefs:L}=A,k=D._flags[_];if(L.noDefaults||k===void 0)return R;if(V.mainstay.tracer.log(D,V,"rule",_,"full"),!k)return k;if(typeof k=="function"){const I=k.length?[p(V.ancestors[0]),A]:[];try{return k(...I)}catch(S){return void E.push(D.$_createError(`any.${_}`,null,{error:S},V,L))}}return typeof k!="object"?k:k[m.symbols.literal]?k.literal:m.isResolvable(k)?k.resolve(R,V,L):p(k)},v.trim=function(_,R){if(typeof _!="string")return _;const E=R.$_getRule("trim");return E&&E.args.enabled?_.trim():_},v.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},v.errorsArray=function(){const _=[];return _[m.symbols.errors]=!0,_}},2036:(o,u,f)=>{const c=f(375),p=f(9474),g=f(8160),T={};o.exports=T.Values=class{constructor(m,y){this._values=new Set(m),this._refs=new Set(y),this._lowercase=T.lowercases(m),this._override=!1}get length(){return this._values.size+this._refs.size}add(m,y){g.isResolvable(m)?this._refs.has(m)||(this._refs.add(m),y&&y.register(m)):this.has(m,null,null,!1)||(this._values.add(m),typeof m=="string"&&this._lowercase.set(m.toLowerCase(),m))}static merge(m,y,b){if(m=m||new T.Values,y){if(y._override)return y.clone();for(const v of[...y._values,...y._refs])m.add(v)}if(b)for(const v of[...b._values,...b._refs])m.remove(v);return m.length?m:null}remove(m){g.isResolvable(m)?this._refs.delete(m):(this._values.delete(m),typeof m=="string"&&this._lowercase.delete(m.toLowerCase()))}has(m,y,b,v){return!!this.get(m,y,b,v)}get(m,y,b,v){if(!this.length)return!1;if(this._values.has(m))return{value:m};if(typeof m=="string"&&m&&v){const _=this._lowercase.get(m.toLowerCase());if(_)return{value:_}}if(!this._refs.size&&typeof m!="object")return!1;if(typeof m=="object"){for(const _ of this._values)if(p(_,m))return{value:_}}if(y)for(const _ of this._refs){const R=_.resolve(m,y,b,null,{in:!0});if(R===void 0)continue;const E=_.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const A of E)if(typeof A==typeof m){if(v&&m&&typeof m=="string"){if(A.toLowerCase()===m.toLowerCase())return{value:A,ref:_}}else if(p(A,m))return{value:A,ref:_}}}return!1}override(){this._override=!0}values(m){if(m&&m.display){const y=[];for(const b of[...this._values,...this._refs])b!==void 0&&y.push(b);return y}return Array.from([...this._values,...this._refs])}clone(){const m=new T.Values(this._values,this._refs);return m._override=this._override,m}concat(m){c(!m._override,"Cannot concat override set of values");const y=new T.Values([...this._values,...m._values],[...this._refs,...m._refs]);return y._override=this._override,y}describe(){const m=[];this._override&&m.push({override:!0});for(const y of this._values.values())m.push(y&&typeof y=="object"?{value:y}:y);for(const y of this._refs.values())m.push(y.describe());return m}},T.Values.prototype[g.symbols.values]=!0,T.Values.prototype.slice=T.Values.prototype.clone,T.lowercases=function(m){const y=new Map;if(m)for(const b of m)typeof b=="string"&&y.set(b.toLowerCase(),b);return y}},978:(o,u,f)=>{const c=f(375),p=f(8571),g=f(1687),T=f(9621),m={};o.exports=function(y,b,v={}){if(c(y&&typeof y=="object","Invalid defaults value: must be an object"),c(!b||b===!0||typeof b=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!b)return null;if(v.shallow)return m.applyToDefaultsWithShallow(y,b,v);const _=p(y);if(b===!0)return _;const R=v.nullOverride!==void 0&&v.nullOverride;return g(_,b,{nullOverride:R,mergeArrays:!1})},m.applyToDefaultsWithShallow=function(y,b,v){const _=v.shallow;c(Array.isArray(_),"Invalid keys");const R=new Map,E=b===!0?null:new Set;for(let V of _){V=Array.isArray(V)?V:V.split(".");const L=T(y,V);L&&typeof L=="object"?R.set(L,E&&T(b,V)||L):E&&E.add(V)}const A=p(y,{},R);if(!E)return A;for(const V of E)m.reachCopy(A,b,V);const D=v.nullOverride!==void 0&&v.nullOverride;return g(A,b,{nullOverride:D,mergeArrays:!1})},m.reachCopy=function(y,b,v){for(const E of v){if(!(E in b))return;const A=b[E];if(typeof A!="object"||A===null)return;b=A}const _=b;let R=y;for(let E=0;E<v.length-1;++E){const A=v[E];typeof R[A]!="object"&&(R[A]={}),R=R[A]}R[v[v.length-1]]=_}},375:(o,u,f)=>{const c=f(7916);o.exports=function(p,...g){if(!p)throw g.length===1&&g[0]instanceof Error?g[0]:new c(g)}},8571:(o,u,f)=>{const c=f(9621),p=f(4277),g=f(7043),T={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=T.clone=function(m,y={},b=null){if(typeof m!="object"||m===null)return m;let v=T.clone,_=b;if(y.shallow){if(y.shallow!==!0)return T.cloneWithShallow(m,y);v=D=>D}else if(_){const D=_.get(m);if(D)return D}else _=new Map;const R=p.getInternalProto(m);if(R===p.buffer)return!1;if(R===p.date)return new Date(m.getTime());if(R===p.regex)return new RegExp(m);const E=T.base(m,R,y);if(E===m)return m;if(_&&_.set(m,E),R===p.set)for(const D of m)E.add(v(D,y,_));else if(R===p.map)for(const[D,V]of m)E.set(D,v(V,y,_));const A=g.keys(m,y);for(const D of A){if(D==="__proto__")continue;if(R===p.array&&D==="length"){E.length=m.length;continue}const V=Object.getOwnPropertyDescriptor(m,D);V?V.get||V.set?Object.defineProperty(E,D,V):V.enumerable?E[D]=v(m[D],y,_):Object.defineProperty(E,D,{enumerable:!1,writable:!0,configurable:!0,value:v(m[D],y,_)}):Object.defineProperty(E,D,{enumerable:!0,writable:!0,configurable:!0,value:v(m[D],y,_)})}return E},T.cloneWithShallow=function(m,y){const b=y.shallow;(y=Object.assign({},y)).shallow=!1;const v=new Map;for(const _ of b){const R=c(m,_);typeof R!="object"&&typeof R!="function"||v.set(R,R)}return T.clone(m,y,v)},T.base=function(m,y,b){if(b.prototype===!1)return T.needsProtoHack.has(y)?new y.constructor:y===p.array?[]:{};const v=Object.getPrototypeOf(m);if(v&&v.isImmutable)return m;if(y===p.array){const _=[];return v!==y&&Object.setPrototypeOf(_,v),_}if(T.needsProtoHack.has(y)){const _=new v.constructor;return v!==y&&Object.setPrototypeOf(_,v),_}return Object.create(v)}},9474:(o,u,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(g,T,m){return m=Object.assign({prototype:!0},m),!!p.isDeepEqual(g,T,m,[])},p.isDeepEqual=function(g,T,m,y){if(g===T)return g!==0||1/g==1/T;const b=typeof g;if(b!==typeof T||g===null||T===null)return!1;if(b==="function"){if(!m.deepFunction||g.toString()!==T.toString())return!1}else if(b!=="object")return g!=g&&T!=T;const v=p.getSharedType(g,T,!!m.prototype);switch(v){case c.buffer:return!1;case c.promise:return g===T;case c.regex:return g.toString()===T.toString();case p.mismatched:return!1}for(let _=y.length-1;_>=0;--_)if(y[_].isSame(g,T))return!0;y.push(new p.SeenEntry(g,T));try{return!!p.isDeepEqualObj(v,g,T,m,y)}finally{y.pop()}},p.getSharedType=function(g,T,m){if(m)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(T)?p.mismatched:c.getInternalProto(g);const y=c.getInternalProto(g);return y!==c.getInternalProto(T)?p.mismatched:y},p.valueOf=function(g){const T=g.valueOf;if(T===void 0)return g;try{return T.call(g)}catch(m){return m}},p.hasOwnEnumerableProperty=function(g,T){return Object.prototype.propertyIsEnumerable.call(g,T)},p.isSetSimpleEqual=function(g,T){for(const m of Set.prototype.values.call(g))if(!Set.prototype.has.call(T,m))return!1;return!0},p.isDeepEqualObj=function(g,T,m,y,b){const{isDeepEqual:v,valueOf:_,hasOwnEnumerableProperty:R}=p,{keys:E,getOwnPropertySymbols:A}=Object;if(g===c.array){if(!y.part){if(T.length!==m.length)return!1;for(let I=0;I<T.length;++I)if(!v(T[I],m[I],y,b))return!1;return!0}for(const I of T)for(const S of m)if(v(I,S,y,b))return!0}else if(g===c.set){if(T.size!==m.size)return!1;if(!p.isSetSimpleEqual(T,m)){const I=new Set(Set.prototype.values.call(m));for(const S of Set.prototype.values.call(T)){if(I.delete(S))continue;let x=!1;for(const O of I)if(v(S,O,y,b)){I.delete(O),x=!0;break}if(!x)return!1}}}else if(g===c.map){if(T.size!==m.size)return!1;for(const[I,S]of Map.prototype.entries.call(T))if(S===void 0&&!Map.prototype.has.call(m,I)||!v(S,Map.prototype.get.call(m,I),y,b))return!1}else if(g===c.error&&(T.name!==m.name||T.message!==m.message))return!1;const D=_(T),V=_(m);if((T!==D||m!==V)&&!v(D,V,y,b))return!1;const L=E(T);if(!y.part&&L.length!==E(m).length&&!y.skip)return!1;let k=0;for(const I of L)if(y.skip&&y.skip.includes(I))m[I]===void 0&&++k;else if(!R(m,I)||!v(T[I],m[I],y,b))return!1;if(!y.part&&L.length-k!==E(m).length)return!1;if(y.symbols!==!1){const I=A(T),S=new Set(A(m));for(const x of I){if(!y.skip||!y.skip.includes(x)){if(R(T,x)){if(!R(m,x)||!v(T[x],m[x],y,b))return!1}else if(R(m,x))return!1}S.delete(x)}for(const x of S)if(R(m,x))return!1}return!0},p.SeenEntry=class{constructor(g,T){this.obj=g,this.ref=T}isSame(g,T){return this.obj===g&&this.ref===T}}},7916:(o,u,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:c(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const g=f.charCodeAt(p);u.isSafe(g)?c+=f[p]:c+=u.escapeHtmlChar(g)}return c},u.escapeHtmlChar=function(f){return u.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},u.isSafe=function(f){return u.safeCharCodes.has(f)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,f)=>{const c=f(375),p=f(8571),g=f(7043),T={};o.exports=T.merge=function(m,y,b){if(c(m&&typeof m=="object","Invalid target value: must be an object"),c(y==null||typeof y=="object","Invalid source value: must be null, undefined, or an object"),!y)return m;if(b=Object.assign({nullOverride:!0,mergeArrays:!0},b),Array.isArray(y)){c(Array.isArray(m),"Cannot merge array onto an object"),b.mergeArrays||(m.length=0);for(let _=0;_<y.length;++_)m.push(p(y[_],{symbols:b.symbols}));return m}const v=g.keys(y,b);for(let _=0;_<v.length;++_){const R=v[_];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(y,R))continue;const E=y[R];if(E&&typeof E=="object"){if(m[R]===E)continue;!m[R]||typeof m[R]!="object"||Array.isArray(m[R])!==Array.isArray(E)||E instanceof Date||E instanceof RegExp?m[R]=p(E,{symbols:b.symbols}):T.merge(m[R],E,b)}else(E!=null||b.nullOverride)&&(m[R]=E)}return m}},9621:(o,u,f)=>{const c=f(375),p={};o.exports=function(g,T,m){if(T===!1||T==null)return g;typeof(m=m||{})=="string"&&(m={separator:m});const y=Array.isArray(T);c(!y||!m.separator,"Separator option is not valid for array-based chain");const b=y?T:T.split(m.separator||".");let v=g;for(let _=0;_<b.length;++_){let R=b[_];const E=m.iterables&&p.iterables(v);if(Array.isArray(v)||E==="set"){const A=Number(R);Number.isInteger(A)&&(R=A<0?v.length+A:A)}if(!v||typeof v=="function"&&m.functions===!1||!E&&v[R]===void 0){c(!m.strict||_+1===b.length,"Missing segment",R,"in reach path ",T),c(typeof v=="object"||m.functions===!0||typeof v!="function","Invalid segment",R,"in reach path ",T),v=m.default;break}v=E?E==="set"?[...v][R]:v.get(R):v[R]}return v},p.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,u)=>{const f={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||u.generic}},7043:(o,u)=>{u.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,u,f)=>{const c=f(375),p={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,T){const m=[].concat((T=T||{}).before||[]),y=[].concat(T.after||[]),b=T.group||"?",v=T.sort||0;c(!m.includes(b),`Item cannot come before itself: ${b}`),c(!m.includes("?"),"Item cannot come before unassociated items"),c(!y.includes(b),`Item cannot come after itself: ${b}`),c(!y.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const _ of g){const R={seq:this._items.length,sort:v,before:m,after:y,group:b,node:_};this._items.push(R)}if(!T.manual){const _=this._sort();c(_,"item",b!=="?"?`added into group ${b}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const m of g)if(m)for(const y of m._items)this._items.push(Object.assign({},y));this._items.sort(p.mergeSort);for(let m=0;m<this._items.length;++m)this._items[m].seq=m;const T=this._sort();return c(T,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return c(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},T=Object.create(null),m=Object.create(null);for(const R of this._items){const E=R.seq,A=R.group;m[A]=m[A]||[],m[A].push(E),g[E]=R.before;for(const D of R.after)T[D]=T[D]||[],T[D].push(E)}for(const R in g){const E=[];for(const A in g[R]){const D=g[R][A];m[D]=m[D]||[],E.push(...m[D])}g[R]=E}for(const R in T)if(m[R])for(const E of m[R])g[E].push(...T[R]);const y={};for(const R in g){const E=g[R];for(const A of E)y[A]=y[A]||[],y[A].push(R)}const b={},v=[];for(let R=0;R<this._items.length;++R){let E=R;if(y[R]){E=null;for(let A=0;A<this._items.length;++A){if(b[A]===!0)continue;y[A]||(y[A]=[]);const D=y[A].length;let V=0;for(let L=0;L<D;++L)b[y[A][L]]&&++V;if(V===D){E=A;break}}}E!==null&&(b[E]=!0,v.push(E))}if(v.length!==this._items.length)return!1;const _={};for(const R of this._items)_[R.seq]=R;this._items=[],this.nodes=[];for(const R of v){const E=_[R];this.nodes.push(E.node),this._items.push(E)}return!0}},p.mergeSort=(g,T)=>g.sort===T.sort?0:g.sort<T.sort?-1:1},5380:(o,u,f)=>{const c=f(443),p=f(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(T,m={}){if(!T)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof T!="string")throw new Error("Invalid input: domain must be a string");if(T.length>256)return p.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(T)){if(m.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");T=T.normalize("NFC")}if(g.domainControlRx.test(T))return p.code("DOMAIN_INVALID_CHARS");T=g.punycode(T),m.allowFullyQualified&&T[T.length-1]==="."&&(T=T.slice(0,-1));const y=m.minDomainSegments||g.minDomainSegments,b=T.split(".");if(b.length<y)return p.code("DOMAIN_SEGMENTS_COUNT");if(m.maxDomainSegments&&b.length>m.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=m.tlds;if(v){const _=b[b.length-1].toLowerCase();if(v.deny&&v.deny.has(_)||v.allow&&!v.allow.has(_))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let _=0;_<b.length;++_){const R=b[_];if(!R.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(_<b.length-1){if(!g.domainSegmentRx.test(R))return p.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(R))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(T,m){return!u.analyze(T,m)},g.punycode=function(T){T.includes("%")&&(T=T.replace(/%/g,"%25"));try{return new g.URL(`http://${T}`).host}catch{return T}}},1745:(o,u,f)=>{const c=f(9848),p=f(5380),g=f(2178),T={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(m,y){return T.email(m,y)},u.isValid=function(m,y){return!T.email(m,y)},T.email=function(m,y={}){if(typeof m!="string")throw new Error("Invalid input: email must be a string");if(!m)return g.code("EMPTY_STRING");const b=!T.nonAsciiRx.test(m);if(!b){if(y.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");m=m.normalize("NFC")}const v=m.split("@");if(v.length!==2)return v.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[_,R]=v;if(!_)return g.code("EMPTY_LOCAL");if(!y.ignoreLength){if(m.length>254)return g.code("ADDRESS_TOO_LONG");if(T.encoder.encode(_).length>64)return g.code("LOCAL_TOO_LONG")}return T.local(_,b)||p.analyze(R,y)},T.local=function(m,y){const b=m.split(".");for(const v of b){if(!v.length)return g.code("EMPTY_LOCAL_SEGMENT");if(y){if(!T.atextRx.test(v))return g.code("INVALID_LOCAL_CHARS")}else for(const _ of v){if(T.atextRx.test(_))continue;const R=T.binary(_);if(!T.atomRx.test(R))return g.code("INVALID_LOCAL_CHARS")}}},T.binary=function(m){return Array.from(T.encoder.encode(m)).map(y=>String.fromCharCode(y)).join("")},T.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,T.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(f){return{code:f,error:u.codes[f]}}},9959:(o,u,f)=>{const c=f(375),p=f(5752);u.regex=function(g={}){c(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const T=g.cidr?g.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(T),"options.cidr must be one of required, optional, forbidden"),c(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let m=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(m)||(m=[m]),c(m.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<m.length;++v)c(typeof m[v]=="string","options.version must only contain strings"),m[v]=m[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(m[v]),"options.version contains unknown version "+m[v]+" - must be one of ipv4, ipv6, ipvfuture");m=Array.from(new Set(m));const y=`(?:${m.map(v=>{if(T==="forbidden")return p.ip[v];const _=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return T==="required"?`${p.ip[v]}${_}`:`${p.ip[v]}(?:${_})?`}).join("|")})`,b=new RegExp(`^${y}$`);return{cidr:T,versions:m,regex:b,raw:y}}},5752:(o,u,f)=>{const c=f(375),p=f(6064),g={generate:function(){const T={},m="\\dA-Fa-f",y="["+m+"]",b="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",_="%"+m,R=b+_+v+":@",E="["+R+"]",A="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";T.ipv4address="(?:"+A+"\\.){3}"+A;const D=y+"{1,4}",V="(?:"+D+":"+D+"|"+T.ipv4address+")",L="(?:"+D+":){6}"+V,k="::(?:"+D+":){5}"+V,I="(?:"+D+")?::(?:"+D+":){4}"+V,S="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+V,x="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+V,O="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+V,j="(?:(?:"+D+":){0,4}"+D+")?::"+V,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,U="(?:(?:"+D+":){0,6}"+D+")?::";T.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",T.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",T.ipv6address="(?:"+L+"|"+k+"|"+I+"|"+S+"|"+x+"|"+O+"|"+j+"|"+$+"|"+U+")",T.ipvFuture="v"+y+"+\\.["+b+v+":]+",T.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",T.schemeRegex=new RegExp(T.scheme);const he="["+b+_+v+":]*",pe="["+b+_+v+"]{1,255}",G="(?:\\[(?:"+T.ipv6address+"|"+T.ipvFuture+")\\]|"+T.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+G+"(?::\\d*)?",ye="(?:"+he+"@)?("+G+")(?::\\d*)?",Re=E+"*",B=E+"+",ne="(?:\\/"+Re+")*",de="\\/(?:"+B+ne+")?",ce=B+ne,_e="["+b+_+v+"@]+"+ne,je="(?:\\/\\/\\/"+Re+ne+")";return T.hierPart="(?:(?:\\/\\/"+se+ne+")|"+de+"|"+ce+"|"+je+")",T.hierPartCapture="(?:(?:\\/\\/"+ye+ne+")|"+de+"|"+ce+")",T.relativeRef="(?:(?:\\/\\/"+se+ne+")|"+de+"|"+_e+"|)",T.relativeRefCapture="(?:(?:\\/\\/"+ye+ne+")|"+de+"|"+_e+"|)",T.query="["+R+"\\/\\?]*(?=#|$)",T.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",T.fragment="["+R+"\\/\\?]*",T}};g.rfc3986=g.generate(),u.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(T){const m=g.rfc3986,y="(?:\\?"+(T.allowQuerySquareBrackets?m.queryWithSquareBrackets:m.query)+")?(?:#"+m.fragment+")?",b=T.domain?m.relativeRefCapture:m.relativeRef;if(T.relativeOnly)return g.wrap(b+y);let v="";if(T.scheme){c(T.scheme instanceof RegExp||typeof T.scheme=="string"||Array.isArray(T.scheme),"scheme must be a RegExp, String, or Array");const E=[].concat(T.scheme);c(E.length>=1,"scheme must have at least 1 scheme specified");const A=[];for(let D=0;D<E.length;++D){const V=E[D];c(V instanceof RegExp||typeof V=="string","scheme at position "+D+" must be a RegExp or String"),V instanceof RegExp?A.push(V.source.toString()):(c(m.schemeRegex.test(V),"scheme at position "+D+" must be a valid scheme"),A.push(p(V)))}v=A.join("|")}const _="(?:"+(v?"(?:"+v+")":m.scheme)+":"+(T.domain?m.hierPartCapture:m.hierPart)+")",R=T.allowRelative?"(?:"+_+"|"+b+")":_;return g.wrap(R+y,v)},g.wrap=function(T,m){return{raw:T=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${T}`,regex:new RegExp(`^${T}$`),scheme:m}},g.uriRegex=g.createRegex({}),u.regex=function(T={}){return T.scheme||T.allowRelative||T.relativeOnly||T.allowQuerySquareBrackets||T.domain?g.createRegex(T):g.uriRegex}},1447:(o,u)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const g in p.constants){const T=p.constants[g];if(T!==null&&!["boolean","number","string"].includes(typeof T))throw new Error(`Formula constant ${g} contains invalid ${typeof T} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],g="",T=0,m=!1;const y=v=>{if(T)throw new Error("Formula missing closing parenthesis");const _=p.length?p[p.length-1]:null;if(m||g||v){if(_&&_.type==="reference"&&v===")")return _.type="function",_.value=this._subFormula(g,_.value),void(g="");if(v===")"){const R=new u.Parser(g,this.settings);p.push({type:"segment",value:R})}else if(m){if(m==="]")return p.push({type:"reference",value:g}),void(g="");p.push({type:"literal",value:g})}else if(f.operatorCharacters.includes(g))_&&_.type==="operator"&&f.operators.includes(_.value+g)?_.value+=g:p.push({type:"operator",value:g});else if(g.match(f.numberRx))p.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)p.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);p.push({type:"reference",value:g})}g=""}};for(const v of c)m?v===m?(y(),m=!1):g+=v:T?v==="("?(g+=v,++T):v===")"?(--T,T?g+=v:y(v)):g+=v:v in f.literals?m=f.literals[v]:v==="("?(y(),++T):f.operatorCharacters.includes(v)?(y(),g=v,y()):v!==" "?g+=v:y();y(),p=p.map((v,_)=>v.type!=="operator"||v.value!=="-"||_&&p[_-1].type!=="operator"?v:{type:"operator",value:"n"});let b=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!b)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(b)throw new Error("Formula missing expected operator");b=!b}if(!b)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const g=this.settings.functions[p];if(typeof g!="function")throw new Error(`Formula contains unknown function ${p}`);let T=[];if(c){let m="",y=0,b=!1;const v=()=>{if(!m)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);T.push(m),m=""};for(let _=0;_<c.length;++_){const R=c[_];b?(m+=R,R===b&&(b=!1)):R in f.literals&&!y?(m+=R,b=f.literals[R]):R!==","||y?(m+=R,R==="("?++y:R===")"&&--y):v()}v()}return T=T.map(m=>new u.Parser(m,this.settings)),function(m){const y=[];for(const b of T)y.push(b.evaluate(m));return g.call(m,...y)}}evaluate(c){const p=this._parts.slice();for(let g=p.length-2;g>=0;--g){const T=p[g];if(T&&T.type==="operator"){const m=p[g+1];p.splice(g+1,1);const y=f.evaluate(m,c);p[g]=f.single(T.value,y)}}return f.operatorsOrder.forEach(g=>{for(let T=1;T<p.length-1;)if(g.includes(p[T])){const m=p[T],y=f.evaluate(p[T-1],c),b=f.evaluate(p[T+1],c);p.splice(T,2);const v=f.calculate(m,y,b);p[T-1]=v===0?0:v}else T+=2}),f.evaluate(p[0],c)}},u.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const g=-p;return g===0?0:g},f.calculate=function(c,p,g){if(c==="??")return f.exists(p)?p:g;if(typeof p=="string"||typeof g=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(g)?g:"")}else switch(c){case"^":return Math.pow(p,g);case"*":return p*g;case"/":return p/g;case"%":return p%g;case"+":return p+g;case"-":return p-g}switch(c){case"<":return p<g;case"<=":return p<=g;case">":return p>g;case">=":return p>=g;case"==":return p===g;case"!=":return p!==g;case"&&":return p&&g;case"||":return p||g}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},s={},function o(u){var f=s[u];if(f!==void 0)return f.exports;var c=s[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(5107);var r,s})}(bd)),bd.exports}var oC=sC();const Fa=P_(oC),lC=Fa.object({img:Fa.string().required().uri(),name:Fa.string().min(3).max(30).required(),description:Fa.string().required(),category:Fa.string().required(),price:Fa.number().required().min(1),discount:Fa.number().max(100)});function uC(i){let e={img:"",name:"",description:"",category:"",price:"",discount:""},r={img:"",name:"",description:"",category:"",price:"",discount:""};const s=lC.validate(i);s.error&&s.error.details.forEach(u=>{const f=u.context.key;e[f]="invalid",f==="img"?r.img="Lägg till en bild":f==="name"?r.name="Fyll i produktens namn":f==="description"?r.description="Fyll i beskrivning":f==="category"?r.category="Välj en kategori":f==="price"?r.price="Priset kan inte vara 0":f==="discount"&&(r.discount="Rabatten kan inte vara mer än 100%")});const o=!s.error;return{css:e,message:r,formIsValid:o}}function cC({setAddToy:i}){const{setSummerToys:e}=rs(),[r,s]=re.useState({img:"",name:"",description:"",category:"",price:0,discount:0}),[o,u]=re.useState({css:{},message:{}}),f=c=>{c.preventDefault();const{css:p,message:g,formIsValid:T}=uC(r);u({css:p,message:g}),T&&(console.log("Submitting",r),i(!1),$x(e,r))};return W.jsxs("form",{onSubmit:f,className:"add-toy",children:[W.jsx("h1",{children:"Lägg till en leksak"}),W.jsx("input",{className:o.css.img,type:"text",placeholder:"Bild *",onChange:c=>s(p=>({...p,img:c.target.value})),value:r.img}),W.jsx("p",{className:"error",children:o.message.img}),W.jsx("input",{className:o.css.name,type:"text",placeholder:"Namn *",onChange:c=>s(p=>({...p,name:c.target.value})),value:r.name}),W.jsx("p",{className:"error",children:o.message.name}),W.jsx("input",{className:o.css.description,type:"text",placeholder:"Beskrivning *",onChange:c=>s(p=>({...p,description:c.target.value})),value:r.description}),W.jsx("p",{className:"error",children:o.message.description}),W.jsxs("select",{className:o.css.category,name:"category",onChange:c=>s(p=>({...p,category:c.target.value})),children:[W.jsx("option",{value:"",disabled:!0,children:"Kategori *"}),W.jsx("option",{value:"outside",children:"Uteleksaker"}),W.jsx("option",{value:"beach",children:"Till stranden"}),W.jsx("option",{value:"water",children:"Vattenlek"}),W.jsx("option",{value:"sport",children:"Rörelse & Sport"})]}),W.jsx("p",{className:"error",children:o.message.category}),W.jsx("input",{className:o.css.price,type:"number",placeholder:"Pris *",onChange:c=>s(p=>({...p,price:c.target.value})),value:r.price}),W.jsx("p",{className:"error",children:o.message.price}),W.jsx("input",{className:o.css.discount,type:"number",placeholder:"Rabatt",onChange:c=>s(p=>({...p,discount:c.target.value})),value:r.discount}),W.jsx("p",{className:"error",children:o.message.discount}),W.jsxs("div",{className:"add-toy-buttons",children:[W.jsx("button",{onClick:()=>i(!1),children:"Avbryt"}),W.jsx("button",{type:"submit",children:"Lägg till"})]})]})}function fC(){const{storeToysList:i,switchIsLoggedIn:e,setSummerToys:r}=rs(),s=Wd(),[o,u]=re.useState(!1),[f,c]=re.useState(!1);function p(){s("/"),e()}return W.jsxs("main",{className:"admin-page",children:[W.jsx("button",{className:"admin-buttons",onClick:()=>u(),children:"Redigera"}),W.jsx("button",{className:"admin-buttons",onClick:()=>c(!0),children:"Lägg till"}),W.jsx("button",{className:"admin-buttons",onClick:()=>p(),children:"Logga ut"}),f&&W.jsx(cC,{setAddToy:c}),W.jsxs("table",{children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{}),W.jsx("th",{children:"Bild"}),W.jsx("th",{children:"Namn"}),W.jsx("th",{children:"Beskrivning"}),W.jsx("th",{children:"Kategori"}),W.jsx("th",{children:"Pris"}),W.jsx("th",{children:"Rabatt"})]})}),W.jsx("tbody",{children:i.map(g=>W.jsxs("tr",{className:"product-on-edit",children:[W.jsx("td",{className:"edit-buttons",children:W.jsx("p",{children:W.jsx("button",{onClick:()=>Bx(r,g.id),children:"Ta bort"})})}),W.jsx("td",{children:W.jsx("img",{src:g.img,alt:"toy"})}),W.jsx("td",{children:g.name}),W.jsx("td",{children:g.description}),W.jsx("td",{children:g.category}),W.jsxs("td",{children:[g.oldPrice?g.oldPrice:g.price,":-"]}),W.jsxs("td",{children:[g.discount,"%"]})]},g.id))})]})]})}const hC=RS([{path:"/",Component:Kx,children:[{index:!0,Component:tC},{path:"/products",Component:rC},{path:"/cart",Component:iC},{path:"/login",Component:aC},{path:"/admin",Component:fC}]}]);OT.createRoot(document.getElementById("root")).render(W.jsx(re.StrictMode,{children:W.jsx(Jw,{router:hC})}));
